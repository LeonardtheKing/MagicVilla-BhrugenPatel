2023-09-09 20:17:58.446 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-09 20:17:58.711 +01:00 [DBG] Hosting starting
2023-09-09 20:17:58.825 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-09 20:17:58.841 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-09 20:17:59.078 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-09 20:17:59.185 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-09 20:17:59.191 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 20:17:59.239 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-09 20:17:59.244 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 20:17:59.299 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-09 20:17:59.305 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-09 20:17:59.311 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-09 20:17:59.312 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-09 20:18:00.556 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-09 20:18:00.669 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-09 20:18:00.669 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-09 20:18:00.669 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-09 20:18:00.669 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-09 20:18:00.669 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-09 20:18:00.670 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-09 20:18:00.670 +01:00 [INF] Hosting environment: Development
2023-09-09 20:18:00.670 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-09 20:18:00.670 +01:00 [DBG] Hosting started
2023-09-09 20:18:01.098 +01:00 [DBG] Connection id "0HMTHD5TTS7CS" accepted.
2023-09-09 20:18:01.102 +01:00 [DBG] Connection id "0HMTHD5TTS7CS" started.
2023-09-09 20:18:01.147 +01:00 [DBG] Connection id "0HMTHD5TTS7CT" accepted.
2023-09-09 20:18:01.147 +01:00 [DBG] Connection id "0HMTHD5TTS7CT" started.
2023-09-09 20:18:01.813 +01:00 [DBG] Connection id "0HMTHD5TTS7CU" accepted.
2023-09-09 20:18:01.814 +01:00 [DBG] Connection id "0HMTHD5TTS7CV" accepted.
2023-09-09 20:18:01.821 +01:00 [DBG] Connection id "0HMTHD5TTS7CU" started.
2023-09-09 20:18:01.821 +01:00 [DBG] Connection id "0HMTHD5TTS7CV" started.
2023-09-09 20:18:02.073 +01:00 [DBG] Connection id "0HMTHD5TTS7CV" received FIN.
2023-09-09 20:18:02.074 +01:00 [DBG] Connection id "0HMTHD5TTS7D0" accepted.
2023-09-09 20:18:02.075 +01:00 [DBG] Connection id "0HMTHD5TTS7CU" received FIN.
2023-09-09 20:18:02.075 +01:00 [DBG] Connection id "0HMTHD5TTS7D0" started.
2023-09-09 20:18:02.095 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 20:18:02.095 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 20:18:02.109 +01:00 [DBG] Connection 0HMTHD5TTS7D0 established using the following protocol: "Tls12"
2023-09-09 20:18:02.229 +01:00 [DBG] Connection id "0HMTHD5TTS7CV" stopped.
2023-09-09 20:18:02.229 +01:00 [DBG] Connection id "0HMTHD5TTS7CU" stopped.
2023-09-09 20:18:02.231 +01:00 [DBG] Connection id "0HMTHD5TTS7CU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:18:02.239 +01:00 [DBG] Connection id "0HMTHD5TTS7CV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:18:02.360 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-09 20:18:02.507 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-09 20:18:02.602 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-09 20:18:02.603 +01:00 [DBG] Request did not match any endpoints
2023-09-09 20:18:02.747 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 394.5989ms
2023-09-09 20:18:02.777 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-09 20:18:02.778 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-09 20:18:02.778 +01:00 [DBG] Request did not match any endpoints
2023-09-09 20:18:03.337 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-09 20:18:03.880 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-09 20:18:03.880 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-09 20:18:03.880 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-09 20:18:03.880 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-09 20:18:03.880 +01:00 [DBG] Request did not match any endpoints
2023-09-09 20:18:03.880 +01:00 [DBG] Request did not match any endpoints
2023-09-09 20:18:03.880 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-09 20:18:03.880 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-09 20:18:03.880 +01:00 [DBG] Request did not match any endpoints
2023-09-09 20:18:03.880 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-09 20:18:03.892 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-09 20:18:03.895 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 14.3471ms
2023-09-09 20:18:03.895 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 1117.9568ms
2023-09-09 20:18:03.924 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-09 20:18:03.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 49.9842ms
2023-09-09 20:18:03.953 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-09 20:18:03.953 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 72.9997ms
2023-09-09 20:18:04.021 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-09 20:18:04.029 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-09 20:18:04.029 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 149.5278ms
2023-09-09 20:18:04.116 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 94.2866ms
2023-09-09 20:18:04.576 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-09 20:18:04.576 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-09 20:18:04.576 +01:00 [DBG] Request did not match any endpoints
2023-09-09 20:18:05.195 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 618.7285ms
2023-09-09 20:18:11.152 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-09-09 20:18:11.153 +01:00 [DBG] Connection id "0HMTHD5TTS7CS" stopped.
2023-09-09 20:18:11.154 +01:00 [DBG] Connection id "0HMTHD5TTS7CS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:18:11.155 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-09-09 20:18:11.155 +01:00 [DBG] Connection id "0HMTHD5TTS7CT" stopped.
2023-09-09 20:18:11.156 +01:00 [DBG] Connection id "0HMTHD5TTS7CT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:19:31.273 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 97
2023-09-09 20:19:31.331 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-09 20:19:31.381 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-09 20:19:31.393 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 20:19:31.394 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 20:19:31.596 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 20:19:31.604 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 20:19:31.739 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 20:19:31.740 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 20:19:31.741 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 20:19:31.741 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 20:19:31.741 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 20:19:31.741 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 20:19:31.744 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 20:19:32.265 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-09 20:19:32.389 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 20:19:32.425 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 20:19:32.430 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-09 20:19:32.433 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 20:19:32.433 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 20:19:32.487 +01:00 [DBG] Connection id "0HMTHD5TTS7D0", Request id "0HMTHD5TTS7D0:00000011": started reading request body.
2023-09-09 20:19:32.488 +01:00 [DBG] Connection id "0HMTHD5TTS7D0", Request id "0HMTHD5TTS7D0:00000011": done reading request body.
2023-09-09 20:19:32.884 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 20:19:32.885 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 20:19:32.885 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 20:19:32.912 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 20:19:34.944 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-09 20:19:34.944 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-09 20:19:36.249 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 20:19:36.532 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-09 20:19:37.754 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-09 20:19:37.925 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 20:19:38.123 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (181ms).
2023-09-09 20:19:38.169 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:39.532 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:39.569 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 20:19:39.839 +01:00 [INF] Executed DbCommand (275ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 20:19:39.878 +01:00 [DBG] A data reader was disposed.
2023-09-09 20:19:39.890 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:39.921 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:40.041 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-09-09 20:19:40.059 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-09 20:19:40.131 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 20:19:40.131 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 20:19:40.172 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:40.191 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:40.195 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-09 20:19:40.305 +01:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-09 20:19:40.373 +01:00 [DBG] A data reader was disposed.
2023-09-09 20:19:40.394 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:40.397 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:40.777 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 20:19:40.805 +01:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-09 20:19:40.813 +01:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-09 20:19:40.894 +01:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-09 20:19:40.967 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:40.968 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:40.975 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-09 20:19:41.011 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-09 20:19:41.205 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 20:19:41.206 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 20:19:41.212 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-09 20:19:41.235 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-09 20:19:41.249 +01:00 [DBG] A data reader was disposed.
2023-09-09 20:19:41.269 +01:00 [DBG] Committing transaction.
2023-09-09 20:19:41.289 +01:00 [DBG] Committed transaction.
2023-09-09 20:19:41.303 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:41.303 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:41.314 +01:00 [DBG] Disposing transaction.
2023-09-09 20:19:41.345 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 20:19:41.356 +01:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-09 20:19:41.378 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2023-09-09 20:19:41.387 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-09 20:19:41.388 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 20:19:41.388 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 20:19:41.388 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:41.388 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:41.388 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-09-09 20:19:41.394 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-09-09 20:19:41.395 +01:00 [DBG] A data reader was disposed.
2023-09-09 20:19:41.395 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:41.395 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:41.421 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 20:19:41.421 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 20:19:41.422 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:41.422 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:41.422 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-09-09 20:19:41.423 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-09-09 20:19:41.424 +01:00 [DBG] A data reader was disposed.
2023-09-09 20:19:41.424 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:41.424 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:19:41.611 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 20:19:41.618 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 20:19:41.618 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 20:19:41.618 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 20:19:41.619 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 20:19:41.620 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 20:19:41.812 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 10049.7598ms
2023-09-09 20:19:41.877 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 20:19:41.898 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 20:19:41.907 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 97 - 200 68 application/json;+charset=utf-8 10634.0146ms
2023-09-09 20:20:43.936 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 58
2023-09-09 20:20:43.965 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 20:20:43.965 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 20:20:43.966 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 20:20:43.966 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 20:20:43.967 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 20:20:43.968 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 20:20:43.980 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 20:20:43.980 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 20:20:43.980 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 20:20:43.980 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 20:20:43.980 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 20:20:43.981 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 20:20:43.981 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 20:20:44.013 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 20:20:44.015 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 20:20:44.015 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 20:20:44.016 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 20:20:44.016 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 20:20:44.016 +01:00 [DBG] Connection id "0HMTHD5TTS7D0", Request id "0HMTHD5TTS7D0:00000013": started reading request body.
2023-09-09 20:20:44.016 +01:00 [DBG] Connection id "0HMTHD5TTS7D0", Request id "0HMTHD5TTS7D0:00000013": done reading request body.
2023-09-09 20:20:44.021 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 20:20:44.021 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 20:20:44.021 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 20:20:44.023 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 20:20:44.035 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 20:20:44.038 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-09 20:20:44.215 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-09 20:20:44.228 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 20:20:44.230 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-09-09 20:20:44.230 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:20:44.230 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:20:44.231 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 20:20:44.274 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 20:20:44.333 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 20:20:44.337 +01:00 [DBG] A data reader was disposed.
2023-09-09 20:20:44.337 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:20:44.337 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:20:44.447 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-09-09 20:20:44.593 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-09 20:20:44.604 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 20:20:44.604 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 20:20:44.604 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:20:44.604 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:20:44.605 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-09 20:20:44.620 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-09 20:20:44.624 +01:00 [DBG] A data reader was disposed.
2023-09-09 20:20:44.624 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:20:44.625 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 20:20:45.050 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 1068.4015ms
2023-09-09 20:20:45.051 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 20:20:45.055 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at MagicVilla_VillaAPI.Repository.UserRepository.Login(LoginRequestDTO loginRequestDTO) in C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\Repository\UserRepository.cs:line 55
   at MagicVilla_VillaAPI.Controllers.UserAPIController.Login(LoginRequestDTO model) in C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\Controllers\UserAPIController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-09-09 20:20:45.132 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 20:20:45.133 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 58 - 500 - text/plain;+charset=utf-8 1198.5828ms
2023-09-09 20:20:59.415 +01:00 [DBG] Connection id "0HMTHD5TTS7D0" received FIN.
2023-09-09 20:20:59.416 +01:00 [DBG] Connection id "0HMTHD5TTS7D0" is closed. The last processed stream ID was 19.
2023-09-09 20:20:59.416 +01:00 [DBG] Connection id "0HMTHD5TTS7D0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:20:59.426 +01:00 [DBG] Connection id "0HMTHD5TTS7D0" stopped.
2023-09-09 20:21:32.667 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-09 20:21:33.419 +01:00 [DBG] Hosting starting
2023-09-09 20:21:33.585 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-09 20:21:33.593 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-09 20:21:33.617 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-09 20:21:33.651 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-09 20:21:33.658 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 20:21:33.667 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-09 20:21:33.670 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 20:21:33.683 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-09 20:21:33.686 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-09 20:21:33.692 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-09 20:21:33.693 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-09 20:21:34.070 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-09 20:21:34.186 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-09 20:21:34.186 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-09 20:21:34.186 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-09 20:21:34.186 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-09 20:21:34.186 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-09 20:21:34.187 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-09 20:21:34.187 +01:00 [INF] Hosting environment: Development
2023-09-09 20:21:34.187 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-09 20:21:34.187 +01:00 [DBG] Hosting started
2023-09-09 20:21:34.221 +01:00 [DBG] Connection id "0HMTHD7TEF09U" received FIN.
2023-09-09 20:21:34.241 +01:00 [DBG] Connection id "0HMTHD7TEF09U" accepted.
2023-09-09 20:21:34.245 +01:00 [DBG] Connection id "0HMTHD7TEF09U" started.
2023-09-09 20:21:34.350 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 20:21:34.560 +01:00 [DBG] Connection id "0HMTHD7TEF09U" stopped.
2023-09-09 20:21:34.568 +01:00 [DBG] Connection id "0HMTHD7TEF09U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:21:34.949 +01:00 [DBG] Connection id "0HMTHD7TEF09V" accepted.
2023-09-09 20:21:34.954 +01:00 [DBG] Connection id "0HMTHD7TEF09V" started.
2023-09-09 20:21:35.096 +01:00 [DBG] Connection id "0HMTHD7TEF09V" received FIN.
2023-09-09 20:21:35.099 +01:00 [DBG] Connection id "0HMTHD7TEF0A0" accepted.
2023-09-09 20:21:35.100 +01:00 [DBG] Connection id "0HMTHD7TEF0A0" started.
2023-09-09 20:21:35.108 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 20:21:35.119 +01:00 [DBG] Connection id "0HMTHD7TEF09V" stopped.
2023-09-09 20:21:35.129 +01:00 [DBG] Connection id "0HMTHD7TEF09V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:21:35.146 +01:00 [DBG] Connection 0HMTHD7TEF0A0 established using the following protocol: "Tls12"
2023-09-09 20:21:35.285 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-09 20:21:35.381 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-09 20:21:35.462 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-09 20:21:35.463 +01:00 [DBG] Request did not match any endpoints
2023-09-09 20:21:35.602 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 327.1105ms
2023-09-09 20:21:35.603 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-09 20:21:35.618 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-09 20:21:35.618 +01:00 [DBG] Request did not match any endpoints
2023-09-09 20:21:36.175 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-09 20:21:36.645 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-09 20:21:36.651 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 1047.5488ms
2023-09-09 20:21:38.307 +01:00 [DBG] Connection id "0HMTHD7TEF0A1" accepted.
2023-09-09 20:21:38.307 +01:00 [DBG] Connection id "0HMTHD7TEF0A1" started.
2023-09-09 20:21:38.310 +01:00 [DBG] Connection id "0HMTHD7TEF0A2" accepted.
2023-09-09 20:21:38.311 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 20:21:38.311 +01:00 [DBG] Connection id "0HMTHD7TEF0A3" accepted.
2023-09-09 20:21:38.311 +01:00 [DBG] Connection id "0HMTHD7TEF0A2" started.
2023-09-09 20:21:38.312 +01:00 [DBG] Connection id "0HMTHD7TEF0A1" received FIN.
2023-09-09 20:21:38.312 +01:00 [DBG] Connection id "0HMTHD7TEF0A3" started.
2023-09-09 20:21:38.314 +01:00 [DBG] Connection id "0HMTHD7TEF0A4" accepted.
2023-09-09 20:21:38.315 +01:00 [DBG] Connection id "0HMTHD7TEF0A5" accepted.
2023-09-09 20:21:38.315 +01:00 [DBG] Connection id "0HMTHD7TEF0A4" started.
2023-09-09 20:21:38.315 +01:00 [DBG] Connection id "0HMTHD7TEF0A6" accepted.
2023-09-09 20:21:38.315 +01:00 [DBG] Connection id "0HMTHD7TEF0A1" stopped.
2023-09-09 20:21:38.316 +01:00 [DBG] Connection id "0HMTHD7TEF0A5" started.
2023-09-09 20:21:38.316 +01:00 [DBG] Connection id "0HMTHD7TEF0A6" started.
2023-09-09 20:21:38.319 +01:00 [DBG] Connection id "0HMTHD7TEF0A1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:21:38.321 +01:00 [DBG] Connection id "0HMTHD7TEF0A3" received FIN.
2023-09-09 20:21:38.321 +01:00 [DBG] Connection id "0HMTHD7TEF0A5" received FIN.
2023-09-09 20:21:38.321 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 20:21:38.321 +01:00 [DBG] Connection id "0HMTHD7TEF0A5" stopped.
2023-09-09 20:21:38.321 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 20:21:38.322 +01:00 [DBG] Connection id "0HMTHD7TEF0A3" stopped.
2023-09-09 20:21:38.322 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 20:21:38.321 +01:00 [DBG] Connection id "0HMTHD7TEF0A2" received FIN.
2023-09-09 20:21:38.322 +01:00 [DBG] Connection id "0HMTHD7TEF0A5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:21:38.323 +01:00 [DBG] Connection id "0HMTHD7TEF0A3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:21:38.323 +01:00 [DBG] Connection id "0HMTHD7TEF0A2" stopped.
2023-09-09 20:21:38.325 +01:00 [DBG] Connection id "0HMTHD7TEF0A2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:21:38.326 +01:00 [DBG] Connection id "0HMTHD7TEF0A4" received FIN.
2023-09-09 20:21:38.329 +01:00 [DBG] Connection 0HMTHD7TEF0A6 established using the following protocol: "Tls12"
2023-09-09 20:21:38.332 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-09 20:21:38.332 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-09 20:21:38.332 +01:00 [DBG] Request did not match any endpoints
2023-09-09 20:21:38.333 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 20:21:38.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-09 20:21:38.339 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-09 20:21:38.339 +01:00 [DBG] Request did not match any endpoints
2023-09-09 20:21:38.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-09 20:21:38.341 +01:00 [DBG] Connection id "0HMTHD7TEF0A4" stopped.
2023-09-09 20:21:38.342 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-09 20:21:38.342 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-09 20:21:38.342 +01:00 [DBG] Request did not match any endpoints
2023-09-09 20:21:38.383 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-09 20:21:38.388 +01:00 [DBG] Connection id "0HMTHD7TEF0A4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:21:38.408 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 68.6058ms
2023-09-09 20:21:38.446 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-09 20:21:38.446 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-09 20:21:38.447 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 114.9588ms
2023-09-09 20:21:38.447 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 104.8144ms
2023-09-09 20:21:38.507 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-09 20:21:38.507 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 168.4844ms
2023-09-09 20:21:38.533 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 149.7636ms
2023-09-09 20:21:38.781 +01:00 [DBG] Connection id "0HMTHD7TEF0A0" received FIN.
2023-09-09 20:21:38.781 +01:00 [DBG] Connection id "0HMTHD7TEF0A6" received FIN.
2023-09-09 20:21:38.791 +01:00 [DBG] Connection id "0HMTHD7TEF0A0" is closed. The last processed stream ID was 3.
2023-09-09 20:21:38.791 +01:00 [DBG] Connection id "0HMTHD7TEF0A6" is closed. The last processed stream ID was 9.
2023-09-09 20:21:38.792 +01:00 [DBG] Connection id "0HMTHD7TEF0A0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:21:38.792 +01:00 [DBG] Connection id "0HMTHD7TEF0A6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:21:38.798 +01:00 [DBG] Connection id "0HMTHD7TEF0A6" stopped.
2023-09-09 20:21:38.798 +01:00 [DBG] Connection id "0HMTHD7TEF0A0" stopped.
2023-09-09 20:21:40.790 +01:00 [DBG] Connection id "0HMTHD7TEF0A7" accepted.
2023-09-09 20:21:40.794 +01:00 [DBG] Connection id "0HMTHD7TEF0A7" started.
2023-09-09 20:21:40.855 +01:00 [DBG] Connection id "0HMTHD7TEF0A8" accepted.
2023-09-09 20:21:40.856 +01:00 [DBG] Connection id "0HMTHD7TEF0A7" received FIN.
2023-09-09 20:21:40.856 +01:00 [DBG] Connection id "0HMTHD7TEF0A8" started.
2023-09-09 20:21:40.859 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 20:21:40.860 +01:00 [DBG] Connection id "0HMTHD7TEF0A7" stopped.
2023-09-09 20:21:40.860 +01:00 [DBG] Connection id "0HMTHD7TEF0A7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:21:40.865 +01:00 [DBG] Connection 0HMTHD7TEF0A8 established using the following protocol: "Tls12"
2023-09-09 20:21:40.867 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-09 20:21:40.867 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-09 20:21:40.867 +01:00 [DBG] Request did not match any endpoints
2023-09-09 20:21:41.515 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 647.8226ms
2023-09-09 20:23:24.366 +01:00 [DBG] Connection id "0HMTHD7TEF0A8" received FIN.
2023-09-09 20:23:24.381 +01:00 [DBG] Connection id "0HMTHD7TEF0A8" is closed. The last processed stream ID was 1.
2023-09-09 20:23:24.417 +01:00 [DBG] Connection id "0HMTHD7TEF0A8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 20:23:24.422 +01:00 [DBG] Connection id "0HMTHD7TEF0A8" stopped.
2023-09-09 21:00:52.097 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-09 21:00:52.418 +01:00 [DBG] Hosting starting
2023-09-09 21:00:52.545 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-09 21:00:52.557 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-09 21:00:52.580 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-09 21:00:52.608 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-09 21:00:52.611 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 21:00:52.618 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-09 21:00:52.621 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 21:00:52.631 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-09 21:00:52.637 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-09 21:00:52.644 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-09 21:00:52.645 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-09 21:00:55.701 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-09 21:00:55.941 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-09 21:00:55.941 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-09 21:00:55.941 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-09 21:00:55.941 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-09 21:00:55.941 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-09 21:00:55.941 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-09 21:00:55.942 +01:00 [INF] Hosting environment: Development
2023-09-09 21:00:55.942 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-09 21:00:55.942 +01:00 [DBG] Hosting started
2023-09-09 21:00:56.166 +01:00 [DBG] Connection id "0HMTHDTTBN7BE" received FIN.
2023-09-09 21:00:56.185 +01:00 [DBG] Connection id "0HMTHDTTBN7BE" accepted.
2023-09-09 21:00:56.201 +01:00 [DBG] Connection id "0HMTHDTTBN7BE" started.
2023-09-09 21:00:56.286 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 21:00:56.527 +01:00 [DBG] Connection id "0HMTHDTTBN7BE" stopped.
2023-09-09 21:00:56.539 +01:00 [DBG] Connection id "0HMTHDTTBN7BE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 21:00:56.830 +01:00 [DBG] Connection id "0HMTHDTTBN7BF" accepted.
2023-09-09 21:00:56.879 +01:00 [DBG] Connection id "0HMTHDTTBN7BF" started.
2023-09-09 21:00:56.965 +01:00 [DBG] Connection id "0HMTHDTTBN7BF" received FIN.
2023-09-09 21:00:56.966 +01:00 [DBG] Connection id "0HMTHDTTBN7BG" accepted.
2023-09-09 21:00:56.967 +01:00 [DBG] Connection id "0HMTHDTTBN7BG" started.
2023-09-09 21:00:56.973 +01:00 [DBG] Connection id "0HMTHDTTBN7BG" received FIN.
2023-09-09 21:00:56.974 +01:00 [DBG] Connection id "0HMTHDTTBN7BH" accepted.
2023-09-09 21:00:56.976 +01:00 [DBG] Connection id "0HMTHDTTBN7BH" started.
2023-09-09 21:00:56.977 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 21:00:56.979 +01:00 [DBG] Connection id "0HMTHDTTBN7BF" stopped.
2023-09-09 21:00:56.980 +01:00 [DBG] Connection id "0HMTHDTTBN7BF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 21:00:57.008 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 21:00:57.008 +01:00 [DBG] Connection id "0HMTHDTTBN7BG" stopped.
2023-09-09 21:00:57.009 +01:00 [DBG] Connection id "0HMTHDTTBN7BG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 21:00:57.042 +01:00 [DBG] Connection 0HMTHDTTBN7BH established using the following protocol: "Tls12"
2023-09-09 21:00:57.262 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-09 21:00:57.361 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-09 21:00:57.438 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-09 21:00:57.439 +01:00 [DBG] Request did not match any endpoints
2023-09-09 21:00:57.598 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 345.7646ms
2023-09-09 21:00:57.637 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-09 21:00:57.639 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-09 21:00:57.639 +01:00 [DBG] Request did not match any endpoints
2023-09-09 21:00:58.369 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-09 21:00:58.912 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-09 21:00:58.912 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-09 21:00:58.912 +01:00 [DBG] Request did not match any endpoints
2023-09-09 21:00:58.914 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-09 21:00:58.915 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-09 21:00:58.920 +01:00 [DBG] Request did not match any endpoints
2023-09-09 21:00:58.920 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-09 21:00:58.921 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-09 21:00:58.921 +01:00 [DBG] Request did not match any endpoints
2023-09-09 21:00:58.921 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-09 21:00:59.010 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-09 21:00:59.038 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-09 21:00:59.075 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 1437.7925ms
2023-09-09 21:00:59.076 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 153.3052ms
2023-09-09 21:00:59.092 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-09 21:00:59.117 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 205.1617ms
2023-09-09 21:00:59.126 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-09 21:00:59.127 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 206.1406ms
2023-09-09 21:00:59.153 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 114.7875ms
2023-09-09 21:00:59.172 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-09 21:00:59.173 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 258.2303ms
2023-09-09 21:01:00.129 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-09 21:01:00.130 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-09 21:01:00.130 +01:00 [DBG] Request did not match any endpoints
2023-09-09 21:01:00.797 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 667.1465ms
2023-09-09 21:02:38.807 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 90
2023-09-09 21:02:38.838 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-09 21:02:38.857 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-09 21:02:38.871 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 21:02:38.871 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 21:02:39.140 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 21:02:39.147 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 21:02:39.277 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 21:02:39.278 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 21:02:39.279 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 21:02:39.279 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 21:02:39.279 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 21:02:39.279 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 21:02:39.282 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 21:02:39.879 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-09 21:02:39.997 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 21:02:40.032 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 21:02:40.037 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-09 21:02:40.039 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 21:02:40.039 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 21:02:40.072 +01:00 [DBG] Connection id "0HMTHDTTBN7BH", Request id "0HMTHDTTBN7BH:00000011": started reading request body.
2023-09-09 21:02:40.072 +01:00 [DBG] Connection id "0HMTHDTTBN7BH", Request id "0HMTHDTTBN7BH:00000011": done reading request body.
2023-09-09 21:02:40.411 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 21:02:40.412 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 21:02:40.412 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 21:02:40.425 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 21:02:42.437 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-09 21:02:42.438 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-09 21:02:43.470 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 21:02:43.727 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-09 21:02:44.758 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-09 21:02:44.929 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 21:02:45.086 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (141ms).
2023-09-09 21:02:45.126 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 21:02:46.253 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 21:02:46.295 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 21:02:46.522 +01:00 [INF] Executed DbCommand (240ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 21:02:46.558 +01:00 [DBG] A data reader was disposed.
2023-09-09 21:02:46.569 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 21:02:46.603 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 21:02:46.620 +01:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit.
2023-09-09 21:02:46.626 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 21:02:46.633 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 21:02:46.633 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 21:02:46.634 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 21:02:46.635 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 21:02:46.635 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 21:02:46.797 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 7498.1052ms
2023-09-09 21:02:46.798 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 21:02:46.816 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 21:02:46.825 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 90 - 200 68 application/json;+charset=utf-8 8018.4581ms
2023-09-09 21:03:00.372 +01:00 [DBG] Connection id "0HMTHDTTBN7BH" received FIN.
2023-09-09 21:03:00.373 +01:00 [DBG] Connection id "0HMTHDTTBN7BH" is closed. The last processed stream ID was 17.
2023-09-09 21:03:00.373 +01:00 [DBG] Connection id "0HMTHDTTBN7BH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 21:03:00.393 +01:00 [DBG] Connection id "0HMTHDTTBN7BH" stopped.
2023-09-09 21:11:02.201 +01:00 [DBG] Connection id "0HMTHDTTBN7BI" accepted.
2023-09-09 21:11:02.202 +01:00 [DBG] Connection id "0HMTHDTTBN7BI" started.
2023-09-09 21:11:02.217 +01:00 [DBG] Connection id "0HMTHDTTBN7BI" received FIN.
2023-09-09 21:11:02.225 +01:00 [DBG] Connection id "0HMTHDTTBN7BJ" accepted.
2023-09-09 21:11:02.233 +01:00 [DBG] Connection id "0HMTHDTTBN7BJ" started.
2023-09-09 21:11:02.235 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 21:11:02.237 +01:00 [DBG] Connection id "0HMTHDTTBN7BI" stopped.
2023-09-09 21:11:02.243 +01:00 [DBG] Connection 0HMTHDTTBN7BJ established using the following protocol: "Tls12"
2023-09-09 21:11:02.243 +01:00 [DBG] Connection id "0HMTHDTTBN7BI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 21:11:02.249 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 90
2023-09-09 21:11:02.253 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-09 21:11:02.253 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-09 21:11:02.253 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 21:11:02.254 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 21:11:02.254 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 21:11:02.255 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 21:11:02.255 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 21:11:02.256 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 21:11:02.256 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 21:11:02.256 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 21:11:02.256 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 21:11:02.256 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 21:11:02.256 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 21:11:02.902 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 21:11:02.903 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 21:11:02.904 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-09 21:11:02.904 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 21:11:02.904 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 21:11:02.904 +01:00 [DBG] Connection id "0HMTHDTTBN7BJ", Request id "0HMTHDTTBN7BJ:00000001": started reading request body.
2023-09-09 21:11:02.904 +01:00 [DBG] Connection id "0HMTHDTTBN7BJ", Request id "0HMTHDTTBN7BJ:00000001": done reading request body.
2023-09-09 21:11:02.904 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 21:11:02.905 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 21:11:02.905 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 21:11:02.905 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 21:11:02.913 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 21:11:02.923 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 21:11:02.923 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 21:11:02.923 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 21:11:02.935 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 21:11:02.935 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 21:11:02.939 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 21:11:02.940 +01:00 [DBG] A data reader was disposed.
2023-09-09 21:11:02.940 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 21:11:02.940 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 21:11:02.940 +01:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit.
2023-09-09 21:11:02.941 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 21:11:02.941 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 21:11:02.941 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 21:11:02.941 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 21:11:02.941 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 21:11:02.941 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 21:11:02.942 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 686.1466ms
2023-09-09 21:11:02.942 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 21:11:02.942 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 21:11:02.942 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 90 - 200 68 application/json;+charset=utf-8 693.3916ms
2023-09-09 21:11:05.940 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 90
2023-09-09 21:11:05.940 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-09 21:11:05.940 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-09 21:11:05.940 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 21:11:05.940 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 21:11:05.943 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 21:11:05.943 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 21:11:05.943 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 21:11:05.943 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 21:11:05.943 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 21:11:05.943 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 21:11:05.943 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 21:11:05.943 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 21:11:05.943 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 21:11:05.960 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 21:11:05.960 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 21:11:05.960 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-09 21:11:05.960 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 21:11:05.960 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 21:11:05.960 +01:00 [DBG] Connection id "0HMTHDTTBN7BJ", Request id "0HMTHDTTBN7BJ:00000003": started reading request body.
2023-09-09 21:11:05.960 +01:00 [DBG] Connection id "0HMTHDTTBN7BJ", Request id "0HMTHDTTBN7BJ:00000003": done reading request body.
2023-09-09 21:11:05.960 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 21:11:05.961 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 21:11:05.961 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 21:11:05.961 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 21:11:06.092 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 21:11:06.095 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 21:11:06.096 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-09-09 21:11:06.096 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 21:11:06.100 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 21:11:06.100 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 21:11:06.106 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 21:11:06.106 +01:00 [DBG] A data reader was disposed.
2023-09-09 21:11:06.106 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 21:11:06.106 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 21:11:06.106 +01:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit.
2023-09-09 21:11:06.106 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 21:11:06.106 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 21:11:06.106 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 21:11:06.106 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 21:11:06.106 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 21:11:06.107 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 21:11:06.107 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 163.6181ms
2023-09-09 21:11:06.107 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 21:11:06.107 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 21:11:06.107 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 90 - 200 68 application/json;+charset=utf-8 167.5946ms
2023-09-09 21:11:49.310 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 90
2023-09-09 21:11:49.318 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-09 21:11:49.318 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-09 21:11:49.318 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 21:11:49.318 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 21:11:49.318 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 21:11:49.318 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 21:11:49.318 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 21:11:49.318 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 21:11:49.318 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 21:11:49.319 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 21:11:49.319 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 21:11:49.319 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 21:11:49.319 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 21:11:49.319 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 21:11:49.319 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 21:11:49.321 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-09 21:11:49.321 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 21:11:49.321 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 21:11:49.325 +01:00 [DBG] Connection id "0HMTHDTTBN7BJ", Request id "0HMTHDTTBN7BJ:00000005": started reading request body.
2023-09-09 21:11:49.326 +01:00 [DBG] Connection id "0HMTHDTTBN7BJ", Request id "0HMTHDTTBN7BJ:00000005": done reading request body.
2023-09-09 21:11:49.326 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 21:11:49.326 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 21:11:49.326 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 21:11:49.326 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:08:44.872 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-09 22:08:45.053 +01:00 [DBG] Hosting starting
2023-09-09 22:08:45.118 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-09 22:08:45.122 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-09 22:08:45.138 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-09 22:08:45.150 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-09 22:08:45.152 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 22:08:45.157 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-09 22:08:45.158 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 22:08:45.164 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-09 22:08:45.166 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-09 22:08:45.169 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-09 22:08:45.169 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-09 22:08:45.471 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-09 22:08:45.554 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-09 22:08:45.554 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-09 22:08:45.554 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-09 22:08:45.554 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-09 22:08:45.554 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-09 22:08:45.555 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-09 22:08:45.555 +01:00 [INF] Hosting environment: Development
2023-09-09 22:08:45.555 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-09 22:08:45.555 +01:00 [DBG] Hosting started
2023-09-09 22:08:45.818 +01:00 [DBG] Connection id "0HMTHF3Q6U9QM" received FIN.
2023-09-09 22:08:45.863 +01:00 [DBG] Connection id "0HMTHF3Q6U9QM" accepted.
2023-09-09 22:08:45.865 +01:00 [DBG] Connection id "0HMTHF3Q6U9QM" started.
2023-09-09 22:08:45.893 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:08:45.986 +01:00 [DBG] Connection id "0HMTHF3Q6U9QM" stopped.
2023-09-09 22:08:45.991 +01:00 [DBG] Connection id "0HMTHF3Q6U9QM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:08:46.345 +01:00 [DBG] Connection id "0HMTHF3Q6U9QN" accepted.
2023-09-09 22:08:46.552 +01:00 [DBG] Connection id "0HMTHF3Q6U9QN" started.
2023-09-09 22:08:46.632 +01:00 [DBG] Connection id "0HMTHF3Q6U9QO" accepted.
2023-09-09 22:08:46.633 +01:00 [DBG] Connection id "0HMTHF3Q6U9QN" received FIN.
2023-09-09 22:08:46.633 +01:00 [DBG] Connection id "0HMTHF3Q6U9QO" started.
2023-09-09 22:08:46.639 +01:00 [DBG] Connection id "0HMTHF3Q6U9QP" accepted.
2023-09-09 22:08:46.641 +01:00 [DBG] Connection id "0HMTHF3Q6U9QO" received FIN.
2023-09-09 22:08:46.642 +01:00 [DBG] Connection id "0HMTHF3Q6U9QP" started.
2023-09-09 22:08:46.682 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:08:46.682 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:08:46.685 +01:00 [DBG] Connection id "0HMTHF3Q6U9QO" stopped.
2023-09-09 22:08:46.685 +01:00 [DBG] Connection id "0HMTHF3Q6U9QN" stopped.
2023-09-09 22:08:46.685 +01:00 [DBG] Connection id "0HMTHF3Q6U9QO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:08:46.685 +01:00 [DBG] Connection id "0HMTHF3Q6U9QN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:08:46.713 +01:00 [DBG] Connection 0HMTHF3Q6U9QP established using the following protocol: "Tls12"
2023-09-09 22:08:46.875 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-09 22:08:46.992 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-09 22:08:47.069 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-09 22:08:47.070 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:08:47.186 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 323.9325ms
2023-09-09 22:08:47.202 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-09 22:08:47.204 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-09 22:08:47.204 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:08:47.656 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-09 22:08:47.995 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-09 22:08:47.995 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-09 22:08:47.995 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:08:47.995 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-09 22:08:47.996 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-09 22:08:47.996 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:08:47.996 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-09 22:08:47.996 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-09 22:08:47.996 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:08:47.997 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-09 22:08:48.013 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-09 22:08:48.039 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 41.4818ms
2023-09-09 22:08:48.043 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 840.4009ms
2023-09-09 22:08:48.090 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-09 22:08:48.095 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 99.9714ms
2023-09-09 22:08:48.095 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-09 22:08:48.096 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 99.9488ms
2023-09-09 22:08:48.105 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-09 22:08:48.106 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 110.3658ms
2023-09-09 22:08:48.126 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-09 22:08:48.211 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 85.8695ms
2023-09-09 22:08:48.746 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-09 22:08:48.746 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-09 22:08:48.746 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:08:49.463 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 717.2994ms
2023-09-09 22:10:10.982 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 50
2023-09-09 22:10:11.009 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:10:11.036 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:10:11.050 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:10:11.050 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:10:11.241 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:10:11.255 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:10:11.367 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:10:11.369 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:10:11.369 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:10:11.369 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:10:11.370 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:10:11.370 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:10:11.371 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:10:11.828 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-09 22:10:11.932 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:10:11.958 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:10:11.966 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 22:10:11.968 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:10:11.969 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:10:12.006 +01:00 [DBG] Connection id "0HMTHF3Q6U9QP", Request id "0HMTHF3Q6U9QP:00000011": started reading request body.
2023-09-09 22:10:12.007 +01:00 [DBG] Connection id "0HMTHF3Q6U9QP", Request id "0HMTHF3Q6U9QP:00000011": done reading request body.
2023-09-09 22:10:12.376 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:10:12.377 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:10:12.377 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:10:12.397 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:10:14.341 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-09 22:10:14.342 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-09 22:10:15.342 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:10:15.550 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-09 22:10:16.961 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-09 22:10:17.151 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:10:17.280 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (108ms).
2023-09-09 22:10:17.321 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:10:18.197 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:10:18.238 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:10:18.457 +01:00 [INF] Executed DbCommand (233ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:10:18.577 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:10:18.727 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:10:18.737 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:10:18.765 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:10:18.822 +01:00 [WRN] Invalid password for user.
2023-09-09 22:10:18.829 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 22:10:18.835 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 22:10:18.835 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 22:10:18.835 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 22:10:18.836 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 22:10:18.837 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 22:10:19.011 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 7624.5416ms
2023-09-09 22:10:19.012 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:10:19.034 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 22:10:19.044 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 50 - 400 104 application/json;+charset=utf-8 8062.7986ms
2023-09-09 22:10:30.161 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 48
2023-09-09 22:10:30.164 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:10:30.165 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:10:30.165 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:10:30.165 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:10:30.166 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:10:30.166 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:10:30.167 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:10:30.167 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:10:30.167 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:10:30.167 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:10:30.167 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:10:30.167 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:10:30.167 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:10:30.195 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:10:30.195 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:10:30.196 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 22:10:30.196 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:10:30.196 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:10:30.197 +01:00 [DBG] Connection id "0HMTHF3Q6U9QP", Request id "0HMTHF3Q6U9QP:00000013": started reading request body.
2023-09-09 22:10:30.197 +01:00 [DBG] Connection id "0HMTHF3Q6U9QP", Request id "0HMTHF3Q6U9QP:00000013": done reading request body.
2023-09-09 22:10:30.198 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:10:30.198 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:10:30.198 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:10:30.199 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:10:30.235 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:10:30.246 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:10:30.246 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:10:30.247 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:10:30.250 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:10:30.250 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:10:30.259 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:10:30.259 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:10:30.259 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:10:30.259 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:10:30.259 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:10:30.279 +01:00 [WRN] Invalid password for user.
2023-09-09 22:10:30.279 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 22:10:30.279 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 22:10:30.279 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 22:10:30.279 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 22:10:30.279 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 22:10:30.280 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 22:10:30.280 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 113.1475ms
2023-09-09 22:10:30.280 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:10:30.281 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 22:10:30.281 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 48 - 400 104 application/json;+charset=utf-8 120.8703ms
2023-09-09 22:10:39.208 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 48
2023-09-09 22:10:39.208 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:10:39.208 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:10:39.208 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:10:39.208 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:10:39.212 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:10:39.212 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:10:39.212 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:10:39.212 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:10:39.212 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:10:39.212 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:10:39.212 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:10:39.212 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:10:39.213 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:10:39.238 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:10:39.239 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:10:39.239 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 22:10:39.239 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:10:39.239 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:10:39.239 +01:00 [DBG] Connection id "0HMTHF3Q6U9QP", Request id "0HMTHF3Q6U9QP:00000015": started reading request body.
2023-09-09 22:10:39.239 +01:00 [DBG] Connection id "0HMTHF3Q6U9QP", Request id "0HMTHF3Q6U9QP:00000015": done reading request body.
2023-09-09 22:10:39.240 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:10:39.240 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:10:39.241 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:10:39.241 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:10:39.377 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:10:39.380 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:10:39.380 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:10:39.380 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:10:39.380 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:10:39.381 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:10:39.388 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:10:39.388 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:10:39.388 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:10:39.388 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:10:39.388 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:10:39.407 +01:00 [WRN] Invalid password for user.
2023-09-09 22:10:39.407 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 22:10:39.407 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 22:10:39.407 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 22:10:39.407 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 22:10:39.407 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 22:10:39.407 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 22:10:39.407 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 194.8901ms
2023-09-09 22:10:39.408 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:10:39.408 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 22:10:39.408 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 48 - 400 104 application/json;+charset=utf-8 199.8550ms
2023-09-09 22:11:06.425 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 58
2023-09-09 22:11:06.427 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:11:06.427 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:11:06.427 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:11:06.427 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:11:06.428 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:11:06.428 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:11:06.428 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:11:06.428 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:11:06.428 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:11:06.428 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:11:06.429 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:11:06.429 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:11:06.429 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:11:06.429 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:11:06.430 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:11:06.430 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 22:11:06.430 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:11:06.430 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:11:06.430 +01:00 [DBG] Connection id "0HMTHF3Q6U9QP", Request id "0HMTHF3Q6U9QP:00000017": started reading request body.
2023-09-09 22:11:06.439 +01:00 [DBG] Connection id "0HMTHF3Q6U9QP", Request id "0HMTHF3Q6U9QP:00000017": done reading request body.
2023-09-09 22:11:06.470 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:11:06.473 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:11:06.474 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:11:06.474 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:11:06.484 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:11:06.486 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:11:06.486 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:11:06.486 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:11:06.486 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:11:06.486 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:11:06.487 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:11:06.488 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:11:06.488 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:11:06.488 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:11:06.488 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:11:06.549 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-09-09 22:11:06.670 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-09 22:11:06.736 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:11:06.736 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:11:06.761 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:11:06.775 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:11:06.780 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-09 22:11:06.870 +01:00 [INF] Executed DbCommand (91ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-09 22:11:06.921 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:11:06.939 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:11:06.941 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:11:07.380 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 951.0064ms
2023-09-09 22:11:07.384 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:11:07.392 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at MagicVilla_VillaAPI.Repository.UserRepository.Login(LoginRequestDTO loginRequestDTO) in C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\Repository\UserRepository.cs:line 55
   at MagicVilla_VillaAPI.Controllers.UserAPIController.Login(LoginRequestDTO model) in C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\Controllers\UserAPIController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-09-09 22:11:07.471 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 22:11:07.471 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 58 - 500 - text/plain;+charset=utf-8 1046.2759ms
2023-09-09 22:12:12.504 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-09 22:12:12.767 +01:00 [DBG] Hosting starting
2023-09-09 22:12:12.834 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-09 22:12:12.839 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-09 22:12:12.854 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-09 22:12:12.871 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-09 22:12:12.875 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 22:12:12.880 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-09 22:12:12.882 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 22:12:12.892 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-09 22:12:12.896 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-09 22:12:12.902 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-09 22:12:12.902 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-09 22:12:13.211 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-09 22:12:13.288 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-09 22:12:13.288 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-09 22:12:13.288 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-09 22:12:13.288 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-09 22:12:13.288 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-09 22:12:13.289 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-09 22:12:13.289 +01:00 [INF] Hosting environment: Development
2023-09-09 22:12:13.289 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-09 22:12:13.289 +01:00 [DBG] Hosting started
2023-09-09 22:12:13.540 +01:00 [DBG] Connection id "0HMTHF5O3R99R" accepted.
2023-09-09 22:12:13.543 +01:00 [DBG] Connection id "0HMTHF5O3R99S" received FIN.
2023-09-09 22:12:13.546 +01:00 [DBG] Connection id "0HMTHF5O3R99R" started.
2023-09-09 22:12:13.546 +01:00 [DBG] Connection id "0HMTHF5O3R99S" accepted.
2023-09-09 22:12:13.550 +01:00 [DBG] Connection id "0HMTHF5O3R99R" received FIN.
2023-09-09 22:12:13.552 +01:00 [DBG] Connection id "0HMTHF5O3R99S" started.
2023-09-09 22:12:13.580 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:12:13.580 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:12:13.650 +01:00 [DBG] Connection id "0HMTHF5O3R99R" stopped.
2023-09-09 22:12:13.650 +01:00 [DBG] Connection id "0HMTHF5O3R99S" stopped.
2023-09-09 22:12:13.654 +01:00 [DBG] Connection id "0HMTHF5O3R99R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:12:13.657 +01:00 [DBG] Connection id "0HMTHF5O3R99S" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:12:14.091 +01:00 [DBG] Connection id "0HMTHF5O3R99T" accepted.
2023-09-09 22:12:14.140 +01:00 [DBG] Connection id "0HMTHF5O3R99T" started.
2023-09-09 22:12:14.204 +01:00 [DBG] Connection id "0HMTHF5O3R99T" received FIN.
2023-09-09 22:12:14.206 +01:00 [DBG] Connection id "0HMTHF5O3R99U" accepted.
2023-09-09 22:12:14.207 +01:00 [DBG] Connection id "0HMTHF5O3R99U" started.
2023-09-09 22:12:14.220 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:12:14.223 +01:00 [DBG] Connection id "0HMTHF5O3R99V" accepted.
2023-09-09 22:12:14.224 +01:00 [DBG] Connection id "0HMTHF5O3R99U" received FIN.
2023-09-09 22:12:14.224 +01:00 [DBG] Connection id "0HMTHF5O3R99V" started.
2023-09-09 22:12:14.226 +01:00 [DBG] Connection id "0HMTHF5O3R99T" stopped.
2023-09-09 22:12:14.227 +01:00 [DBG] Connection id "0HMTHF5O3R99T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:12:14.256 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:12:14.257 +01:00 [DBG] Connection id "0HMTHF5O3R99U" stopped.
2023-09-09 22:12:14.257 +01:00 [DBG] Connection id "0HMTHF5O3R99U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:12:14.275 +01:00 [DBG] Connection 0HMTHF5O3R99V established using the following protocol: "Tls12"
2023-09-09 22:12:14.428 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-09 22:12:14.528 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-09 22:12:14.598 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-09 22:12:14.598 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:12:14.698 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 280.6060ms
2023-09-09 22:12:14.717 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-09 22:12:14.718 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-09 22:12:14.718 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:12:15.138 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-09 22:12:15.548 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-09 22:12:15.554 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-09 22:12:15.555 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-09 22:12:15.555 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-09 22:12:15.555 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-09 22:12:15.555 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:12:15.555 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:12:15.555 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-09 22:12:15.555 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-09 22:12:15.555 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:12:15.555 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-09 22:12:15.564 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 846.9698ms
2023-09-09 22:12:15.569 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 13.3308ms
2023-09-09 22:12:15.653 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-09 22:12:15.684 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-09 22:12:15.696 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 141.1615ms
2023-09-09 22:12:15.703 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 148.2816ms
2023-09-09 22:12:15.711 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-09 22:12:15.744 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-09 22:12:15.744 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 189.2509ms
2023-09-09 22:12:15.790 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 78.4317ms
2023-09-09 22:12:16.300 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-09 22:12:16.300 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-09 22:12:16.300 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:12:17.031 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 731.3306ms
2023-09-09 22:12:37.543 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 48
2023-09-09 22:12:37.582 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:12:37.625 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:12:37.648 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:12:37.648 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:12:37.892 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:12:37.905 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:12:38.040 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:12:38.042 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:12:38.043 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:12:38.043 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:12:38.043 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:12:38.044 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:12:38.047 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:12:38.509 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-09 22:12:38.610 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:12:38.640 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:12:38.646 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 22:12:38.649 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:12:38.649 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:12:38.699 +01:00 [DBG] Connection id "0HMTHF5O3R99V", Request id "0HMTHF5O3R99V:00000011": started reading request body.
2023-09-09 22:12:38.700 +01:00 [DBG] Connection id "0HMTHF5O3R99V", Request id "0HMTHF5O3R99V:00000011": done reading request body.
2023-09-09 22:12:39.148 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:12:39.148 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:12:39.148 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:12:39.174 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:12:41.145 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-09 22:12:41.146 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-09 22:12:42.222 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:12:42.433 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-09 22:12:43.541 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-09 22:12:43.724 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:12:43.850 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (108ms).
2023-09-09 22:12:43.887 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:12:44.820 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:12:44.864 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:12:45.137 +01:00 [INF] Executed DbCommand (275ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:12:45.315 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:12:45.494 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:12:45.511 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:12:45.561 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:12:45.611 +01:00 [WRN] Invalid password for user.
2023-09-09 22:12:45.617 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 22:12:45.624 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 22:12:45.624 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 22:12:45.624 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 22:12:45.627 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 22:12:45.627 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 22:12:45.879 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 7791.0029ms
2023-09-09 22:12:45.881 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:12:45.898 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 22:12:45.907 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 48 - 400 104 application/json;+charset=utf-8 8364.5470ms
2023-09-09 22:13:02.111 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 50
2023-09-09 22:13:02.114 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:13:02.115 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:13:02.115 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:13:02.115 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:13:02.115 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:13:02.115 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:13:02.116 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:13:02.116 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:13:02.116 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:13:02.116 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:13:02.116 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:13:02.116 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:13:02.116 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:13:02.133 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:13:02.134 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:13:02.134 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 22:13:02.134 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:13:02.134 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:13:02.134 +01:00 [DBG] Connection id "0HMTHF5O3R99V", Request id "0HMTHF5O3R99V:00000013": started reading request body.
2023-09-09 22:13:02.134 +01:00 [DBG] Connection id "0HMTHF5O3R99V", Request id "0HMTHF5O3R99V:00000013": done reading request body.
2023-09-09 22:13:02.135 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:13:02.135 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:13:02.135 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:13:02.135 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:13:02.140 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:13:02.151 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:13:02.151 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-09-09 22:13:02.152 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:13:02.157 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:13:02.157 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:13:02.167 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:13:02.167 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:13:02.167 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:13:02.167 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:13:02.167 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:13:02.185 +01:00 [WRN] Invalid password for user.
2023-09-09 22:13:02.185 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 22:13:02.185 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 22:13:02.185 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 22:13:02.185 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 22:13:02.185 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 22:13:02.185 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 22:13:02.188 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 71.3989ms
2023-09-09 22:13:02.189 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:13:02.190 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 22:13:02.190 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 50 - 400 104 application/json;+charset=utf-8 79.3658ms
2023-09-09 22:13:18.288 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 58
2023-09-09 22:13:18.289 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:13:18.289 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:13:18.289 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:13:18.289 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:13:18.292 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:13:18.292 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:13:18.292 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:13:18.293 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:13:18.293 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:13:18.293 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:13:18.293 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:13:18.293 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:13:18.293 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:13:18.307 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:13:18.307 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:13:18.308 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 22:13:18.308 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:13:18.308 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:13:18.308 +01:00 [DBG] Connection id "0HMTHF5O3R99V", Request id "0HMTHF5O3R99V:00000015": started reading request body.
2023-09-09 22:13:18.308 +01:00 [DBG] Connection id "0HMTHF5O3R99V", Request id "0HMTHF5O3R99V:00000015": done reading request body.
2023-09-09 22:13:18.308 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:13:18.308 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:13:18.308 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:13:18.308 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:13:18.454 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:13:18.457 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:13:18.457 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:13:18.457 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:13:18.457 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:13:18.458 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:13:18.458 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:13:18.459 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:13:18.459 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:13:18.459 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:13:18.459 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:13:18.526 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-09-09 22:13:18.637 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-09 22:13:18.690 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:13:18.690 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:13:18.710 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:13:18.722 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:13:18.725 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-09 22:13:18.812 +01:00 [INF] Executed DbCommand (85ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-09 22:13:18.874 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:13:18.889 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:13:18.891 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:13:49.948 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 31655.5634ms
2023-09-09 22:13:49.952 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:13:49.963 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at MagicVilla_VillaAPI.Repository.UserRepository.Login(LoginRequestDTO loginRequestDTO) in C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\Repository\UserRepository.cs:line 55
   at MagicVilla_VillaAPI.Controllers.UserAPIController.Login(LoginRequestDTO model) in C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\Controllers\UserAPIController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-09-09 22:13:49.997 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 22:13:49.997 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 58 - 500 - text/plain;+charset=utf-8 31709.3346ms
2023-09-09 22:14:05.419 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 58
2023-09-09 22:14:05.419 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:14:05.419 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 22:14:05.419 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:14:05.419 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:14:05.419 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:14:05.420 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 22:14:05.420 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:14:05.420 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:14:05.420 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:14:05.420 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:14:05.420 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:14:05.420 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:14:05.421 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:14:05.422 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:14:05.422 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:14:05.423 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 22:14:05.423 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:14:05.423 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:14:05.424 +01:00 [DBG] Connection id "0HMTHF5O3R99V", Request id "0HMTHF5O3R99V:00000017": started reading request body.
2023-09-09 22:14:05.456 +01:00 [DBG] Connection id "0HMTHF5O3R99V", Request id "0HMTHF5O3R99V:00000017": done reading request body.
2023-09-09 22:14:05.457 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:14:05.457 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:14:05.457 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 22:14:05.457 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 22:14:05.461 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:14:05.462 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:14:05.462 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:14:05.463 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:14:05.463 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:14:05.463 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:14:05.471 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 22:14:05.471 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:14:05.471 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:14:05.472 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:14:05.472 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:14:05.494 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:14:05.494 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:14:05.494 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:14:05.495 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:14:05.495 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-09 22:14:05.504 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-09 22:14:05.504 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:14:05.504 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:14:05.504 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:43:13.529 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-09 22:43:13.731 +01:00 [DBG] Hosting starting
2023-09-09 22:43:13.850 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-09 22:43:13.861 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-09 22:43:13.905 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-09 22:43:13.927 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-09 22:43:13.930 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 22:43:13.936 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-09 22:43:13.937 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 22:43:13.945 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-09 22:43:13.948 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-09 22:43:13.951 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-09 22:43:13.952 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-09 22:43:14.366 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-09 22:43:14.471 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-09 22:43:14.471 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-09 22:43:14.471 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-09 22:43:14.471 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-09 22:43:14.471 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-09 22:43:14.472 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-09 22:43:14.472 +01:00 [INF] Hosting environment: Development
2023-09-09 22:43:14.472 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-09 22:43:14.472 +01:00 [DBG] Hosting started
2023-09-09 22:43:14.518 +01:00 [DBG] Connection id "0HMTHFN2NI9BJ" accepted.
2023-09-09 22:43:14.519 +01:00 [DBG] Connection id "0HMTHFN2NI9BJ" started.
2023-09-09 22:43:14.552 +01:00 [DBG] Connection id "0HMTHFN2NI9BJ" received FIN.
2023-09-09 22:43:14.580 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:43:16.244 +01:00 [DBG] Connection id "0HMTHFN2NI9BJ" stopped.
2023-09-09 22:43:16.388 +01:00 [DBG] Connection id "0HMTHFN2NI9BK" accepted.
2023-09-09 22:43:16.521 +01:00 [DBG] Connection id "0HMTHFN2NI9BJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:43:16.528 +01:00 [DBG] Connection id "0HMTHFN2NI9BK" started.
2023-09-09 22:43:16.670 +01:00 [DBG] Connection id "0HMTHFN2NI9BK" received FIN.
2023-09-09 22:43:16.673 +01:00 [DBG] Connection id "0HMTHFN2NI9BL" accepted.
2023-09-09 22:43:16.678 +01:00 [DBG] Connection id "0HMTHFN2NI9BL" started.
2023-09-09 22:43:16.690 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:43:16.692 +01:00 [DBG] Connection id "0HMTHFN2NI9BK" stopped.
2023-09-09 22:43:16.694 +01:00 [DBG] Connection id "0HMTHFN2NI9BK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:43:16.744 +01:00 [DBG] Connection 0HMTHFN2NI9BL established using the following protocol: "Tls12"
2023-09-09 22:43:16.999 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-09 22:43:17.169 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-09 22:43:17.277 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-09 22:43:17.278 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:43:17.463 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 482.8870ms
2023-09-09 22:43:17.468 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-09 22:43:17.506 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-09 22:43:17.506 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:43:18.171 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-09 22:43:18.615 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-09 22:43:18.615 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-09 22:43:18.615 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:43:18.616 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-09 22:43:18.619 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-09 22:43:18.620 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 1151.9296ms
2023-09-09 22:43:18.623 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-09 22:43:18.623 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:43:18.623 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-09 22:43:18.624 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-09 22:43:18.624 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:43:18.624 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-09 22:43:18.652 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 27.9170ms
2023-09-09 22:43:18.733 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-09 22:43:18.744 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-09 22:43:18.746 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 131.4559ms
2023-09-09 22:43:18.752 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-09 22:43:18.752 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 128.9160ms
2023-09-09 22:43:18.802 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-09 22:43:18.802 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 183.3430ms
2023-09-09 22:43:18.814 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.9435ms
2023-09-09 22:43:19.362 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-09 22:43:19.362 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-09 22:43:19.362 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:43:20.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 746.1789ms
2023-09-09 22:43:29.477 +01:00 [DBG] Connection id "0HMTHFN2NI9BL" received FIN.
2023-09-09 22:43:29.495 +01:00 [DBG] Connection id "0HMTHFN2NI9BL" is closed. The last processed stream ID was 15.
2023-09-09 22:43:29.495 +01:00 [DBG] Connection id "0HMTHFN2NI9BL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:43:29.510 +01:00 [DBG] Connection id "0HMTHFN2NI9BL" stopped.
2023-09-09 22:43:52.057 +01:00 [DBG] Connection id "0HMTHFN2NI9BM" accepted.
2023-09-09 22:43:52.068 +01:00 [DBG] Connection id "0HMTHFN2NI9BM" started.
2023-09-09 22:43:52.103 +01:00 [DBG] Connection id "0HMTHFN2NI9BM" received FIN.
2023-09-09 22:43:52.122 +01:00 [DBG] Connection id "0HMTHFN2NI9BN" accepted.
2023-09-09 22:43:52.122 +01:00 [DBG] Connection id "0HMTHFN2NI9BN" started.
2023-09-09 22:43:52.123 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:43:52.125 +01:00 [DBG] Connection 0HMTHFN2NI9BN established using the following protocol: "Tls12"
2023-09-09 22:43:52.126 +01:00 [DBG] Connection id "0HMTHFN2NI9BM" stopped.
2023-09-09 22:43:52.126 +01:00 [DBG] Connection id "0HMTHFN2NI9BM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:43:52.131 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 90
2023-09-09 22:43:52.165 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-09 22:43:52.211 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-09 22:43:52.232 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:43:52.232 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:43:52.525 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:43:52.535 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:43:52.715 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:43:52.717 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:43:52.718 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:43:52.718 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:43:52.718 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:43:52.719 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:43:52.720 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:43:53.316 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-09 22:43:53.478 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:43:53.519 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 22:43:53.524 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-09 22:43:53.526 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:43:53.526 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:43:53.585 +01:00 [DBG] Connection id "0HMTHFN2NI9BN", Request id "0HMTHFN2NI9BN:00000001": started reading request body.
2023-09-09 22:43:53.586 +01:00 [DBG] Connection id "0HMTHFN2NI9BN", Request id "0HMTHFN2NI9BN:00000001": done reading request body.
2023-09-09 22:43:54.070 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:43:54.071 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:43:54.071 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 22:43:54.107 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:44:09.161 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-09 22:44:09.161 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-09 22:44:10.391 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:44:10.655 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-09 22:44:11.936 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-09 22:44:12.158 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:44:12.320 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (169ms).
2023-09-09 22:44:12.364 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:44:13.448 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:44:13.485 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 22:44:13.765 +01:00 [INF] Executed DbCommand (280ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 22:44:13.808 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:44:13.823 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:44:13.866 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:44:13.892 +01:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2023-09-09 22:44:13.899 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 22:44:13.909 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 22:44:13.909 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 22:44:13.909 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 22:44:13.912 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 22:44:13.912 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 22:44:14.133 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 21391.2208ms
2023-09-09 22:44:14.135 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:44:14.153 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 22:44:14.176 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 90 - 200 68 application/json;+charset=utf-8 22044.2206ms
2023-09-09 22:44:19.557 +01:00 [DBG] Connection id "0HMTHFN2NI9BN" received FIN.
2023-09-09 22:44:19.557 +01:00 [DBG] Connection id "0HMTHFN2NI9BN" is closed. The last processed stream ID was 1.
2023-09-09 22:44:19.557 +01:00 [DBG] Connection id "0HMTHFN2NI9BN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:44:19.558 +01:00 [DBG] Connection id "0HMTHFN2NI9BN" stopped.
2023-09-09 22:46:14.659 +01:00 [DBG] Connection id "0HMTHFN2NI9BO" accepted.
2023-09-09 22:46:14.675 +01:00 [DBG] Connection id "0HMTHFN2NI9BO" started.
2023-09-09 22:46:14.724 +01:00 [DBG] Connection id "0HMTHFN2NI9BP" accepted.
2023-09-09 22:46:14.724 +01:00 [DBG] Connection id "0HMTHFN2NI9BO" received FIN.
2023-09-09 22:46:14.724 +01:00 [DBG] Connection id "0HMTHFN2NI9BP" started.
2023-09-09 22:46:14.727 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:46:14.729 +01:00 [DBG] Connection id "0HMTHFN2NI9BO" stopped.
2023-09-09 22:46:14.729 +01:00 [DBG] Connection id "0HMTHFN2NI9BO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:46:14.787 +01:00 [DBG] Connection 0HMTHFN2NI9BP established using the following protocol: "Tls12"
2023-09-09 22:46:14.795 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 90
2023-09-09 22:46:14.833 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-09 22:46:14.834 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-09 22:46:14.835 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:46:14.835 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:46:14.837 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:46:14.837 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:46:14.839 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:46:14.840 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:46:14.840 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:46:14.840 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:46:14.840 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:46:14.841 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:46:14.841 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:46:14.871 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:46:14.871 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 22:46:14.872 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-09 22:46:14.872 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:46:14.872 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:46:14.872 +01:00 [DBG] Connection id "0HMTHFN2NI9BP", Request id "0HMTHFN2NI9BP:00000001": started reading request body.
2023-09-09 22:46:14.872 +01:00 [DBG] Connection id "0HMTHFN2NI9BP", Request id "0HMTHFN2NI9BP:00000001": done reading request body.
2023-09-09 22:46:14.873 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:46:14.873 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:46:14.873 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 22:46:14.874 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:46:14.878 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:46:14.889 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:46:14.892 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-09-09 22:46:14.893 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:46:14.900 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:46:14.900 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 22:46:14.914 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 22:46:14.914 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:46:14.915 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:46:14.915 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:49:58.201 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-09 22:49:58.556 +01:00 [DBG] Hosting starting
2023-09-09 22:49:58.622 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-09 22:49:58.627 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-09 22:49:58.650 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-09 22:49:58.663 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-09 22:49:58.665 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 22:49:58.671 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-09 22:49:58.672 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 22:49:58.679 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-09 22:49:58.681 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-09 22:49:58.685 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-09 22:49:58.685 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-09 22:49:58.930 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-09 22:49:59.001 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-09 22:49:59.002 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-09 22:49:59.002 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-09 22:49:59.002 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-09 22:49:59.002 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-09 22:49:59.002 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-09 22:49:59.003 +01:00 [INF] Hosting environment: Development
2023-09-09 22:49:59.003 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-09 22:49:59.003 +01:00 [DBG] Hosting started
2023-09-09 22:49:59.262 +01:00 [DBG] Connection id "0HMTHFQRBF4IQ" accepted.
2023-09-09 22:49:59.262 +01:00 [DBG] Connection id "0HMTHFQRBF4IP" accepted.
2023-09-09 22:49:59.264 +01:00 [DBG] Connection id "0HMTHFQRBF4IQ" started.
2023-09-09 22:49:59.264 +01:00 [DBG] Connection id "0HMTHFQRBF4IP" started.
2023-09-09 22:49:59.286 +01:00 [DBG] Connection id "0HMTHFQRBF4IQ" received FIN.
2023-09-09 22:49:59.286 +01:00 [DBG] Connection id "0HMTHFQRBF4IP" received FIN.
2023-09-09 22:49:59.297 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:49:59.297 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:49:59.377 +01:00 [DBG] Connection id "0HMTHFQRBF4IP" stopped.
2023-09-09 22:49:59.377 +01:00 [DBG] Connection id "0HMTHFQRBF4IQ" stopped.
2023-09-09 22:49:59.380 +01:00 [DBG] Connection id "0HMTHFQRBF4IP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:49:59.380 +01:00 [DBG] Connection id "0HMTHFQRBF4IQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:49:59.730 +01:00 [DBG] Connection id "0HMTHFQRBF4IR" accepted.
2023-09-09 22:49:59.732 +01:00 [DBG] Connection id "0HMTHFQRBF4IR" started.
2023-09-09 22:49:59.930 +01:00 [DBG] Connection id "0HMTHFQRBF4IS" accepted.
2023-09-09 22:49:59.953 +01:00 [DBG] Connection id "0HMTHFQRBF4IR" received FIN.
2023-09-09 22:49:59.954 +01:00 [DBG] Connection id "0HMTHFQRBF4IS" started.
2023-09-09 22:50:00.003 +01:00 [DBG] Connection id "0HMTHFQRBF4IS" received FIN.
2023-09-09 22:50:00.012 +01:00 [DBG] Connection id "0HMTHFQRBF4IT" accepted.
2023-09-09 22:50:00.013 +01:00 [DBG] Connection id "0HMTHFQRBF4IT" started.
2023-09-09 22:50:00.029 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:50:00.029 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:50:00.031 +01:00 [DBG] Connection id "0HMTHFQRBF4IR" stopped.
2023-09-09 22:50:00.031 +01:00 [DBG] Connection id "0HMTHFQRBF4IS" stopped.
2023-09-09 22:50:00.031 +01:00 [DBG] Connection id "0HMTHFQRBF4IS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:50:00.042 +01:00 [DBG] Connection id "0HMTHFQRBF4IR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:50:00.065 +01:00 [DBG] Connection 0HMTHFQRBF4IT established using the following protocol: "Tls12"
2023-09-09 22:50:00.215 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-09 22:50:00.327 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-09 22:50:00.411 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-09 22:50:00.411 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:50:00.569 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 366.5367ms
2023-09-09 22:50:00.596 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-09 22:50:00.597 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-09 22:50:00.597 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:50:01.090 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-09 22:50:01.464 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-09 22:50:01.464 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-09 22:50:01.464 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-09 22:50:01.464 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:50:01.464 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-09 22:50:01.464 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-09 22:50:01.465 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:50:01.465 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-09 22:50:01.465 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-09 22:50:01.465 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:50:01.475 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 10.1400ms
2023-09-09 22:50:01.491 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-09 22:50:01.505 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 909.2688ms
2023-09-09 22:50:01.539 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-09 22:50:01.539 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-09 22:50:01.541 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 75.9236ms
2023-09-09 22:50:01.544 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 80.2891ms
2023-09-09 22:50:01.550 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-09 22:50:01.550 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 86.1610ms
2023-09-09 22:50:01.566 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-09 22:50:01.656 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 90.3994ms
2023-09-09 22:50:02.237 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-09 22:50:02.238 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-09 22:50:02.238 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:50:03.041 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 803.0889ms
2023-09-09 22:50:05.106 +01:00 [DBG] Connection id "0HMTHFQRBF4IT" received FIN.
2023-09-09 22:50:05.120 +01:00 [DBG] Connection id "0HMTHFQRBF4IT" is closed. The last processed stream ID was 15.
2023-09-09 22:50:05.122 +01:00 [DBG] Connection id "0HMTHFQRBF4IT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:50:05.129 +01:00 [DBG] Connection id "0HMTHFQRBF4IT" stopped.
2023-09-09 22:50:33.739 +01:00 [DBG] Connection id "0HMTHFQRBF4IU" accepted.
2023-09-09 22:50:33.751 +01:00 [DBG] Connection id "0HMTHFQRBF4IU" started.
2023-09-09 22:50:33.790 +01:00 [DBG] Connection id "0HMTHFQRBF4IU" received FIN.
2023-09-09 22:50:33.805 +01:00 [DBG] Connection id "0HMTHFQRBF4IV" accepted.
2023-09-09 22:50:33.805 +01:00 [DBG] Connection id "0HMTHFQRBF4IV" started.
2023-09-09 22:50:33.805 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:50:33.810 +01:00 [DBG] Connection id "0HMTHFQRBF4IU" stopped.
2023-09-09 22:50:33.811 +01:00 [DBG] Connection 0HMTHFQRBF4IV established using the following protocol: "Tls12"
2023-09-09 22:50:33.811 +01:00 [DBG] Connection id "0HMTHFQRBF4IU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:50:33.820 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 81
2023-09-09 22:50:33.847 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-09 22:50:33.875 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-09 22:50:33.898 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:50:33.899 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:50:34.131 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:50:34.136 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:50:34.266 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:50:34.269 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:50:34.270 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:50:34.270 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:50:34.271 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:50:34.272 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:50:34.275 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:50:34.811 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-09 22:50:34.917 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:50:34.947 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 22:50:34.951 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-09 22:50:34.953 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:50:34.953 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:50:34.990 +01:00 [DBG] Connection id "0HMTHFQRBF4IV", Request id "0HMTHFQRBF4IV:00000001": started reading request body.
2023-09-09 22:50:34.991 +01:00 [DBG] Connection id "0HMTHFQRBF4IV", Request id "0HMTHFQRBF4IV:00000001": done reading request body.
2023-09-09 22:50:35.479 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:50:35.480 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:50:35.480 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 22:50:35.518 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:50:37.679 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-09 22:50:37.679 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-09 22:50:38.824 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:50:39.046 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-09 22:50:40.349 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-09 22:50:40.563 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:50:40.686 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (128ms).
2023-09-09 22:50:40.722 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:50:41.685 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:50:41.763 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 22:50:42.034 +01:00 [INF] Executed DbCommand (313ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 22:50:42.094 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:50:42.110 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:50:42.163 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:53:40.034 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-09 22:53:40.215 +01:00 [DBG] Hosting starting
2023-09-09 22:53:40.277 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-09 22:53:40.280 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-09 22:53:40.291 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-09 22:53:40.304 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-09 22:53:40.307 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 22:53:40.311 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-09 22:53:40.313 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 22:53:40.321 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-09 22:53:40.323 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-09 22:53:40.326 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-09 22:53:40.326 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-09 22:53:40.571 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-09 22:53:40.644 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-09 22:53:40.644 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-09 22:53:40.644 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-09 22:53:40.644 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-09 22:53:40.644 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-09 22:53:40.645 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-09 22:53:40.645 +01:00 [INF] Hosting environment: Development
2023-09-09 22:53:40.645 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-09 22:53:40.645 +01:00 [DBG] Hosting started
2023-09-09 22:53:40.704 +01:00 [DBG] Connection id "0HMTHFSTBCET8" received FIN.
2023-09-09 22:53:40.736 +01:00 [DBG] Connection id "0HMTHFSTBCET8" accepted.
2023-09-09 22:53:40.739 +01:00 [DBG] Connection id "0HMTHFSTBCET8" started.
2023-09-09 22:53:40.773 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:53:40.840 +01:00 [DBG] Connection id "0HMTHFSTBCET8" stopped.
2023-09-09 22:53:40.850 +01:00 [DBG] Connection id "0HMTHFSTBCET8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:53:41.174 +01:00 [DBG] Connection id "0HMTHFSTBCET9" accepted.
2023-09-09 22:53:41.184 +01:00 [DBG] Connection id "0HMTHFSTBCET9" started.
2023-09-09 22:53:41.488 +01:00 [DBG] Connection id "0HMTHFSTBCET9" received FIN.
2023-09-09 22:53:41.490 +01:00 [DBG] Connection id "0HMTHFSTBCETA" accepted.
2023-09-09 22:53:41.491 +01:00 [DBG] Connection id "0HMTHFSTBCETA" started.
2023-09-09 22:53:41.495 +01:00 [DBG] Connection id "0HMTHFSTBCETA" received FIN.
2023-09-09 22:53:41.495 +01:00 [DBG] Connection id "0HMTHFSTBCETB" accepted.
2023-09-09 22:53:41.496 +01:00 [DBG] Connection id "0HMTHFSTBCETB" started.
2023-09-09 22:53:41.497 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:53:41.497 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:53:41.500 +01:00 [DBG] Connection id "0HMTHFSTBCET9" stopped.
2023-09-09 22:53:41.505 +01:00 [DBG] Connection id "0HMTHFSTBCETA" stopped.
2023-09-09 22:53:41.505 +01:00 [DBG] Connection id "0HMTHFSTBCET9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:53:41.506 +01:00 [DBG] Connection id "0HMTHFSTBCETA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:53:41.544 +01:00 [DBG] Connection 0HMTHFSTBCETB established using the following protocol: "Tls12"
2023-09-09 22:53:41.705 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-09 22:53:41.818 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-09 22:53:41.892 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-09 22:53:41.893 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:53:42.037 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 345.5373ms
2023-09-09 22:53:42.065 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-09 22:53:42.066 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-09 22:53:42.066 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:53:42.512 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-09 22:53:42.889 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-09 22:53:42.889 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-09 22:53:42.889 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-09 22:53:42.889 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-09 22:53:42.889 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:53:42.889 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:53:42.891 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-09 22:53:42.891 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-09 22:53:42.891 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:53:42.900 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-09 22:53:42.906 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-09 22:53:42.909 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 844.5583ms
2023-09-09 22:53:42.951 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 50.5033ms
2023-09-09 22:53:42.966 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-09 22:53:42.966 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-09 22:53:42.984 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 93.1482ms
2023-09-09 22:53:42.984 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 95.9958ms
2023-09-09 22:53:42.988 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-09 22:53:43.003 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-09 22:53:43.004 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 114.4500ms
2023-09-09 22:53:43.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 119.7474ms
2023-09-09 22:53:43.554 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-09 22:53:43.554 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-09 22:53:43.554 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:53:44.306 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 752.0772ms
2023-09-09 22:53:45.465 +01:00 [DBG] Connection id "0HMTHFSTBCETB" received FIN.
2023-09-09 22:53:45.484 +01:00 [DBG] Connection id "0HMTHFSTBCETB" is closed. The last processed stream ID was 15.
2023-09-09 22:53:45.485 +01:00 [DBG] Connection id "0HMTHFSTBCETB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:53:45.495 +01:00 [DBG] Connection id "0HMTHFSTBCETB" stopped.
2023-09-09 22:54:24.705 +01:00 [DBG] Connection id "0HMTHFSTBCETC" accepted.
2023-09-09 22:54:24.722 +01:00 [DBG] Connection id "0HMTHFSTBCETC" started.
2023-09-09 22:54:24.769 +01:00 [DBG] Connection id "0HMTHFSTBCETC" received FIN.
2023-09-09 22:54:24.796 +01:00 [DBG] Connection id "0HMTHFSTBCETD" accepted.
2023-09-09 22:54:24.797 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:54:24.797 +01:00 [DBG] Connection id "0HMTHFSTBCETD" started.
2023-09-09 22:54:24.799 +01:00 [DBG] Connection id "0HMTHFSTBCETC" stopped.
2023-09-09 22:54:24.799 +01:00 [DBG] Connection id "0HMTHFSTBCETC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:54:24.818 +01:00 [DBG] Connection 0HMTHFSTBCETD established using the following protocol: "Tls12"
2023-09-09 22:54:24.820 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 91
2023-09-09 22:54:24.844 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-09 22:54:24.873 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-09 22:54:24.884 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:54:24.885 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:54:25.126 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:54:25.138 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:54:25.284 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:54:25.286 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:54:25.286 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:54:25.287 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:54:25.287 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:54:25.287 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:54:25.289 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:54:25.783 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-09 22:54:25.878 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:54:25.921 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 22:54:25.930 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-09 22:54:25.934 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:54:25.934 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:54:25.992 +01:00 [DBG] Connection id "0HMTHFSTBCETD", Request id "0HMTHFSTBCETD:00000001": started reading request body.
2023-09-09 22:54:25.993 +01:00 [DBG] Connection id "0HMTHFSTBCETD", Request id "0HMTHFSTBCETD:00000001": done reading request body.
2023-09-09 22:54:26.478 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:54:26.478 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:54:26.479 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 22:54:26.500 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:54:28.751 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-09 22:54:28.751 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-09 22:54:30.122 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:54:30.361 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-09 22:54:31.586 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-09 22:54:31.738 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:54:31.841 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (103ms).
2023-09-09 22:54:31.899 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:54:32.789 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:54:32.850 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 22:54:33.096 +01:00 [INF] Executed DbCommand (274ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 22:54:33.135 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:54:33.145 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:54:33.173 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:54:33.186 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2023-09-09 22:54:33.190 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 22:54:33.204 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 22:54:33.204 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 22:54:33.204 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 22:54:33.207 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 22:54:33.208 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 22:54:33.446 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 8132.6534ms
2023-09-09 22:54:33.449 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:54:33.467 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 22:54:33.476 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 91 - 200 68 application/json;+charset=utf-8 8655.6762ms
2023-09-09 22:54:35.536 +01:00 [DBG] Connection id "0HMTHFSTBCETD" received FIN.
2023-09-09 22:54:35.537 +01:00 [DBG] Connection id "0HMTHFSTBCETD" is closed. The last processed stream ID was 1.
2023-09-09 22:54:35.537 +01:00 [DBG] Connection id "0HMTHFSTBCETD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:54:35.540 +01:00 [DBG] Connection id "0HMTHFSTBCETD" stopped.
2023-09-09 22:55:11.855 +01:00 [DBG] Connection id "0HMTHFSTBCETE" accepted.
2023-09-09 22:55:11.886 +01:00 [DBG] Connection id "0HMTHFSTBCETE" started.
2023-09-09 22:55:11.926 +01:00 [DBG] Connection id "0HMTHFSTBCETE" received FIN.
2023-09-09 22:55:11.928 +01:00 [DBG] Connection id "0HMTHFSTBCETF" accepted.
2023-09-09 22:55:11.930 +01:00 [DBG] Connection id "0HMTHFSTBCETF" started.
2023-09-09 22:55:11.939 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:55:11.939 +01:00 [DBG] Connection 0HMTHFSTBCETF established using the following protocol: "Tls12"
2023-09-09 22:55:11.940 +01:00 [DBG] Connection id "0HMTHFSTBCETE" stopped.
2023-09-09 22:55:11.940 +01:00 [DBG] Connection id "0HMTHFSTBCETE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:55:11.941 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 91
2023-09-09 22:55:11.943 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-09 22:55:11.944 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-09 22:55:11.944 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:55:11.944 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:55:11.945 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:55:11.945 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:55:11.946 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:55:11.946 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:55:11.947 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:55:11.947 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:55:11.947 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:55:11.947 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:55:11.947 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:55:11.975 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:55:11.976 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 22:55:11.977 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-09 22:55:11.977 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:55:11.977 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:55:11.977 +01:00 [DBG] Connection id "0HMTHFSTBCETF", Request id "0HMTHFSTBCETF:00000001": started reading request body.
2023-09-09 22:55:11.977 +01:00 [DBG] Connection id "0HMTHFSTBCETF", Request id "0HMTHFSTBCETF:00000001": done reading request body.
2023-09-09 22:55:11.977 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:55:11.977 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:55:11.977 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 22:55:11.978 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:55:11.981 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:55:11.991 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:55:11.992 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:55:11.992 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:55:11.996 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:55:11.996 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 22:55:12.007 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 22:55:12.007 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:55:12.007 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:55:12.007 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:55:25.809 +01:00 [WRN] User password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2023-09-09 22:56:04.433 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-09 22:56:04.638 +01:00 [DBG] Hosting starting
2023-09-09 22:56:04.703 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-09 22:56:04.708 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-09 22:56:04.722 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-09 22:56:04.738 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-09 22:56:04.741 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 22:56:04.745 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-09 22:56:04.747 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 22:56:04.754 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-09 22:56:04.756 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-09 22:56:04.759 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-09 22:56:04.760 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-09 22:56:05.003 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-09 22:56:05.079 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-09 22:56:05.079 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-09 22:56:05.079 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-09 22:56:05.079 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-09 22:56:05.080 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-09 22:56:05.080 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-09 22:56:05.080 +01:00 [INF] Hosting environment: Development
2023-09-09 22:56:05.080 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-09 22:56:05.080 +01:00 [DBG] Hosting started
2023-09-09 22:56:05.256 +01:00 [DBG] Connection id "0HMTHFU8DTT3D" received FIN.
2023-09-09 22:56:05.305 +01:00 [DBG] Connection id "0HMTHFU8DTT3D" accepted.
2023-09-09 22:56:05.308 +01:00 [DBG] Connection id "0HMTHFU8DTT3D" started.
2023-09-09 22:56:05.345 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:56:05.413 +01:00 [DBG] Connection id "0HMTHFU8DTT3D" stopped.
2023-09-09 22:56:05.420 +01:00 [DBG] Connection id "0HMTHFU8DTT3D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:56:05.734 +01:00 [DBG] Connection id "0HMTHFU8DTT3E" accepted.
2023-09-09 22:56:05.788 +01:00 [DBG] Connection id "0HMTHFU8DTT3E" started.
2023-09-09 22:56:05.971 +01:00 [DBG] Connection id "0HMTHFU8DTT3E" received FIN.
2023-09-09 22:56:05.971 +01:00 [DBG] Connection id "0HMTHFU8DTT3F" accepted.
2023-09-09 22:56:05.972 +01:00 [DBG] Connection id "0HMTHFU8DTT3F" started.
2023-09-09 22:56:05.975 +01:00 [DBG] Connection id "0HMTHFU8DTT3F" received FIN.
2023-09-09 22:56:05.976 +01:00 [DBG] Connection id "0HMTHFU8DTT3G" accepted.
2023-09-09 22:56:05.977 +01:00 [DBG] Connection id "0HMTHFU8DTT3G" started.
2023-09-09 22:56:05.988 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:56:05.988 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:56:05.999 +01:00 [DBG] Connection id "0HMTHFU8DTT3E" stopped.
2023-09-09 22:56:06.000 +01:00 [DBG] Connection id "0HMTHFU8DTT3F" stopped.
2023-09-09 22:56:06.000 +01:00 [DBG] Connection id "0HMTHFU8DTT3E" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:56:06.001 +01:00 [DBG] Connection id "0HMTHFU8DTT3F" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:56:06.026 +01:00 [DBG] Connection 0HMTHFU8DTT3G established using the following protocol: "Tls12"
2023-09-09 22:56:06.172 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-09 22:56:06.285 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-09 22:56:06.376 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-09 22:56:06.377 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:56:06.477 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 315.5071ms
2023-09-09 22:56:06.491 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-09 22:56:06.492 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-09 22:56:06.492 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:56:06.935 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-09 22:56:07.405 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-09 22:56:07.405 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-09 22:56:07.405 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:56:07.407 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-09 22:56:07.407 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-09 22:56:07.408 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:56:07.408 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-09 22:56:07.408 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-09 22:56:07.408 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:56:07.409 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-09 22:56:07.421 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 12.1882ms
2023-09-09 22:56:07.428 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-09 22:56:07.480 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 988.8208ms
2023-09-09 22:56:07.533 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-09 22:56:07.534 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 125.8947ms
2023-09-09 22:56:07.555 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-09 22:56:07.578 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-09 22:56:07.578 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 172.8655ms
2023-09-09 22:56:07.658 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-09 22:56:07.658 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 251.1134ms
2023-09-09 22:56:07.677 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 122.4766ms
2023-09-09 22:56:08.218 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-09 22:56:08.218 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-09 22:56:08.218 +01:00 [DBG] Request did not match any endpoints
2023-09-09 22:56:09.026 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 808.1789ms
2023-09-09 22:56:10.682 +01:00 [DBG] Connection id "0HMTHFU8DTT3G" received FIN.
2023-09-09 22:56:10.695 +01:00 [DBG] Connection id "0HMTHFU8DTT3G" is closed. The last processed stream ID was 15.
2023-09-09 22:56:10.696 +01:00 [DBG] Connection id "0HMTHFU8DTT3G" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:56:10.706 +01:00 [DBG] Connection id "0HMTHFU8DTT3G" stopped.
2023-09-09 22:56:39.902 +01:00 [DBG] Connection id "0HMTHFU8DTT3H" accepted.
2023-09-09 22:56:39.927 +01:00 [DBG] Connection id "0HMTHFU8DTT3H" started.
2023-09-09 22:56:39.977 +01:00 [DBG] Connection id "0HMTHFU8DTT3I" accepted.
2023-09-09 22:56:39.978 +01:00 [DBG] Connection id "0HMTHFU8DTT3H" received FIN.
2023-09-09 22:56:39.979 +01:00 [DBG] Connection id "0HMTHFU8DTT3I" started.
2023-09-09 22:56:39.979 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 22:56:39.992 +01:00 [DBG] Connection id "0HMTHFU8DTT3H" stopped.
2023-09-09 22:56:39.992 +01:00 [DBG] Connection 0HMTHFU8DTT3I established using the following protocol: "Tls12"
2023-09-09 22:56:39.992 +01:00 [DBG] Connection id "0HMTHFU8DTT3H" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 22:56:39.995 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 92
2023-09-09 22:56:40.032 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-09 22:56:40.068 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-09 22:56:40.092 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:56:40.092 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 22:56:40.357 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 22:56:40.366 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 22:56:40.534 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 22:56:40.539 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 22:56:40.539 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 22:56:40.540 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:56:40.540 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 22:56:40.541 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 22:56:40.543 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:56:41.107 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-09 22:56:41.214 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 22:56:41.245 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 22:56:41.255 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-09 22:56:41.258 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:56:41.259 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 22:56:41.324 +01:00 [DBG] Connection id "0HMTHFU8DTT3I", Request id "0HMTHFU8DTT3I:00000001": started reading request body.
2023-09-09 22:56:41.325 +01:00 [DBG] Connection id "0HMTHFU8DTT3I", Request id "0HMTHFU8DTT3I:00000001": done reading request body.
2023-09-09 22:56:41.767 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:56:41.767 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:56:41.767 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 22:56:41.801 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 22:56:44.031 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-09 22:56:44.031 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-09 22:56:45.243 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 22:56:45.516 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-09 22:56:46.694 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-09 22:56:46.894 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:56:47.013 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (121ms).
2023-09-09 22:56:47.052 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:56:48.013 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:56:48.088 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 22:56:48.354 +01:00 [INF] Executed DbCommand (312ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 22:56:48.391 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:56:48.402 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:56:48.445 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:57:16.610 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-09-09 22:57:16.632 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-09 22:57:16.691 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:57:16.692 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:57:16.703 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:57:16.712 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:57:16.714 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-09 22:57:16.782 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-09 22:57:16.892 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:57:16.910 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:57:16.912 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:57:17.177 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:57:17.201 +01:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-09 22:57:17.212 +01:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-09 22:57:17.281 +01:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-09 22:57:17.417 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:57:17.418 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:57:17.438 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-09 22:57:17.511 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-09 22:57:17.787 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:57:17.787 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:57:17.797 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-09 22:57:17.813 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-09 22:57:17.832 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:57:17.862 +01:00 [DBG] Committing transaction.
2023-09-09 22:57:17.881 +01:00 [DBG] Committed transaction.
2023-09-09 22:57:17.894 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:57:17.894 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:57:17.904 +01:00 [DBG] Disposing transaction.
2023-09-09 22:57:17.937 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:57:17.951 +01:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-09 22:59:27.285 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-09-09 22:59:27.292 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-09 22:59:27.293 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:59:27.293 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:59:27.293 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:27.293 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:27.293 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-09 22:59:27.300 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-09 22:59:27.301 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:59:27.301 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:27.301 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:30.761 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:59:30.761 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:59:30.761 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:30.761 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:30.762 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-09 22:59:30.763 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-09 22:59:30.763 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:59:30.764 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:30.764 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:30.857 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:59:30.862 +01:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-09 22:59:30.862 +01:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-09 22:59:30.872 +01:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-09 22:59:30.872 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:30.872 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:30.872 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-09 22:59:30.873 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-09 22:59:30.874 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:59:30.874 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:59:30.874 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-09-09 22:59:30.880 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-09-09 22:59:30.880 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:59:30.881 +01:00 [DBG] Committing transaction.
2023-09-09 22:59:30.882 +01:00 [DBG] Committed transaction.
2023-09-09 22:59:30.882 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:30.882 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:30.882 +01:00 [DBG] Disposing transaction.
2023-09-09 22:59:30.883 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:59:30.883 +01:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-09 22:59:49.757 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:59:49.757 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:59:49.757 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:49.757 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:49.757 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-09 22:59:49.814 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-09 22:59:49.815 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:59:49.815 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:49.815 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:49.815 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:59:49.815 +01:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-09 22:59:49.815 +01:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-09 22:59:49.815 +01:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-09 22:59:49.815 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:49.816 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:49.816 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-09 22:59:49.816 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-09 22:59:49.816 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 22:59:49.816 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 22:59:49.816 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-09-09 22:59:49.819 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-09-09 22:59:49.819 +01:00 [DBG] A data reader was disposed.
2023-09-09 22:59:49.819 +01:00 [DBG] Committing transaction.
2023-09-09 22:59:49.820 +01:00 [DBG] Committed transaction.
2023-09-09 22:59:49.820 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:49.820 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 22:59:49.820 +01:00 [DBG] Disposing transaction.
2023-09-09 22:59:49.820 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 22:59:49.820 +01:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-09 23:00:59.728 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-09 23:00:59.963 +01:00 [DBG] Hosting starting
2023-09-09 23:01:00.029 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-09 23:01:00.035 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-09 23:01:00.056 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-09 23:01:00.071 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-09 23:01:00.074 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 23:01:00.082 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-09 23:01:00.084 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-09 23:01:00.091 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-09 23:01:00.094 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-09 23:01:00.099 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-09 23:01:00.100 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-09 23:01:00.329 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-09 23:01:00.406 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-09 23:01:00.407 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-09 23:01:00.407 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-09 23:01:00.407 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-09 23:01:00.407 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-09 23:01:00.407 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-09 23:01:00.407 +01:00 [INF] Hosting environment: Development
2023-09-09 23:01:00.407 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-09 23:01:00.408 +01:00 [DBG] Hosting started
2023-09-09 23:01:00.534 +01:00 [DBG] Connection id "0HMTHG10DTJSR" received FIN.
2023-09-09 23:01:00.588 +01:00 [DBG] Connection id "0HMTHG10DTJSR" accepted.
2023-09-09 23:01:00.592 +01:00 [DBG] Connection id "0HMTHG10DTJSR" started.
2023-09-09 23:01:00.666 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 23:01:00.743 +01:00 [DBG] Connection id "0HMTHG10DTJSR" stopped.
2023-09-09 23:01:00.748 +01:00 [DBG] Connection id "0HMTHG10DTJSR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:01:01.075 +01:00 [DBG] Connection id "0HMTHG10DTJSS" accepted.
2023-09-09 23:01:01.129 +01:00 [DBG] Connection id "0HMTHG10DTJSS" started.
2023-09-09 23:01:01.275 +01:00 [DBG] Connection id "0HMTHG10DTJST" accepted.
2023-09-09 23:01:01.283 +01:00 [DBG] Connection id "0HMTHG10DTJSS" received FIN.
2023-09-09 23:01:01.284 +01:00 [DBG] Connection id "0HMTHG10DTJST" started.
2023-09-09 23:01:01.300 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 23:01:01.305 +01:00 [DBG] Connection id "0HMTHG10DTJSS" stopped.
2023-09-09 23:01:01.307 +01:00 [DBG] Connection id "0HMTHG10DTJSU" accepted.
2023-09-09 23:01:01.307 +01:00 [DBG] Connection id "0HMTHG10DTJST" received FIN.
2023-09-09 23:01:01.307 +01:00 [DBG] Connection id "0HMTHG10DTJSS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:01:01.308 +01:00 [DBG] Connection id "0HMTHG10DTJSU" started.
2023-09-09 23:01:01.309 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 23:01:01.310 +01:00 [DBG] Connection id "0HMTHG10DTJST" stopped.
2023-09-09 23:01:01.310 +01:00 [DBG] Connection id "0HMTHG10DTJST" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:01:01.351 +01:00 [DBG] Connection 0HMTHG10DTJSU established using the following protocol: "Tls12"
2023-09-09 23:01:01.532 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-09 23:01:01.639 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-09 23:01:01.727 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-09 23:01:01.727 +01:00 [DBG] Request did not match any endpoints
2023-09-09 23:01:01.880 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 363.3754ms
2023-09-09 23:01:01.909 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-09 23:01:01.911 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-09 23:01:01.911 +01:00 [DBG] Request did not match any endpoints
2023-09-09 23:01:02.412 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-09 23:01:02.743 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-09 23:01:02.743 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-09 23:01:02.743 +01:00 [DBG] Request did not match any endpoints
2023-09-09 23:01:02.743 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-09 23:01:02.746 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 836.4527ms
2023-09-09 23:01:02.762 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-09 23:01:02.762 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-09 23:01:02.762 +01:00 [DBG] Request did not match any endpoints
2023-09-09 23:01:02.765 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-09 23:01:02.765 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-09 23:01:02.765 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-09 23:01:02.765 +01:00 [DBG] Request did not match any endpoints
2023-09-09 23:01:02.774 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 9.3006ms
2023-09-09 23:01:02.839 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-09 23:01:02.839 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-09 23:01:02.842 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 99.0444ms
2023-09-09 23:01:02.842 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 76.9622ms
2023-09-09 23:01:02.904 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-09 23:01:02.905 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 143.0164ms
2023-09-09 23:01:02.907 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-09 23:01:02.943 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.1148ms
2023-09-09 23:01:03.378 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-09 23:01:03.378 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-09 23:01:03.378 +01:00 [DBG] Request did not match any endpoints
2023-09-09 23:01:04.113 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 735.1059ms
2023-09-09 23:01:06.158 +01:00 [DBG] Connection id "0HMTHG10DTJSU" received FIN.
2023-09-09 23:01:06.170 +01:00 [DBG] Connection id "0HMTHG10DTJSU" is closed. The last processed stream ID was 15.
2023-09-09 23:01:06.170 +01:00 [DBG] Connection id "0HMTHG10DTJSU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:01:06.175 +01:00 [DBG] Connection id "0HMTHG10DTJSU" stopped.
2023-09-09 23:01:33.275 +01:00 [DBG] Connection id "0HMTHG10DTJSV" accepted.
2023-09-09 23:01:33.288 +01:00 [DBG] Connection id "0HMTHG10DTJSV" started.
2023-09-09 23:01:33.417 +01:00 [DBG] Connection id "0HMTHG10DTJSV" received FIN.
2023-09-09 23:01:33.421 +01:00 [DBG] Connection id "0HMTHG10DTJT0" accepted.
2023-09-09 23:01:33.421 +01:00 [DBG] Connection id "0HMTHG10DTJT0" started.
2023-09-09 23:01:33.423 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 23:01:33.425 +01:00 [DBG] Connection 0HMTHG10DTJT0 established using the following protocol: "Tls12"
2023-09-09 23:01:33.425 +01:00 [DBG] Connection id "0HMTHG10DTJSV" stopped.
2023-09-09 23:01:33.425 +01:00 [DBG] Connection id "0HMTHG10DTJSV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:01:33.427 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 56
2023-09-09 23:01:33.457 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 23:01:33.488 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 23:01:33.506 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 23:01:33.507 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 23:01:33.729 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 23:01:33.736 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 23:01:33.873 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 23:01:33.876 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 23:01:33.876 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 23:01:33.877 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 23:01:33.878 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 23:01:33.878 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 23:01:33.881 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 23:01:34.558 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-09 23:01:34.680 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 23:01:34.721 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 23:01:34.731 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 23:01:34.734 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 23:01:34.734 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 23:01:34.789 +01:00 [DBG] Connection id "0HMTHG10DTJT0", Request id "0HMTHG10DTJT0:00000001": started reading request body.
2023-09-09 23:01:34.790 +01:00 [DBG] Connection id "0HMTHG10DTJT0", Request id "0HMTHG10DTJT0:00000001": done reading request body.
2023-09-09 23:01:35.251 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 23:01:35.251 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 23:01:35.251 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 23:01:35.273 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 23:01:37.580 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-09 23:01:37.580 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-09 23:01:38.843 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 23:01:39.121 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-09 23:01:40.449 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-09 23:01:40.673 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 23:01:40.811 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (138ms).
2023-09-09 23:01:40.864 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:01:41.892 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:01:41.935 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 23:01:42.187 +01:00 [INF] Executed DbCommand (266ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 23:01:42.345 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 23:01:42.553 +01:00 [DBG] A data reader was disposed.
2023-09-09 23:01:42.571 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:01:42.620 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:01:42.679 +01:00 [WRN] Invalid password for user.
2023-09-09 23:01:42.690 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 23:01:42.697 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 23:01:42.697 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 23:01:42.697 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 23:01:42.699 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 23:01:42.699 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 23:01:42.937 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 9032.4458ms
2023-09-09 23:01:42.938 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 23:01:42.954 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 23:01:42.964 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 56 - 400 104 application/json;+charset=utf-8 9536.9915ms
2023-09-09 23:01:46.208 +01:00 [DBG] Connection id "0HMTHG10DTJT0" received FIN.
2023-09-09 23:01:46.208 +01:00 [DBG] Connection id "0HMTHG10DTJT0" is closed. The last processed stream ID was 1.
2023-09-09 23:01:46.208 +01:00 [DBG] Connection id "0HMTHG10DTJT0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:01:46.218 +01:00 [DBG] Connection id "0HMTHG10DTJT0" stopped.
2023-09-09 23:02:22.776 +01:00 [DBG] Connection id "0HMTHG10DTJT1" accepted.
2023-09-09 23:02:22.843 +01:00 [DBG] Connection id "0HMTHG10DTJT1" started.
2023-09-09 23:02:22.882 +01:00 [DBG] Connection id "0HMTHG10DTJT1" received FIN.
2023-09-09 23:02:22.882 +01:00 [DBG] Connection id "0HMTHG10DTJT2" accepted.
2023-09-09 23:02:22.883 +01:00 [DBG] Connection id "0HMTHG10DTJT2" started.
2023-09-09 23:02:22.884 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 23:02:22.885 +01:00 [DBG] Connection id "0HMTHG10DTJT1" stopped.
2023-09-09 23:02:22.885 +01:00 [DBG] Connection id "0HMTHG10DTJT1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:02:22.894 +01:00 [DBG] Connection 0HMTHG10DTJT2 established using the following protocol: "Tls12"
2023-09-09 23:02:22.895 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 45
2023-09-09 23:02:22.900 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 23:02:22.900 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 23:02:22.900 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 23:02:22.900 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 23:02:22.901 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 23:02:22.901 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 23:02:22.902 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 23:02:22.902 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 23:02:22.902 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 23:02:22.902 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 23:02:22.902 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 23:02:22.902 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 23:02:22.902 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 23:02:22.925 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 23:02:22.926 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 23:02:22.927 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 23:02:22.927 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 23:02:22.927 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 23:02:22.927 +01:00 [DBG] Connection id "0HMTHG10DTJT2", Request id "0HMTHG10DTJT2:00000001": started reading request body.
2023-09-09 23:02:22.927 +01:00 [DBG] Connection id "0HMTHG10DTJT2", Request id "0HMTHG10DTJT2:00000001": done reading request body.
2023-09-09 23:02:22.928 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 23:02:22.928 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 23:02:22.928 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 23:02:22.928 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 23:02:22.932 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 23:02:22.949 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 23:02:22.950 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-09-09 23:02:22.951 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:02:22.961 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:02:22.961 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 23:02:22.980 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 23:02:22.981 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 23:02:22.981 +01:00 [DBG] A data reader was disposed.
2023-09-09 23:02:22.981 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:02:22.981 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:02:23.001 +01:00 [WRN] Invalid password for user.
2023-09-09 23:02:23.001 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 23:02:23.001 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 23:02:23.002 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 23:02:23.002 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 23:02:23.002 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 23:02:23.002 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 23:02:23.002 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 99.98ms
2023-09-09 23:02:23.003 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 23:02:23.004 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 23:02:23.005 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 45 - 400 104 application/json;+charset=utf-8 109.4620ms
2023-09-09 23:02:26.254 +01:00 [DBG] Connection id "0HMTHG10DTJT2" received FIN.
2023-09-09 23:02:26.254 +01:00 [DBG] Connection id "0HMTHG10DTJT2" is closed. The last processed stream ID was 1.
2023-09-09 23:02:26.255 +01:00 [DBG] Connection id "0HMTHG10DTJT2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:02:26.255 +01:00 [DBG] Connection id "0HMTHG10DTJT2" stopped.
2023-09-09 23:02:42.888 +01:00 [DBG] Connection id "0HMTHG10DTJT3" accepted.
2023-09-09 23:02:42.888 +01:00 [DBG] Connection id "0HMTHG10DTJT3" started.
2023-09-09 23:02:42.899 +01:00 [DBG] Connection id "0HMTHG10DTJT3" received FIN.
2023-09-09 23:02:42.905 +01:00 [DBG] Connection id "0HMTHG10DTJT4" accepted.
2023-09-09 23:02:42.906 +01:00 [DBG] Connection id "0HMTHG10DTJT4" started.
2023-09-09 23:02:42.928 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 23:02:42.928 +01:00 [DBG] Connection 0HMTHG10DTJT4 established using the following protocol: "Tls12"
2023-09-09 23:02:42.929 +01:00 [DBG] Connection id "0HMTHG10DTJT3" stopped.
2023-09-09 23:02:42.929 +01:00 [DBG] Connection id "0HMTHG10DTJT3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:02:42.932 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 55
2023-09-09 23:02:42.932 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 23:02:42.934 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 23:02:42.934 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 23:02:42.934 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 23:02:42.940 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 23:02:42.940 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 23:02:42.940 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 23:02:42.940 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 23:02:42.940 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 23:02:42.940 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 23:02:42.940 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 23:02:42.940 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 23:02:42.940 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 23:02:42.965 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 23:02:42.966 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 23:02:42.966 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 23:02:42.967 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 23:02:42.968 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 23:02:42.968 +01:00 [DBG] Connection id "0HMTHG10DTJT4", Request id "0HMTHG10DTJT4:00000001": started reading request body.
2023-09-09 23:02:42.968 +01:00 [DBG] Connection id "0HMTHG10DTJT4", Request id "0HMTHG10DTJT4:00000001": done reading request body.
2023-09-09 23:02:42.968 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 23:02:42.968 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 23:02:42.968 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 23:02:42.968 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 23:02:43.110 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 23:02:43.114 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 23:02:43.114 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 23:02:43.114 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:02:43.115 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:02:43.115 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 23:02:43.121 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 23:02:43.121 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 23:02:43.122 +01:00 [DBG] A data reader was disposed.
2023-09-09 23:02:43.122 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:02:43.122 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:02:43.141 +01:00 [WRN] Invalid password for user.
2023-09-09 23:02:43.142 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 23:02:43.142 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 23:02:43.142 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 23:02:43.142 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 23:02:43.142 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 23:02:43.142 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 23:02:43.143 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 202.2312ms
2023-09-09 23:02:43.143 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 23:02:43.143 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 23:02:43.143 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 55 - 400 104 application/json;+charset=utf-8 211.4108ms
2023-09-09 23:02:46.292 +01:00 [DBG] Connection id "0HMTHG10DTJT4" received FIN.
2023-09-09 23:02:46.292 +01:00 [DBG] Connection id "0HMTHG10DTJT4" is closed. The last processed stream ID was 1.
2023-09-09 23:02:46.292 +01:00 [DBG] Connection id "0HMTHG10DTJT4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:02:46.294 +01:00 [DBG] Connection id "0HMTHG10DTJT4" stopped.
2023-09-09 23:03:19.206 +01:00 [DBG] Connection id "0HMTHG10DTJT5" accepted.
2023-09-09 23:03:19.229 +01:00 [DBG] Connection id "0HMTHG10DTJT5" started.
2023-09-09 23:03:19.266 +01:00 [DBG] Connection id "0HMTHG10DTJT6" accepted.
2023-09-09 23:03:19.267 +01:00 [DBG] Connection id "0HMTHG10DTJT6" started.
2023-09-09 23:03:19.281 +01:00 [DBG] Connection id "0HMTHG10DTJT5" received FIN.
2023-09-09 23:03:19.294 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 23:03:19.295 +01:00 [DBG] Connection id "0HMTHG10DTJT5" stopped.
2023-09-09 23:03:19.295 +01:00 [DBG] Connection id "0HMTHG10DTJT5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:03:19.297 +01:00 [DBG] Connection 0HMTHG10DTJT6 established using the following protocol: "Tls12"
2023-09-09 23:03:19.299 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 46
2023-09-09 23:03:19.299 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-09 23:03:19.299 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-09 23:03:19.299 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 23:03:19.299 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 23:03:19.299 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 23:03:19.299 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 23:03:19.300 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 23:03:19.300 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 23:03:19.300 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 23:03:19.300 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 23:03:19.300 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 23:03:19.300 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 23:03:19.300 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 23:03:19.300 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 23:03:19.301 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 23:03:19.302 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-09 23:03:19.302 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 23:03:19.302 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 23:03:19.302 +01:00 [DBG] Connection id "0HMTHG10DTJT6", Request id "0HMTHG10DTJT6:00000001": started reading request body.
2023-09-09 23:03:19.302 +01:00 [DBG] Connection id "0HMTHG10DTJT6", Request id "0HMTHG10DTJT6:00000001": done reading request body.
2023-09-09 23:03:19.302 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 23:03:19.303 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 23:03:19.303 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-09 23:03:19.303 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-09 23:03:19.304 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 23:03:19.306 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 23:03:19.306 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 23:03:19.306 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:03:19.306 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:03:19.306 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 23:03:19.313 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-09 23:03:19.313 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 23:03:19.313 +01:00 [DBG] A data reader was disposed.
2023-09-09 23:03:19.313 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:03:19.313 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:03:19.340 +01:00 [WRN] Invalid password for user.
2023-09-09 23:03:19.341 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-09 23:03:19.341 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-09 23:03:19.341 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-09 23:03:19.341 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-09 23:03:19.341 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-09 23:03:19.341 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-09 23:03:19.341 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 41.5101ms
2023-09-09 23:03:19.342 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-09 23:03:19.342 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-09 23:03:19.342 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 46 - 400 104 application/json;+charset=utf-8 43.1328ms
2023-09-09 23:03:26.319 +01:00 [DBG] Connection id "0HMTHG10DTJT6" received FIN.
2023-09-09 23:03:26.320 +01:00 [DBG] Connection id "0HMTHG10DTJT6" is closed. The last processed stream ID was 1.
2023-09-09 23:03:26.320 +01:00 [DBG] Connection id "0HMTHG10DTJT6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:03:26.320 +01:00 [DBG] Connection id "0HMTHG10DTJT6" stopped.
2023-09-09 23:06:53.681 +01:00 [DBG] Connection id "0HMTHG10DTJT7" accepted.
2023-09-09 23:06:53.681 +01:00 [DBG] Connection id "0HMTHG10DTJT7" started.
2023-09-09 23:06:53.717 +01:00 [DBG] Connection id "0HMTHG10DTJT7" received FIN.
2023-09-09 23:06:53.726 +01:00 [DBG] Connection id "0HMTHG10DTJT8" accepted.
2023-09-09 23:06:53.726 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-09 23:06:53.726 +01:00 [DBG] Connection id "0HMTHG10DTJT8" started.
2023-09-09 23:06:53.727 +01:00 [DBG] Connection id "0HMTHG10DTJT7" stopped.
2023-09-09 23:06:53.727 +01:00 [DBG] Connection id "0HMTHG10DTJT7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-09 23:06:53.742 +01:00 [DBG] Connection 0HMTHG10DTJT8 established using the following protocol: "Tls12"
2023-09-09 23:06:53.744 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 105
2023-09-09 23:06:53.744 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-09 23:06:53.744 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-09 23:06:53.745 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 23:06:53.745 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-09 23:06:53.745 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-09 23:06:53.745 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-09 23:06:53.756 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-09 23:06:53.756 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-09 23:06:53.756 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-09 23:06:53.756 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 23:06:53.756 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-09 23:06:53.756 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-09 23:06:53.756 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 23:06:53.757 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-09 23:06:53.757 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 23:06:53.757 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-09 23:06:53.757 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 23:06:53.757 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-09 23:06:53.757 +01:00 [DBG] Connection id "0HMTHG10DTJT8", Request id "0HMTHG10DTJT8:00000001": started reading request body.
2023-09-09 23:06:53.757 +01:00 [DBG] Connection id "0HMTHG10DTJT8", Request id "0HMTHG10DTJT8:00000001": done reading request body.
2023-09-09 23:06:53.761 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 23:06:53.761 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 23:06:53.761 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-09 23:06:53.764 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-09 23:06:53.768 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-09 23:06:53.769 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-09 23:06:53.781 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-09 23:06:53.782 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 23:06:53.782 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 23:06:53.782 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:06:53.782 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:06:53.782 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 23:06:53.786 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-09 23:06:53.786 +01:00 [DBG] A data reader was disposed.
2023-09-09 23:06:53.786 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:06:53.786 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:06:59.723 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-09-09 23:06:59.738 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-09 23:06:59.816 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 23:06:59.816 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 23:06:59.843 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:06:59.855 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:06:59.860 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-09 23:06:59.954 +01:00 [INF] Executed DbCommand (94ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-09 23:07:00.064 +01:00 [DBG] A data reader was disposed.
2023-09-09 23:07:00.085 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:07:00.089 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:07:00.186 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 23:07:00.215 +01:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-09 23:07:00.223 +01:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-09 23:07:00.284 +01:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-09 23:07:00.357 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:07:00.357 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:07:00.363 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-09 23:07:00.398 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-09 23:07:00.667 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-09 23:07:00.667 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-09 23:07:00.679 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-09 23:07:00.708 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-09 23:07:00.733 +01:00 [DBG] A data reader was disposed.
2023-09-09 23:07:00.755 +01:00 [DBG] Committing transaction.
2023-09-09 23:07:00.768 +01:00 [DBG] Committed transaction.
2023-09-09 23:07:00.778 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:07:00.779 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-09 23:07:00.788 +01:00 [DBG] Disposing transaction.
2023-09-09 23:07:00.830 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-09 23:07:00.839 +01:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
