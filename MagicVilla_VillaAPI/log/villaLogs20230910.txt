2023-09-10 06:51:36.935 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 06:51:37.140 +01:00 [DBG] Hosting starting
2023-09-10 06:51:37.232 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 06:51:37.244 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 06:51:37.318 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 06:51:37.348 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 06:51:37.373 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 06:51:37.383 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 06:51:37.387 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 06:51:37.459 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 06:51:37.462 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 06:51:37.467 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 06:51:37.468 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 06:51:38.224 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 06:51:38.350 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 06:51:38.350 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 06:51:38.350 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 06:51:38.350 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 06:51:38.350 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 06:51:38.351 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 06:51:38.351 +01:00 [INF] Hosting environment: Development
2023-09-10 06:51:38.351 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 06:51:38.351 +01:00 [DBG] Hosting started
2023-09-10 06:51:38.484 +01:00 [DBG] Connection id "0HMTHO7VVU9O3" accepted.
2023-09-10 06:51:38.490 +01:00 [DBG] Connection id "0HMTHO7VVU9O4" accepted.
2023-09-10 06:51:38.492 +01:00 [DBG] Connection id "0HMTHO7VVU9O3" started.
2023-09-10 06:51:38.494 +01:00 [DBG] Connection id "0HMTHO7VVU9O4" started.
2023-09-10 06:51:45.541 +01:00 [DBG] Connection id "0HMTHO7VVU9O5" accepted.
2023-09-10 06:51:45.722 +01:00 [DBG] Connection id "0HMTHO7VVU9O5" started.
2023-09-10 06:51:46.615 +01:00 [DBG] Connection id "0HMTHO7VVU9O6" accepted.
2023-09-10 06:51:46.635 +01:00 [DBG] Connection id "0HMTHO7VVU9O6" started.
2023-09-10 06:51:46.635 +01:00 [DBG] Connection id "0HMTHO7VVU9O5" received FIN.
2023-09-10 06:51:46.702 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 06:51:46.761 +01:00 [DBG] Connection 0HMTHO7VVU9O6 established using the following protocol: "Tls12"
2023-09-10 06:51:46.874 +01:00 [DBG] Connection id "0HMTHO7VVU9O5" stopped.
2023-09-10 06:51:46.881 +01:00 [DBG] Connection id "0HMTHO7VVU9O5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:51:47.011 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 06:51:47.110 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 06:51:47.185 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 06:51:47.186 +01:00 [DBG] Request did not match any endpoints
2023-09-10 06:51:47.327 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 323.9391ms
2023-09-10 06:51:47.362 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 06:51:47.363 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 06:51:47.363 +01:00 [DBG] Request did not match any endpoints
2023-09-10 06:51:47.869 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 06:51:48.321 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 06:51:48.321 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 06:51:48.321 +01:00 [DBG] Request did not match any endpoints
2023-09-10 06:51:48.322 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 06:51:48.322 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 06:51:48.322 +01:00 [DBG] Request did not match any endpoints
2023-09-10 06:51:48.324 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 06:51:48.325 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 06:51:48.325 +01:00 [DBG] Request did not match any endpoints
2023-09-10 06:51:48.330 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 06:51:48.333 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 971.5686ms
2023-09-10 06:51:48.333 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 06:51:48.380 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 46.6651ms
2023-09-10 06:51:48.397 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 06:51:48.397 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 06:51:48.398 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 77.0385ms
2023-09-10 06:51:48.398 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 73.2026ms
2023-09-10 06:51:48.425 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 06:51:48.465 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 06:51:48.465 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 143.2012ms
2023-09-10 06:51:48.564 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 138.8258ms
2023-09-10 06:51:48.588 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-09-10 06:51:48.588 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-09-10 06:51:48.588 +01:00 [DBG] Connection id "0HMTHO7VVU9O3" stopped.
2023-09-10 06:51:48.588 +01:00 [DBG] Connection id "0HMTHO7VVU9O4" stopped.
2023-09-10 06:51:48.588 +01:00 [DBG] Connection id "0HMTHO7VVU9O4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:51:48.588 +01:00 [DBG] Connection id "0HMTHO7VVU9O3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:51:49.010 +01:00 [DBG] Connection id "0HMTHO7VVU9O6" received FIN.
2023-09-10 06:51:49.024 +01:00 [DBG] Connection id "0HMTHO7VVU9O6" is closed. The last processed stream ID was 13.
2023-09-10 06:51:49.024 +01:00 [DBG] Connection id "0HMTHO7VVU9O6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:51:49.038 +01:00 [DBG] Connection id "0HMTHO7VVU9O6" stopped.
2023-09-10 06:51:49.140 +01:00 [DBG] Connection id "0HMTHO7VVU9O7" accepted.
2023-09-10 06:51:49.140 +01:00 [DBG] Connection id "0HMTHO7VVU9O7" started.
2023-09-10 06:51:49.145 +01:00 [DBG] Connection id "0HMTHO7VVU9O8" accepted.
2023-09-10 06:51:49.145 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 06:51:49.145 +01:00 [DBG] Connection id "0HMTHO7VVU9O7" received FIN.
2023-09-10 06:51:49.145 +01:00 [DBG] Connection id "0HMTHO7VVU9O8" started.
2023-09-10 06:51:49.145 +01:00 [DBG] Connection id "0HMTHO7VVU9O7" stopped.
2023-09-10 06:51:49.146 +01:00 [DBG] Connection id "0HMTHO7VVU9O7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:51:49.154 +01:00 [DBG] Connection 0HMTHO7VVU9O8 established using the following protocol: "Tls12"
2023-09-10 06:51:49.155 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 06:51:49.156 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 06:51:49.156 +01:00 [DBG] Request did not match any endpoints
2023-09-10 06:51:49.660 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 504.2663ms
2023-09-10 06:51:50.468 +01:00 [DBG] Connection id "0HMTHO7VVU9O8" received FIN.
2023-09-10 06:51:50.468 +01:00 [DBG] Connection id "0HMTHO7VVU9O8" is closed. The last processed stream ID was 1.
2023-09-10 06:51:50.469 +01:00 [DBG] Connection id "0HMTHO7VVU9O8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:51:50.477 +01:00 [DBG] Connection id "0HMTHO7VVU9O8" stopped.
2023-09-10 06:52:32.213 +01:00 [DBG] Connection id "0HMTHO7VVU9O9" accepted.
2023-09-10 06:52:32.231 +01:00 [DBG] Connection id "0HMTHO7VVU9O9" started.
2023-09-10 06:52:32.315 +01:00 [DBG] Connection id "0HMTHO7VVU9O9" received FIN.
2023-09-10 06:52:32.322 +01:00 [DBG] Connection id "0HMTHO7VVU9OA" accepted.
2023-09-10 06:52:32.322 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 06:52:32.322 +01:00 [DBG] Connection id "0HMTHO7VVU9OA" started.
2023-09-10 06:52:32.323 +01:00 [DBG] Connection id "0HMTHO7VVU9O9" stopped.
2023-09-10 06:52:32.323 +01:00 [DBG] Connection id "0HMTHO7VVU9O9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:52:32.335 +01:00 [DBG] Connection 0HMTHO7VVU9OA established using the following protocol: "Tls12"
2023-09-10 06:52:32.337 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 62
2023-09-10 06:52:32.351 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 06:52:32.363 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 06:52:32.369 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 06:52:32.369 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 06:52:32.518 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 06:52:32.522 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 06:52:32.586 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 06:52:32.587 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 06:52:32.587 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 06:52:32.587 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 06:52:32.587 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 06:52:32.587 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 06:52:32.588 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 06:52:32.922 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 06:52:32.986 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 06:52:33.007 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 06:52:33.009 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 06:52:33.011 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 06:52:33.012 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 06:52:33.036 +01:00 [DBG] Connection id "0HMTHO7VVU9OA", Request id "0HMTHO7VVU9OA:00000001": started reading request body.
2023-09-10 06:52:33.036 +01:00 [DBG] Connection id "0HMTHO7VVU9OA", Request id "0HMTHO7VVU9OA:00000001": done reading request body.
2023-09-10 06:52:33.283 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 06:52:33.284 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 06:52:33.284 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 06:52:33.298 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 06:52:34.288 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 06:52:34.288 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 06:52:34.764 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 06:52:34.896 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-10 06:52:35.378 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 06:52:35.457 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 06:52:35.514 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (60ms).
2023-09-10 06:52:35.538 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 06:52:36.154 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 06:52:36.183 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 06:52:36.285 +01:00 [INF] Executed DbCommand (118ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 06:52:36.336 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 06:52:36.411 +01:00 [DBG] A data reader was disposed.
2023-09-10 06:52:36.415 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 06:52:36.428 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 06:52:36.477 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-09-10 06:52:36.517 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-10 06:52:36.539 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 06:52:36.539 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 06:52:36.548 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 06:52:36.554 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 06:52:36.556 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 06:52:36.595 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 06:52:36.621 +01:00 [DBG] A data reader was disposed.
2023-09-10 06:52:36.629 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 06:52:36.630 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 06:52:36.851 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 4258.2729ms
2023-09-10 06:52:36.854 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 06:52:36.859 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at MagicVilla_VillaAPI.Repository.UserRepository.Login(LoginRequestDTO loginRequestDTO) in C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\Repository\UserRepository.cs:line 57
   at MagicVilla_VillaAPI.Controllers.UserAPIController.Login(LoginRequestDTO model) in C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\Controllers\UserAPIController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-09-10 06:52:36.943 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 06:52:36.953 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 62 - 500 - text/plain;+charset=utf-8 4616.3051ms
2023-09-10 06:56:30.444 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 06:56:30.632 +01:00 [DBG] Hosting starting
2023-09-10 06:56:30.690 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 06:56:30.694 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 06:56:30.704 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 06:56:30.717 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 06:56:30.719 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 06:56:30.725 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 06:56:30.727 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 06:56:30.736 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 06:56:30.740 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 06:56:30.743 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 06:56:30.743 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 06:56:30.933 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 06:56:30.998 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 06:56:30.998 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 06:56:30.998 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 06:56:30.998 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 06:56:30.998 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 06:56:30.999 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 06:56:30.999 +01:00 [INF] Hosting environment: Development
2023-09-10 06:56:30.999 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 06:56:30.999 +01:00 [DBG] Hosting started
2023-09-10 06:56:31.163 +01:00 [DBG] Connection id "0HMTHOAN76REP" received FIN.
2023-09-10 06:56:31.165 +01:00 [DBG] Connection id "0HMTHOAN76REQ" received FIN.
2023-09-10 06:56:31.176 +01:00 [DBG] Connection id "0HMTHOAN76REQ" accepted.
2023-09-10 06:56:31.176 +01:00 [DBG] Connection id "0HMTHOAN76REP" accepted.
2023-09-10 06:56:31.179 +01:00 [DBG] Connection id "0HMTHOAN76REP" started.
2023-09-10 06:56:31.180 +01:00 [DBG] Connection id "0HMTHOAN76REQ" started.
2023-09-10 06:56:31.204 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 06:56:31.204 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 06:56:31.259 +01:00 [DBG] Connection id "0HMTHOAN76REP" stopped.
2023-09-10 06:56:31.259 +01:00 [DBG] Connection id "0HMTHOAN76REQ" stopped.
2023-09-10 06:56:31.264 +01:00 [DBG] Connection id "0HMTHOAN76REQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:56:31.264 +01:00 [DBG] Connection id "0HMTHOAN76REP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:56:32.821 +01:00 [DBG] Connection id "0HMTHOAN76RER" accepted.
2023-09-10 06:56:32.821 +01:00 [DBG] Connection id "0HMTHOAN76RER" started.
2023-09-10 06:56:33.488 +01:00 [DBG] Connection id "0HMTHOAN76RER" received FIN.
2023-09-10 06:56:33.489 +01:00 [DBG] Connection id "0HMTHOAN76RES" accepted.
2023-09-10 06:56:33.490 +01:00 [DBG] Connection id "0HMTHOAN76RES" started.
2023-09-10 06:56:33.500 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 06:56:33.502 +01:00 [DBG] Connection id "0HMTHOAN76RER" stopped.
2023-09-10 06:56:33.505 +01:00 [DBG] Connection id "0HMTHOAN76RER" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:56:33.542 +01:00 [DBG] Connection 0HMTHOAN76RES established using the following protocol: "Tls12"
2023-09-10 06:56:33.673 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 06:56:33.759 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 06:56:33.827 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 06:56:33.827 +01:00 [DBG] Request did not match any endpoints
2023-09-10 06:56:33.951 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 286.9150ms
2023-09-10 06:56:33.983 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 06:56:33.984 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 06:56:33.985 +01:00 [DBG] Request did not match any endpoints
2023-09-10 06:56:34.494 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 06:56:34.862 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 06:56:34.862 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 06:56:34.862 +01:00 [DBG] Request did not match any endpoints
2023-09-10 06:56:34.864 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 06:56:34.865 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 06:56:34.865 +01:00 [DBG] Request did not match any endpoints
2023-09-10 06:56:34.865 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 06:56:34.865 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 06:56:34.865 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 06:56:34.865 +01:00 [DBG] Request did not match any endpoints
2023-09-10 06:56:34.868 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 06:56:34.870 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 887.3118ms
2023-09-10 06:56:34.872 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 7.6560ms
2023-09-10 06:56:34.956 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 06:56:34.976 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 06:56:34.978 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 116.2236ms
2023-09-10 06:56:34.990 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 06:56:34.990 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 125.4673ms
2023-09-10 06:56:35.020 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 06:56:35.020 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 155.6591ms
2023-09-10 06:56:35.051 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 94.2648ms
2023-09-10 06:56:35.194 +01:00 [DBG] Connection id "0HMTHOAN76RES" received FIN.
2023-09-10 06:56:35.208 +01:00 [DBG] Connection id "0HMTHOAN76RES" is closed. The last processed stream ID was 13.
2023-09-10 06:56:35.209 +01:00 [DBG] Connection id "0HMTHOAN76RES" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:56:35.224 +01:00 [DBG] Connection id "0HMTHOAN76RES" stopped.
2023-09-10 06:56:35.575 +01:00 [DBG] Connection id "0HMTHOAN76RET" accepted.
2023-09-10 06:56:35.576 +01:00 [DBG] Connection id "0HMTHOAN76RET" started.
2023-09-10 06:56:35.580 +01:00 [DBG] Connection id "0HMTHOAN76REU" accepted.
2023-09-10 06:56:35.581 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 06:56:35.582 +01:00 [DBG] Connection id "0HMTHOAN76RET" received FIN.
2023-09-10 06:56:35.582 +01:00 [DBG] Connection id "0HMTHOAN76REU" started.
2023-09-10 06:56:35.583 +01:00 [DBG] Connection id "0HMTHOAN76RET" stopped.
2023-09-10 06:56:35.583 +01:00 [DBG] Connection id "0HMTHOAN76RET" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:56:35.590 +01:00 [DBG] Connection 0HMTHOAN76REU established using the following protocol: "Tls12"
2023-09-10 06:56:35.591 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 06:56:35.592 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 06:56:35.592 +01:00 [DBG] Request did not match any endpoints
2023-09-10 06:56:36.057 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 466.2049ms
2023-09-10 06:56:36.153 +01:00 [DBG] Connection id "0HMTHOAN76REU" received FIN.
2023-09-10 06:56:36.153 +01:00 [DBG] Connection id "0HMTHOAN76REU" is closed. The last processed stream ID was 1.
2023-09-10 06:56:36.153 +01:00 [DBG] Connection id "0HMTHOAN76REU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:56:36.169 +01:00 [DBG] Connection id "0HMTHOAN76REU" stopped.
2023-09-10 06:57:02.581 +01:00 [DBG] Connection id "0HMTHOAN76REV" accepted.
2023-09-10 06:57:02.601 +01:00 [DBG] Connection id "0HMTHOAN76REV" started.
2023-09-10 06:57:02.630 +01:00 [DBG] Connection id "0HMTHOAN76REV" received FIN.
2023-09-10 06:57:02.632 +01:00 [DBG] Connection id "0HMTHOAN76RF0" accepted.
2023-09-10 06:57:02.632 +01:00 [DBG] Connection id "0HMTHOAN76RF0" started.
2023-09-10 06:57:02.633 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 06:57:02.634 +01:00 [DBG] Connection 0HMTHOAN76RF0 established using the following protocol: "Tls12"
2023-09-10 06:57:02.675 +01:00 [DBG] Connection id "0HMTHOAN76REV" stopped.
2023-09-10 06:57:02.675 +01:00 [DBG] Connection id "0HMTHOAN76REV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 06:57:02.676 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 62
2023-09-10 06:57:02.688 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 06:57:02.699 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 06:57:02.706 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 06:57:02.706 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 06:57:02.811 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 06:57:02.814 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 06:57:02.863 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 06:57:02.864 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 06:57:02.864 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 06:57:02.864 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 06:57:02.864 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 06:57:02.864 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 06:57:02.865 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 06:57:03.071 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 06:57:03.119 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 06:57:03.134 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 06:57:03.139 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 06:57:03.140 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 06:57:03.140 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 06:57:03.161 +01:00 [DBG] Connection id "0HMTHOAN76RF0", Request id "0HMTHOAN76RF0:00000001": started reading request body.
2023-09-10 06:57:03.162 +01:00 [DBG] Connection id "0HMTHOAN76RF0", Request id "0HMTHOAN76RF0:00000001": done reading request body.
2023-09-10 06:57:03.345 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 06:57:03.345 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 06:57:03.345 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 06:57:03.355 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 06:57:28.671 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 06:57:28.671 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 06:57:29.130 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 06:57:29.224 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-10 06:57:29.819 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 06:57:29.911 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 06:57:29.958 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (50ms).
2023-09-10 06:57:29.978 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 06:57:30.497 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 06:57:30.518 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 06:57:30.649 +01:00 [INF] Executed DbCommand (127ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 06:57:30.734 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 06:57:30.834 +01:00 [DBG] A data reader was disposed.
2023-09-10 06:57:30.838 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 06:57:30.852 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:03.471 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 07:02:03.620 +01:00 [DBG] Hosting starting
2023-09-10 07:02:03.674 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 07:02:03.678 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 07:02:03.688 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 07:02:03.701 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 07:02:03.704 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 07:02:03.711 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 07:02:03.713 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 07:02:03.719 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 07:02:03.721 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 07:02:03.724 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 07:02:03.724 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 07:02:03.921 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 07:02:03.987 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 07:02:03.987 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 07:02:03.987 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 07:02:03.987 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 07:02:03.987 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 07:02:03.987 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 07:02:03.987 +01:00 [INF] Hosting environment: Development
2023-09-10 07:02:03.987 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 07:02:03.988 +01:00 [DBG] Hosting started
2023-09-10 07:02:04.168 +01:00 [DBG] Connection id "0HMTHODQEUQJ0" received FIN.
2023-09-10 07:02:04.173 +01:00 [DBG] Connection id "0HMTHODQEUQJ1" received FIN.
2023-09-10 07:02:04.177 +01:00 [DBG] Connection id "0HMTHODQEUQJ0" accepted.
2023-09-10 07:02:04.177 +01:00 [DBG] Connection id "0HMTHODQEUQJ1" accepted.
2023-09-10 07:02:04.180 +01:00 [DBG] Connection id "0HMTHODQEUQJ1" started.
2023-09-10 07:02:04.180 +01:00 [DBG] Connection id "0HMTHODQEUQJ0" started.
2023-09-10 07:02:04.207 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:02:04.207 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:02:04.267 +01:00 [DBG] Connection id "0HMTHODQEUQJ0" stopped.
2023-09-10 07:02:04.267 +01:00 [DBG] Connection id "0HMTHODQEUQJ1" stopped.
2023-09-10 07:02:04.271 +01:00 [DBG] Connection id "0HMTHODQEUQJ0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:02:04.271 +01:00 [DBG] Connection id "0HMTHODQEUQJ1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:02:05.526 +01:00 [DBG] Connection id "0HMTHODQEUQJ2" accepted.
2023-09-10 07:02:05.533 +01:00 [DBG] Connection id "0HMTHODQEUQJ2" started.
2023-09-10 07:02:06.747 +01:00 [DBG] Connection id "0HMTHODQEUQJ2" received FIN.
2023-09-10 07:02:06.749 +01:00 [DBG] Connection id "0HMTHODQEUQJ3" accepted.
2023-09-10 07:02:06.750 +01:00 [DBG] Connection id "0HMTHODQEUQJ3" started.
2023-09-10 07:02:06.757 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:02:06.759 +01:00 [DBG] Connection id "0HMTHODQEUQJ2" stopped.
2023-09-10 07:02:06.759 +01:00 [DBG] Connection id "0HMTHODQEUQJ2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:02:06.782 +01:00 [DBG] Connection 0HMTHODQEUQJ3 established using the following protocol: "Tls12"
2023-09-10 07:02:06.926 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 07:02:07.011 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 07:02:07.089 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 07:02:07.090 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:02:07.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 313.4908ms
2023-09-10 07:02:07.256 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 07:02:07.257 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 07:02:07.257 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:02:07.749 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 07:02:08.045 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 07:02:08.045 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 07:02:08.045 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 07:02:08.045 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 07:02:08.045 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:02:08.045 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:02:08.046 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 07:02:08.046 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 07:02:08.046 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 07:02:08.046 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:02:08.062 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 07:02:08.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 61.3889ms
2023-09-10 07:02:08.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 852.4853ms
2023-09-10 07:02:08.133 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 07:02:08.133 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 07:02:08.134 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 87.9895ms
2023-09-10 07:02:08.134 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 89.1052ms
2023-09-10 07:02:08.135 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 07:02:08.135 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 89.9999ms
2023-09-10 07:02:08.149 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 07:02:08.208 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.0310ms
2023-09-10 07:02:08.679 +01:00 [DBG] Connection id "0HMTHODQEUQJ3" received FIN.
2023-09-10 07:02:08.693 +01:00 [DBG] Connection id "0HMTHODQEUQJ3" is closed. The last processed stream ID was 13.
2023-09-10 07:02:08.693 +01:00 [DBG] Connection id "0HMTHODQEUQJ3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:02:08.700 +01:00 [DBG] Connection id "0HMTHODQEUQJ3" stopped.
2023-09-10 07:02:08.838 +01:00 [DBG] Connection id "0HMTHODQEUQJ4" accepted.
2023-09-10 07:02:08.838 +01:00 [DBG] Connection id "0HMTHODQEUQJ4" started.
2023-09-10 07:02:08.844 +01:00 [DBG] Connection id "0HMTHODQEUQJ5" accepted.
2023-09-10 07:02:08.844 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:02:08.844 +01:00 [DBG] Connection id "0HMTHODQEUQJ4" received FIN.
2023-09-10 07:02:08.844 +01:00 [DBG] Connection id "0HMTHODQEUQJ5" started.
2023-09-10 07:02:08.845 +01:00 [DBG] Connection id "0HMTHODQEUQJ4" stopped.
2023-09-10 07:02:08.845 +01:00 [DBG] Connection id "0HMTHODQEUQJ4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:02:08.854 +01:00 [DBG] Connection 0HMTHODQEUQJ5 established using the following protocol: "Tls12"
2023-09-10 07:02:08.856 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 07:02:08.856 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 07:02:08.856 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:02:09.348 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 492.4663ms
2023-09-10 07:02:09.488 +01:00 [DBG] Connection id "0HMTHODQEUQJ5" received FIN.
2023-09-10 07:02:09.488 +01:00 [DBG] Connection id "0HMTHODQEUQJ5" is closed. The last processed stream ID was 1.
2023-09-10 07:02:09.488 +01:00 [DBG] Connection id "0HMTHODQEUQJ5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:02:09.489 +01:00 [DBG] Connection id "0HMTHODQEUQJ5" stopped.
2023-09-10 07:02:42.328 +01:00 [DBG] Connection id "0HMTHODQEUQJ6" accepted.
2023-09-10 07:02:42.355 +01:00 [DBG] Connection id "0HMTHODQEUQJ6" started.
2023-09-10 07:02:42.376 +01:00 [DBG] Connection id "0HMTHODQEUQJ7" accepted.
2023-09-10 07:02:42.376 +01:00 [DBG] Connection id "0HMTHODQEUQJ6" received FIN.
2023-09-10 07:02:42.376 +01:00 [DBG] Connection id "0HMTHODQEUQJ7" started.
2023-09-10 07:02:42.377 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:02:42.377 +01:00 [DBG] Connection 0HMTHODQEUQJ7 established using the following protocol: "Tls12"
2023-09-10 07:02:42.377 +01:00 [DBG] Connection id "0HMTHODQEUQJ6" stopped.
2023-09-10 07:02:42.378 +01:00 [DBG] Connection id "0HMTHODQEUQJ6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:02:42.381 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 91
2023-09-10 07:02:42.394 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-10 07:02:42.406 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-10 07:02:42.411 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:02:42.411 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 07:02:42.511 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 07:02:42.514 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:02:42.563 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 07:02:42.564 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 07:02:42.564 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 07:02:42.564 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:02:42.564 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 07:02:42.565 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:02:42.566 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:02:42.800 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 07:02:42.894 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:02:42.912 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 07:02:42.915 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-10 07:02:42.916 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:02:42.916 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:02:42.942 +01:00 [DBG] Connection id "0HMTHODQEUQJ7", Request id "0HMTHODQEUQJ7:00000001": started reading request body.
2023-09-10 07:02:42.942 +01:00 [DBG] Connection id "0HMTHODQEUQJ7", Request id "0HMTHODQEUQJ7:00000001": done reading request body.
2023-09-10 07:02:43.165 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:02:43.165 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:02:43.165 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 07:02:43.178 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:02:44.043 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 07:02:44.043 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 07:02:44.524 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 07:02:44.624 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-10 07:02:45.067 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 07:02:45.141 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:02:45.192 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (52ms).
2023-09-10 07:02:45.209 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:45.707 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:45.726 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 07:02:45.825 +01:00 [INF] Executed DbCommand (106ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 07:02:45.842 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:02:45.846 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:45.860 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:45.918 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-09-10 07:02:45.928 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-10 07:02:45.957 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:02:45.957 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:02:45.965 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:45.973 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:45.974 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 07:02:46.014 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 07:02:46.041 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:02:46.049 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.050 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.174 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:02:46.183 +01:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-10 07:02:46.187 +01:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-10 07:02:46.210 +01:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-10 07:02:46.239 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.240 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.242 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-10 07:02:46.257 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-10 07:02:46.332 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:02:46.332 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:02:46.335 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-10 07:02:46.344 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-10 07:02:46.350 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:02:46.360 +01:00 [DBG] Committing transaction.
2023-09-10 07:02:46.367 +01:00 [DBG] Committed transaction.
2023-09-10 07:02:46.375 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.375 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.380 +01:00 [DBG] Disposing transaction.
2023-09-10 07:02:46.395 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:02:46.399 +01:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-10 07:02:46.406 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-09-10 07:02:46.409 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-10 07:02:46.409 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:02:46.409 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:02:46.409 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.410 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.410 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-10 07:02:46.416 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-10 07:02:46.439 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:02:46.446 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:02:46.446 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.446 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.456 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2023-09-10 07:02:46.460 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-10 07:02:46.460 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:02:46.460 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:02:46.460 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.460 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.460 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-09-10 07:02:46.463 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-09-10 07:02:46.463 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:02:46.463 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.464 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.479 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2023-09-10 07:02:46.496 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-10 07:02:46.498 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:02:46.498 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:02:46.498 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.498 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.498 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-09-10 07:02:46.500 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-09-10 07:02:46.501 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:02:46.501 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.501 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.512 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:02:46.513 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:02:46.513 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.513 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.513 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-09-10 07:02:46.514 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-09-10 07:02:46.514 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:02:46.514 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.514 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.541 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole<string>' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:02:46.543 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:02:46.543 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:02:46.543 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.544 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.544 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 07:02:46.546 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 07:02:46.554 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:02:46.554 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.554 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.564 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:02:46.564 +01:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-10 07:02:46.564 +01:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-10 07:02:46.574 +01:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-10 07:02:46.575 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.575 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.575 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-10 07:02:46.576 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-10 07:02:46.591 +01:00 [DBG] Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
2023-09-10 07:02:46.592 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:02:46.592 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:02:46.592 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2023-09-10 07:02:46.596 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2023-09-10 07:02:46.597 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:02:46.601 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:02:46.602 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:02:46.602 +01:00 [DBG] Executing DbCommand [Parameters=[@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [Name] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2023-09-10 07:02:46.641 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [Name] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2023-09-10 07:02:46.644 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:02:46.644 +01:00 [DBG] Committing transaction.
2023-09-10 07:02:46.645 +01:00 [DBG] Committed transaction.
2023-09-10 07:02:46.645 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.645 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.645 +01:00 [DBG] Disposing transaction.
2023-09-10 07:02:46.646 +01:00 [DBG] An entity of type 'IdentityUserRole<string>' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:02:46.646 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:02:46.646 +01:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2023-09-10 07:02:46.647 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __registrationRequestDTO_UserName_0)'
2023-09-10 07:02:46.650 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__registrationRequestDTO_UserName_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 07:02:46.650 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:02:46.650 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:02:46.651 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.651 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.651 +01:00 [DBG] Executing DbCommand [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2023-09-10 07:02:46.653 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2023-09-10 07:02:46.654 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:02:46.654 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:02:46.655 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:04:24.993 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 07:04:25.153 +01:00 [DBG] Hosting starting
2023-09-10 07:04:25.225 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 07:04:25.229 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 07:04:25.240 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 07:04:25.251 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 07:04:25.254 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 07:04:25.258 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 07:04:25.259 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 07:04:25.265 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 07:04:25.267 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 07:04:25.270 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 07:04:25.271 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 07:04:25.546 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 07:04:25.616 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 07:04:25.616 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 07:04:25.616 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 07:04:25.616 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 07:04:25.616 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 07:04:25.617 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 07:04:25.617 +01:00 [INF] Hosting environment: Development
2023-09-10 07:04:25.617 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 07:04:25.617 +01:00 [DBG] Hosting started
2023-09-10 07:04:25.949 +01:00 [DBG] Connection id "0HMTHOF4N3USV" received FIN.
2023-09-10 07:04:25.966 +01:00 [DBG] Connection id "0HMTHOF4N3USV" accepted.
2023-09-10 07:04:25.967 +01:00 [DBG] Connection id "0HMTHOF4N3USV" started.
2023-09-10 07:04:25.995 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:04:26.062 +01:00 [DBG] Connection id "0HMTHOF4N3USV" stopped.
2023-09-10 07:04:26.067 +01:00 [DBG] Connection id "0HMTHOF4N3USV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:04:27.575 +01:00 [DBG] Connection id "0HMTHOF4N3UT0" accepted.
2023-09-10 07:04:27.576 +01:00 [DBG] Connection id "0HMTHOF4N3UT0" started.
2023-09-10 07:04:28.339 +01:00 [DBG] Connection id "0HMTHOF4N3UT1" accepted.
2023-09-10 07:04:28.349 +01:00 [DBG] Connection id "0HMTHOF4N3UT0" received FIN.
2023-09-10 07:04:28.349 +01:00 [DBG] Connection id "0HMTHOF4N3UT1" started.
2023-09-10 07:04:28.383 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:04:28.389 +01:00 [DBG] Connection id "0HMTHOF4N3UT0" stopped.
2023-09-10 07:04:28.390 +01:00 [DBG] Connection id "0HMTHOF4N3UT0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:04:28.434 +01:00 [DBG] Connection 0HMTHOF4N3UT1 established using the following protocol: "Tls12"
2023-09-10 07:04:28.574 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 07:04:28.664 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 07:04:28.731 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 07:04:28.732 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:04:28.854 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 288.5196ms
2023-09-10 07:04:28.882 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 07:04:28.883 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 07:04:28.883 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:04:29.398 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 07:04:29.707 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 07:04:29.708 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 07:04:29.708 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 07:04:29.708 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 07:04:29.708 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:04:29.708 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:04:29.708 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 07:04:29.708 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 07:04:29.708 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:04:29.708 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 07:04:29.735 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 07:04:29.781 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 898.9893ms
2023-09-10 07:04:29.803 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 94.6984ms
2023-09-10 07:04:29.828 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 07:04:29.828 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 120.5078ms
2023-09-10 07:04:29.828 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 07:04:29.828 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 121.2820ms
2023-09-10 07:04:29.832 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 07:04:30.007 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 07:04:30.007 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 299.2931ms
2023-09-10 07:04:30.016 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 183.3925ms
2023-09-10 07:04:30.097 +01:00 [DBG] Connection id "0HMTHOF4N3UT1" received FIN.
2023-09-10 07:04:30.112 +01:00 [DBG] Connection id "0HMTHOF4N3UT1" is closed. The last processed stream ID was 13.
2023-09-10 07:04:30.112 +01:00 [DBG] Connection id "0HMTHOF4N3UT1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:04:30.120 +01:00 [DBG] Connection id "0HMTHOF4N3UT1" stopped.
2023-09-10 07:04:30.531 +01:00 [DBG] Connection id "0HMTHOF4N3UT2" accepted.
2023-09-10 07:04:30.531 +01:00 [DBG] Connection id "0HMTHOF4N3UT2" started.
2023-09-10 07:04:30.534 +01:00 [DBG] Connection id "0HMTHOF4N3UT2" received FIN.
2023-09-10 07:04:30.535 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:04:30.536 +01:00 [DBG] Connection id "0HMTHOF4N3UT2" stopped.
2023-09-10 07:04:30.536 +01:00 [DBG] Connection id "0HMTHOF4N3UT3" accepted.
2023-09-10 07:04:30.536 +01:00 [DBG] Connection id "0HMTHOF4N3UT3" started.
2023-09-10 07:04:30.536 +01:00 [DBG] Connection id "0HMTHOF4N3UT2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:04:30.545 +01:00 [DBG] Connection 0HMTHOF4N3UT3 established using the following protocol: "Tls12"
2023-09-10 07:04:30.547 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 07:04:30.547 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 07:04:30.548 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:04:31.052 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 504.5892ms
2023-09-10 07:05:01.059 +01:00 [DBG] Connection id "0HMTHOF4N3UT4" accepted.
2023-09-10 07:05:01.061 +01:00 [DBG] Connection id "0HMTHOF4N3UT4" started.
2023-09-10 07:05:01.078 +01:00 [DBG] Connection id "0HMTHOF4N3UT5" accepted.
2023-09-10 07:05:01.079 +01:00 [DBG] Connection id "0HMTHOF4N3UT5" started.
2023-09-10 07:05:01.079 +01:00 [DBG] Connection id "0HMTHOF4N3UT4" received FIN.
2023-09-10 07:05:01.079 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:05:01.096 +01:00 [DBG] Connection id "0HMTHOF4N3UT4" stopped.
2023-09-10 07:05:01.096 +01:00 [DBG] Connection id "0HMTHOF4N3UT4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:05:01.096 +01:00 [DBG] Connection 0HMTHOF4N3UT5 established using the following protocol: "Tls12"
2023-09-10 07:05:01.097 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 91
2023-09-10 07:05:01.108 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-10 07:05:01.129 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-10 07:05:01.139 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:05:01.139 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 07:05:01.271 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 07:05:01.278 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:05:01.336 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 07:05:01.337 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 07:05:01.337 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 07:05:01.338 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:05:01.338 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 07:05:01.338 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:05:01.338 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:05:01.554 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 07:05:01.602 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:05:01.615 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 07:05:01.618 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-10 07:05:01.619 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:05:01.619 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:05:01.644 +01:00 [DBG] Connection id "0HMTHOF4N3UT5", Request id "0HMTHOF4N3UT5:00000001": started reading request body.
2023-09-10 07:05:01.644 +01:00 [DBG] Connection id "0HMTHOF4N3UT5", Request id "0HMTHOF4N3UT5:00000001": done reading request body.
2023-09-10 07:05:01.879 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:05:01.879 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:05:01.879 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 07:05:01.888 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:05:02.821 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 07:05:02.821 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 07:05:03.344 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 07:05:03.439 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-10 07:05:03.893 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 07:05:03.971 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:05:04.038 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (66ms).
2023-09-10 07:05:04.065 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:04.565 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:04.585 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 07:05:04.683 +01:00 [INF] Executed DbCommand (105ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 07:05:04.741 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:05:04.818 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:05:04.823 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:04.838 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:04.842 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 07:05:04.845 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 07:05:04.845 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 07:05:04.845 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 07:05:04.846 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 07:05:04.846 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 07:05:04.936 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 3587.5547ms
2023-09-10 07:05:04.937 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:05:04.948 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 07:05:04.955 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 91 - 400 94 application/json;+charset=utf-8 3857.8875ms
2023-09-10 07:05:19.873 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 93
2023-09-10 07:05:19.876 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-10 07:05:19.876 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-10 07:05:19.877 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:05:19.877 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 07:05:19.877 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 07:05:19.877 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:05:19.878 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 07:05:19.878 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 07:05:19.878 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 07:05:19.878 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:05:19.878 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 07:05:19.878 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:05:19.878 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:05:19.925 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:05:19.926 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 07:05:19.926 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-10 07:05:19.926 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:05:19.926 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:05:19.926 +01:00 [DBG] Connection id "0HMTHOF4N3UT5", Request id "0HMTHOF4N3UT5:00000003": started reading request body.
2023-09-10 07:05:19.926 +01:00 [DBG] Connection id "0HMTHOF4N3UT5", Request id "0HMTHOF4N3UT5:00000003": done reading request body.
2023-09-10 07:05:19.927 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:05:19.927 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:05:19.927 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 07:05:19.927 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:05:19.930 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 07:05:19.965 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:05:19.974 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2023-09-10 07:05:19.975 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:19.981 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:19.981 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 07:05:19.987 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 07:05:19.987 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:05:19.987 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:19.987 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.029 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-09-10 07:05:20.037 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-10 07:05:20.064 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:05:20.064 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:05:20.074 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.080 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.081 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 07:05:20.120 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 07:05:20.146 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:05:20.159 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.161 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.208 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:05:20.217 +01:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-10 07:05:20.222 +01:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-10 07:05:20.245 +01:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-10 07:05:20.275 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.275 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.278 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-10 07:05:20.292 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-10 07:05:20.374 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:05:20.374 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:05:20.377 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-10 07:05:20.383 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-10 07:05:20.391 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:05:20.399 +01:00 [DBG] Committing transaction.
2023-09-10 07:05:20.407 +01:00 [DBG] Committed transaction.
2023-09-10 07:05:20.413 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.413 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.419 +01:00 [DBG] Disposing transaction.
2023-09-10 07:05:20.434 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:05:20.439 +01:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-10 07:05:20.445 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-09-10 07:05:20.449 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-10 07:05:20.449 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:05:20.449 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:05:20.449 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.449 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.450 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-10 07:05:20.457 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-10 07:05:20.462 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:05:20.469 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:05:20.469 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.469 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.471 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __registrationRequestDTO_UserName_0)'
2023-09-10 07:05:20.474 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__registrationRequestDTO_UserName_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 07:05:20.474 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:05:20.474 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:05:20.474 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.475 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.475 +01:00 [DBG] Executing DbCommand [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2023-09-10 07:05:20.477 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2023-09-10 07:05:20.478 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:05:20.478 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:05:20.478 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:06:41.758 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 07:06:41.912 +01:00 [DBG] Hosting starting
2023-09-10 07:06:41.966 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 07:06:41.970 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 07:06:41.981 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 07:06:41.993 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 07:06:41.995 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 07:06:41.999 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 07:06:42.001 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 07:06:42.007 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 07:06:42.009 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 07:06:42.012 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 07:06:42.012 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 07:06:42.207 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 07:06:42.275 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 07:06:42.275 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 07:06:42.275 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 07:06:42.276 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 07:06:42.276 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 07:06:42.276 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 07:06:42.276 +01:00 [INF] Hosting environment: Development
2023-09-10 07:06:42.276 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 07:06:42.276 +01:00 [DBG] Hosting started
2023-09-10 07:06:42.729 +01:00 [DBG] Connection id "0HMTHOGDFGNN9" received FIN.
2023-09-10 07:06:42.736 +01:00 [DBG] Connection id "0HMTHOGDFGNN8" accepted.
2023-09-10 07:06:42.736 +01:00 [DBG] Connection id "0HMTHOGDFGNN9" accepted.
2023-09-10 07:06:42.738 +01:00 [DBG] Connection id "0HMTHOGDFGNN8" started.
2023-09-10 07:06:42.738 +01:00 [DBG] Connection id "0HMTHOGDFGNN9" started.
2023-09-10 07:06:42.739 +01:00 [DBG] Connection id "0HMTHOGDFGNN8" received FIN.
2023-09-10 07:06:42.768 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:06:42.768 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:06:42.828 +01:00 [DBG] Connection id "0HMTHOGDFGNN9" stopped.
2023-09-10 07:06:42.828 +01:00 [DBG] Connection id "0HMTHOGDFGNN8" stopped.
2023-09-10 07:06:42.832 +01:00 [DBG] Connection id "0HMTHOGDFGNN8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:06:42.832 +01:00 [DBG] Connection id "0HMTHOGDFGNN9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:06:44.506 +01:00 [DBG] Connection id "0HMTHOGDFGNNA" accepted.
2023-09-10 07:06:44.637 +01:00 [DBG] Connection id "0HMTHOGDFGNNA" started.
2023-09-10 07:06:44.937 +01:00 [DBG] Connection id "0HMTHOGDFGNNB" accepted.
2023-09-10 07:06:44.942 +01:00 [DBG] Connection id "0HMTHOGDFGNNB" started.
2023-09-10 07:06:44.942 +01:00 [DBG] Connection id "0HMTHOGDFGNNA" received FIN.
2023-09-10 07:06:44.944 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:06:44.946 +01:00 [DBG] Connection id "0HMTHOGDFGNNA" stopped.
2023-09-10 07:06:44.946 +01:00 [DBG] Connection id "0HMTHOGDFGNNA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:06:44.978 +01:00 [DBG] Connection 0HMTHOGDFGNNB established using the following protocol: "Tls12"
2023-09-10 07:06:45.113 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 07:06:45.200 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 07:06:45.265 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 07:06:45.265 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:06:45.396 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 294.0073ms
2023-09-10 07:06:45.422 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 07:06:45.425 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 07:06:45.425 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:06:45.909 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 07:06:46.186 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 07:06:46.197 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 07:06:46.198 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:06:46.204 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 07:06:46.204 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 07:06:46.204 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:06:46.204 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 07:06:46.204 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 07:06:46.205 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 07:06:46.205 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:06:46.213 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 9.0701ms
2023-09-10 07:06:46.215 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 07:06:46.228 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 806.0500ms
2023-09-10 07:06:46.267 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 07:06:46.267 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 07:06:46.267 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 81.5017ms
2023-09-10 07:06:46.267 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 63.5644ms
2023-09-10 07:06:46.274 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 07:06:46.275 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 70.7432ms
2023-09-10 07:06:46.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 07:06:46.362 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.8680ms
2023-09-10 07:06:46.441 +01:00 [DBG] Connection id "0HMTHOGDFGNNB" received FIN.
2023-09-10 07:06:46.462 +01:00 [DBG] Connection id "0HMTHOGDFGNNB" is closed. The last processed stream ID was 13.
2023-09-10 07:06:46.463 +01:00 [DBG] Connection id "0HMTHOGDFGNNB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:06:46.470 +01:00 [DBG] Connection id "0HMTHOGDFGNNB" stopped.
2023-09-10 07:06:46.883 +01:00 [DBG] Connection id "0HMTHOGDFGNNC" accepted.
2023-09-10 07:06:46.884 +01:00 [DBG] Connection id "0HMTHOGDFGNNC" started.
2023-09-10 07:06:46.887 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:06:46.889 +01:00 [DBG] Connection id "0HMTHOGDFGNND" accepted.
2023-09-10 07:06:46.890 +01:00 [DBG] Connection id "0HMTHOGDFGNNC" stopped.
2023-09-10 07:06:46.890 +01:00 [DBG] Connection id "0HMTHOGDFGNND" started.
2023-09-10 07:06:46.890 +01:00 [DBG] Connection id "0HMTHOGDFGNNC" received FIN.
2023-09-10 07:06:46.891 +01:00 [DBG] Connection id "0HMTHOGDFGNNC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:06:46.898 +01:00 [DBG] Connection 0HMTHOGDFGNND established using the following protocol: "Tls12"
2023-09-10 07:06:46.899 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 07:06:46.899 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 07:06:46.900 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:06:47.368 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 468.6130ms
2023-09-10 07:06:47.470 +01:00 [DBG] Connection id "0HMTHOGDFGNND" received FIN.
2023-09-10 07:06:47.470 +01:00 [DBG] Connection id "0HMTHOGDFGNND" is closed. The last processed stream ID was 1.
2023-09-10 07:06:47.470 +01:00 [DBG] Connection id "0HMTHOGDFGNND" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:06:47.471 +01:00 [DBG] Connection id "0HMTHOGDFGNND" stopped.
2023-09-10 07:07:13.126 +01:00 [DBG] Connection id "0HMTHOGDFGNNE" accepted.
2023-09-10 07:07:13.126 +01:00 [DBG] Connection id "0HMTHOGDFGNNE" started.
2023-09-10 07:07:13.129 +01:00 [DBG] Connection id "0HMTHOGDFGNNE" received FIN.
2023-09-10 07:07:13.205 +01:00 [DBG] Connection id "0HMTHOGDFGNNF" accepted.
2023-09-10 07:07:13.205 +01:00 [DBG] Connection id "0HMTHOGDFGNNF" started.
2023-09-10 07:07:13.220 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:07:13.224 +01:00 [DBG] Connection 0HMTHOGDFGNNF established using the following protocol: "Tls12"
2023-09-10 07:07:13.224 +01:00 [DBG] Connection id "0HMTHOGDFGNNE" stopped.
2023-09-10 07:07:13.224 +01:00 [DBG] Connection id "0HMTHOGDFGNNE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:07:13.225 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 93
2023-09-10 07:07:13.237 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-10 07:07:13.249 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-10 07:07:13.256 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:07:13.256 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 07:07:13.368 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 07:07:13.371 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:07:13.420 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 07:07:13.421 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 07:07:13.421 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 07:07:13.421 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:07:13.421 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 07:07:13.421 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:07:13.422 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:07:13.625 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 07:07:13.676 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:07:13.693 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 07:07:13.697 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-10 07:07:13.698 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:07:13.698 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:07:13.718 +01:00 [DBG] Connection id "0HMTHOGDFGNNF", Request id "0HMTHOGDFGNNF:00000001": started reading request body.
2023-09-10 07:07:13.719 +01:00 [DBG] Connection id "0HMTHOGDFGNNF", Request id "0HMTHOGDFGNNF:00000001": done reading request body.
2023-09-10 07:07:13.889 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:07:13.889 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:07:13.889 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 07:07:13.898 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:07:14.759 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 07:07:14.760 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 07:07:15.356 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 07:07:15.506 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-10 07:07:16.019 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 07:07:16.108 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:07:16.157 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (50ms).
2023-09-10 07:07:16.176 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:16.658 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:16.677 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 07:07:16.781 +01:00 [INF] Executed DbCommand (110ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 07:07:16.797 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:07:16.802 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:16.815 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:16.853 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-09-10 07:07:16.862 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-10 07:07:16.887 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:07:16.887 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:07:16.896 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:16.905 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:16.907 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 07:07:16.959 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 07:07:16.990 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:07:16.998 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:16.999 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.120 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:07:17.130 +01:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-10 07:07:17.133 +01:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-10 07:07:17.158 +01:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-10 07:07:17.204 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.204 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.207 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-10 07:07:17.222 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-10 07:07:17.289 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:07:17.289 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:07:17.292 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-10 07:07:17.299 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-10 07:07:17.306 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:07:17.315 +01:00 [DBG] Committing transaction.
2023-09-10 07:07:17.322 +01:00 [DBG] Committed transaction.
2023-09-10 07:07:17.328 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.329 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.336 +01:00 [DBG] Disposing transaction.
2023-09-10 07:07:17.351 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:07:17.355 +01:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-10 07:07:17.362 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-09-10 07:07:17.366 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-10 07:07:17.366 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:07:17.366 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:07:17.366 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.366 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.366 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-10 07:07:17.372 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-10 07:07:17.395 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:07:17.402 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:07:17.402 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.402 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.404 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __registrationRequestDTO_UserName_0)'
2023-09-10 07:07:17.407 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__registrationRequestDTO_UserName_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 07:07:17.407 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:07:17.407 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:07:17.407 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.408 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.408 +01:00 [DBG] Executing DbCommand [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2023-09-10 07:07:17.409 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2023-09-10 07:07:17.414 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:07:17.414 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.414 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:17.425 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 07:07:17.429 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 07:07:17.429 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 07:07:17.429 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 07:07:17.430 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 07:07:17.430 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 07:07:17.511 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 4078.7689ms
2023-09-10 07:07:17.513 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:07:17.528 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 07:07:17.534 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 93 - 200 68 application/json;+charset=utf-8 4308.7451ms
2023-09-10 07:07:53.278 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 56
2023-09-10 07:07:53.281 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 07:07:53.282 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 07:07:53.282 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 07:07:53.283 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 07:07:53.284 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 07:07:53.284 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 07:07:53.310 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 07:07:53.310 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 07:07:53.310 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 07:07:53.310 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:07:53.310 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 07:07:53.310 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:07:53.310 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:07:53.321 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:07:53.322 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 07:07:53.322 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 07:07:53.322 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:07:53.322 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:07:53.322 +01:00 [DBG] Connection id "0HMTHOGDFGNNF", Request id "0HMTHOGDFGNNF:00000003": started reading request body.
2023-09-10 07:07:53.322 +01:00 [DBG] Connection id "0HMTHOGDFGNNF", Request id "0HMTHOGDFGNNF:00000003": done reading request body.
2023-09-10 07:07:53.323 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 07:07:53.323 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 07:07:53.323 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 07:07:53.324 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 07:07:53.328 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 07:07:53.329 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-10 07:07:53.392 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 07:07:53.396 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:07:53.396 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:07:53.396 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:53.396 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:53.397 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 07:07:53.399 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 07:07:53.404 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:07:53.405 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:07:53.405 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:53.405 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:53.437 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-09-10 07:07:53.487 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-10 07:07:53.489 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:07:53.489 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:07:53.489 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:53.489 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:53.489 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 07:07:53.504 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 07:07:53.506 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:07:53.506 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:53.506 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:07:53.710 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 400.0287ms
2023-09-10 07:07:53.711 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 07:07:53.712 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at MagicVilla_VillaAPI.Repository.UserRepository.Login(LoginRequestDTO loginRequestDTO) in C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\Repository\UserRepository.cs:line 57
   at MagicVilla_VillaAPI.Controllers.UserAPIController.Login(LoginRequestDTO model) in C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\Controllers\UserAPIController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-09-10 07:07:53.739 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 07:07:53.740 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 56 - 500 - text/plain;+charset=utf-8 461.3822ms
2023-09-10 07:08:57.457 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 56
2023-09-10 07:08:57.457 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 07:08:57.457 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 07:08:57.458 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 07:08:57.458 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 07:08:57.463 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 07:08:57.463 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 07:08:57.463 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 07:08:57.463 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 07:08:57.463 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 07:08:57.463 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:08:57.463 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 07:08:57.463 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:08:57.463 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:08:57.484 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:08:57.484 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 07:08:57.484 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 07:08:57.484 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:08:57.484 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:08:57.484 +01:00 [DBG] Connection id "0HMTHOGDFGNNF", Request id "0HMTHOGDFGNNF:00000005": started reading request body.
2023-09-10 07:08:57.484 +01:00 [DBG] Connection id "0HMTHOGDFGNNF", Request id "0HMTHOGDFGNNF:00000005": done reading request body.
2023-09-10 07:08:57.484 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 07:08:57.484 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 07:08:57.484 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 07:08:57.485 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 07:08:57.542 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 07:08:57.548 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:08:57.548 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:08:57.548 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:08:57.548 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:08:57.548 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 07:08:57.557 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 07:08:57.558 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:08:57.558 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:08:57.558 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:08:57.558 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:09:01.746 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:09:01.746 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:09:01.746 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:09:01.746 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:09:01.746 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 07:09:01.787 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 07:09:01.787 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:09:01.787 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:09:01.789 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:09:32.209 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 34745.5353ms
2023-09-10 07:09:32.209 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 07:09:32.210 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at MagicVilla_VillaAPI.Repository.UserRepository.Login(LoginRequestDTO loginRequestDTO) in C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\Repository\UserRepository.cs:line 57
   at MagicVilla_VillaAPI.Controllers.UserAPIController.Login(LoginRequestDTO model) in C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\Controllers\UserAPIController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-09-10 07:09:32.212 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 07:09:32.213 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 56 - 500 - text/plain;+charset=utf-8 34755.3327ms
2023-09-10 07:10:03.324 +01:00 [DBG] Connection id "0HMTHOGDFGNNF" received FIN.
2023-09-10 07:10:03.326 +01:00 [DBG] Connection id "0HMTHOGDFGNNF" is closed. The last processed stream ID was 5.
2023-09-10 07:10:03.326 +01:00 [DBG] Connection id "0HMTHOGDFGNNF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:10:03.336 +01:00 [DBG] Connection id "0HMTHOGDFGNNF" stopped.
2023-09-10 07:57:28.147 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 07:57:28.298 +01:00 [DBG] Hosting starting
2023-09-10 07:57:28.378 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 07:57:28.381 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 07:57:28.417 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 07:57:28.430 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 07:57:28.432 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 07:57:28.436 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 07:57:28.438 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 07:57:28.444 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 07:57:28.446 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 07:57:28.449 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 07:57:28.450 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 07:57:28.716 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 07:57:28.780 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 07:57:28.780 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 07:57:28.780 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 07:57:28.780 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 07:57:28.780 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 07:57:28.781 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 07:57:28.781 +01:00 [INF] Hosting environment: Development
2023-09-10 07:57:28.781 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 07:57:28.781 +01:00 [DBG] Hosting started
2023-09-10 07:57:28.831 +01:00 [DBG] Connection id "0HMTHPCP9EI19" received FIN.
2023-09-10 07:57:28.847 +01:00 [DBG] Connection id "0HMTHPCP9EI19" accepted.
2023-09-10 07:57:28.849 +01:00 [DBG] Connection id "0HMTHPCP9EI19" started.
2023-09-10 07:57:28.870 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:57:28.938 +01:00 [DBG] Connection id "0HMTHPCP9EI19" stopped.
2023-09-10 07:57:28.950 +01:00 [DBG] Connection id "0HMTHPCP9EI19" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:57:29.267 +01:00 [DBG] Connection id "0HMTHPCP9EI1A" accepted.
2023-09-10 07:57:29.268 +01:00 [DBG] Connection id "0HMTHPCP9EI1A" started.
2023-09-10 07:57:29.350 +01:00 [DBG] Connection id "0HMTHPCP9EI1A" received FIN.
2023-09-10 07:57:29.351 +01:00 [DBG] Connection id "0HMTHPCP9EI1B" accepted.
2023-09-10 07:57:29.351 +01:00 [DBG] Connection id "0HMTHPCP9EI1B" started.
2023-09-10 07:57:29.368 +01:00 [DBG] Connection id "0HMTHPCP9EI1C" accepted.
2023-09-10 07:57:29.369 +01:00 [DBG] Connection id "0HMTHPCP9EI1C" started.
2023-09-10 07:57:29.381 +01:00 [DBG] Connection id "0HMTHPCP9EI1B" received FIN.
2023-09-10 07:57:29.385 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:57:29.386 +01:00 [DBG] Connection id "0HMTHPCP9EI1A" stopped.
2023-09-10 07:57:29.386 +01:00 [DBG] Connection id "0HMTHPCP9EI1A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:57:29.401 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:57:29.402 +01:00 [DBG] Connection id "0HMTHPCP9EI1B" stopped.
2023-09-10 07:57:29.402 +01:00 [DBG] Connection id "0HMTHPCP9EI1B" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:57:29.424 +01:00 [DBG] Connection 0HMTHPCP9EI1C established using the following protocol: "Tls12"
2023-09-10 07:57:29.520 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 07:57:29.891 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 07:57:29.936 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 07:57:29.936 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:57:30.083 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 565.5570ms
2023-09-10 07:57:30.111 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 07:57:30.112 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 07:57:30.112 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:57:30.544 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 07:57:30.860 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 07:57:30.860 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 07:57:30.860 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:57:30.860 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 07:57:30.860 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 07:57:30.860 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:57:30.861 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 07:57:30.867 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 07:57:30.868 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 7.0544ms
2023-09-10 07:57:30.870 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 759.1847ms
2023-09-10 07:57:30.877 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 07:57:30.877 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 07:57:30.878 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:57:30.925 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 07:57:30.925 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 07:57:30.926 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 66.0038ms
2023-09-10 07:57:30.926 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 65.3982ms
2023-09-10 07:57:30.930 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 07:57:30.931 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 70.9136ms
2023-09-10 07:57:30.991 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 07:57:31.042 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.1058ms
2023-09-10 07:57:31.494 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 07:57:31.495 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 07:57:31.495 +01:00 [DBG] Request did not match any endpoints
2023-09-10 07:57:31.988 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 493.7437ms
2023-09-10 07:57:45.045 +01:00 [DBG] Connection id "0HMTHPCP9EI1C" received FIN.
2023-09-10 07:57:45.056 +01:00 [DBG] Connection id "0HMTHPCP9EI1C" is closed. The last processed stream ID was 15.
2023-09-10 07:57:45.057 +01:00 [DBG] Connection id "0HMTHPCP9EI1C" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:57:45.068 +01:00 [DBG] Connection id "0HMTHPCP9EI1C" stopped.
2023-09-10 07:58:00.264 +01:00 [DBG] Connection id "0HMTHPCP9EI1D" accepted.
2023-09-10 07:58:00.265 +01:00 [DBG] Connection id "0HMTHPCP9EI1D" started.
2023-09-10 07:58:00.267 +01:00 [DBG] Connection id "0HMTHPCP9EI1D" received FIN.
2023-09-10 07:58:00.267 +01:00 [DBG] Connection id "0HMTHPCP9EI1E" accepted.
2023-09-10 07:58:00.269 +01:00 [DBG] Connection id "0HMTHPCP9EI1E" started.
2023-09-10 07:58:00.273 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:58:00.274 +01:00 [DBG] Connection id "0HMTHPCP9EI1D" stopped.
2023-09-10 07:58:00.275 +01:00 [DBG] Connection id "0HMTHPCP9EI1D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:58:00.279 +01:00 [DBG] Connection 0HMTHPCP9EI1E established using the following protocol: "Tls12"
2023-09-10 07:58:00.281 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 56
2023-09-10 07:58:00.301 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 07:58:00.322 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 07:58:00.336 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 07:58:00.337 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 07:58:00.492 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 07:58:00.497 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 07:58:00.547 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 07:58:00.548 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 07:58:00.548 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 07:58:00.548 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:58:00.548 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 07:58:00.549 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:58:00.549 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:58:00.872 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 07:58:00.932 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:58:00.952 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 07:58:00.955 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 07:58:00.956 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:58:00.956 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:58:00.984 +01:00 [DBG] Connection id "0HMTHPCP9EI1E", Request id "0HMTHPCP9EI1E:00000001": started reading request body.
2023-09-10 07:58:00.985 +01:00 [DBG] Connection id "0HMTHPCP9EI1E", Request id "0HMTHPCP9EI1E:00000001": done reading request body.
2023-09-10 07:58:01.166 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 07:58:01.166 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 07:58:01.166 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 07:58:01.174 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 07:58:02.111 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 07:58:02.112 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 07:58:02.669 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 07:58:02.796 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-10 07:58:03.329 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 07:58:03.408 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:58:03.470 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (64ms).
2023-09-10 07:58:03.490 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:04.138 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:04.165 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 07:58:04.271 +01:00 [INF] Executed DbCommand (118ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 07:58:04.293 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:58:04.299 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:04.318 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:04.323 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 07:58:04.327 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 07:58:04.327 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 07:58:04.327 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 07:58:04.328 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 07:58:04.328 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 07:58:04.437 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 3875.709ms
2023-09-10 07:58:04.438 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 07:58:04.447 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 07:58:04.454 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 56 - 400 104 application/json;+charset=utf-8 4173.4887ms
2023-09-10 07:58:05.045 +01:00 [DBG] Connection id "0HMTHPCP9EI1E" received FIN.
2023-09-10 07:58:05.045 +01:00 [DBG] Connection id "0HMTHPCP9EI1E" is closed. The last processed stream ID was 1.
2023-09-10 07:58:05.046 +01:00 [DBG] Connection id "0HMTHPCP9EI1E" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:58:05.047 +01:00 [DBG] Connection id "0HMTHPCP9EI1E" stopped.
2023-09-10 07:58:54.948 +01:00 [DBG] Connection id "0HMTHPCP9EI1F" accepted.
2023-09-10 07:58:54.962 +01:00 [DBG] Connection id "0HMTHPCP9EI1F" started.
2023-09-10 07:58:54.978 +01:00 [DBG] Connection id "0HMTHPCP9EI1F" received FIN.
2023-09-10 07:58:54.991 +01:00 [DBG] Connection id "0HMTHPCP9EI1G" accepted.
2023-09-10 07:58:54.991 +01:00 [DBG] Connection id "0HMTHPCP9EI1G" started.
2023-09-10 07:58:54.991 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:58:54.992 +01:00 [DBG] Connection id "0HMTHPCP9EI1F" stopped.
2023-09-10 07:58:54.992 +01:00 [DBG] Connection id "0HMTHPCP9EI1F" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:58:55.004 +01:00 [DBG] Connection 0HMTHPCP9EI1G established using the following protocol: "Tls12"
2023-09-10 07:58:55.005 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 101
2023-09-10 07:58:55.008 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-10 07:58:55.008 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-10 07:58:55.008 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:58:55.008 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 07:58:55.008 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 07:58:55.009 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:58:55.015 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 07:58:55.015 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 07:58:55.015 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 07:58:55.015 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:58:55.015 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 07:58:55.015 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:58:55.015 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:58:55.025 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:58:55.025 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 07:58:55.025 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-10 07:58:55.025 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:58:55.025 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:58:55.025 +01:00 [DBG] Connection id "0HMTHPCP9EI1G", Request id "0HMTHPCP9EI1G:00000001": started reading request body.
2023-09-10 07:58:55.025 +01:00 [DBG] Connection id "0HMTHPCP9EI1G", Request id "0HMTHPCP9EI1G:00000001": done reading request body.
2023-09-10 07:58:55.030 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:58:55.030 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:58:55.030 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 07:58:55.031 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 07:58:55.035 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 07:58:55.036 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-10 07:58:55.040 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 07:58:55.040 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:58:55.040 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:58:55.041 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.044 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.045 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 07:58:55.051 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 07:58:55.052 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:58:55.052 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.052 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.110 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-09-10 07:58:55.118 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-10 07:58:55.150 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:58:55.150 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:58:55.161 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.170 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.172 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 07:58:55.218 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 07:58:55.247 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:58:55.256 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.257 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.397 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:58:55.406 +01:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-10 07:58:55.410 +01:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-10 07:58:55.434 +01:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-10 07:58:55.466 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.466 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.470 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-10 07:58:55.491 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-10 07:58:55.578 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:58:55.579 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:58:55.581 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-10 07:58:55.586 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-10 07:58:55.593 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:58:55.602 +01:00 [DBG] Committing transaction.
2023-09-10 07:58:55.608 +01:00 [DBG] Committed transaction.
2023-09-10 07:58:55.615 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.615 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.620 +01:00 [DBG] Disposing transaction.
2023-09-10 07:58:55.635 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:58:55.639 +01:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-10 07:58:55.647 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-09-10 07:58:55.650 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-10 07:58:55.650 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:58:55.650 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:58:55.650 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.650 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.650 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-10 07:58:55.656 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-10 07:58:55.673 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:58:55.682 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:58:55.682 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.682 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.683 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __registrationRequestDTO_UserName_0)'
2023-09-10 07:58:55.687 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__registrationRequestDTO_UserName_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 07:58:55.687 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:58:55.687 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:58:55.687 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.687 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.687 +01:00 [DBG] Executing DbCommand [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2023-09-10 07:58:55.689 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2023-09-10 07:58:55.692 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:58:55.693 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.693 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:58:55.700 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 07:58:55.701 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 07:58:55.701 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 07:58:55.701 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 07:58:55.701 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 07:58:55.701 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 07:58:55.704 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 688.7867ms
2023-09-10 07:58:55.706 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 07:58:55.712 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 07:58:55.712 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 101 - 200 68 application/json;+charset=utf-8 707.2121ms
2023-09-10 07:59:05.123 +01:00 [DBG] Connection id "0HMTHPCP9EI1G" received FIN.
2023-09-10 07:59:05.125 +01:00 [DBG] Connection id "0HMTHPCP9EI1G" is closed. The last processed stream ID was 1.
2023-09-10 07:59:05.128 +01:00 [DBG] Connection id "0HMTHPCP9EI1G" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:59:05.138 +01:00 [DBG] Connection id "0HMTHPCP9EI1G" stopped.
2023-09-10 07:59:23.054 +01:00 [DBG] Connection id "0HMTHPCP9EI1H" accepted.
2023-09-10 07:59:23.056 +01:00 [DBG] Connection id "0HMTHPCP9EI1H" started.
2023-09-10 07:59:23.063 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 07:59:23.063 +01:00 [DBG] Connection id "0HMTHPCP9EI1I" accepted.
2023-09-10 07:59:23.063 +01:00 [DBG] Connection id "0HMTHPCP9EI1H" received FIN.
2023-09-10 07:59:23.065 +01:00 [DBG] Connection id "0HMTHPCP9EI1I" started.
2023-09-10 07:59:23.065 +01:00 [DBG] Connection id "0HMTHPCP9EI1H" stopped.
2023-09-10 07:59:23.069 +01:00 [DBG] Connection id "0HMTHPCP9EI1H" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 07:59:23.088 +01:00 [DBG] Connection 0HMTHPCP9EI1I established using the following protocol: "Tls12"
2023-09-10 07:59:23.089 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 60
2023-09-10 07:59:23.089 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 07:59:23.090 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 07:59:23.090 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 07:59:23.090 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 07:59:23.092 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 07:59:23.092 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 07:59:23.092 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 07:59:23.092 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 07:59:23.092 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 07:59:23.092 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:59:23.092 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 07:59:23.092 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 07:59:23.093 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:59:23.108 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 07:59:23.109 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 07:59:23.109 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 07:59:23.109 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:59:23.109 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 07:59:23.109 +01:00 [DBG] Connection id "0HMTHPCP9EI1I", Request id "0HMTHPCP9EI1I:00000001": started reading request body.
2023-09-10 07:59:23.109 +01:00 [DBG] Connection id "0HMTHPCP9EI1I", Request id "0HMTHPCP9EI1I:00000001": done reading request body.
2023-09-10 07:59:23.109 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 07:59:23.109 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 07:59:23.109 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 07:59:23.109 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 07:59:23.182 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 07:59:23.190 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:59:23.190 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:59:23.190 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:59:23.191 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:59:23.191 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 07:59:23.193 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 07:59:23.198 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 07:59:23.198 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:59:23.199 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:59:23.199 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:59:23.237 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-09-10 07:59:23.281 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-10 07:59:23.284 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 07:59:23.285 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 07:59:23.285 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:59:23.285 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:59:23.285 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 07:59:23.290 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 07:59:23.292 +01:00 [DBG] A data reader was disposed.
2023-09-10 07:59:23.292 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:59:23.292 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 07:59:23.426 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 07:59:23.426 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 07:59:23.426 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 07:59:23.426 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 07:59:23.426 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 07:59:23.426 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 07:59:23.426 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 333.8213ms
2023-09-10 07:59:23.426 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 07:59:23.427 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 07:59:23.427 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 60 - 400 104 application/json;+charset=utf-8 337.5357ms
2023-09-10 08:02:36.964 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59
2023-09-10 08:02:36.964 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:02:36.965 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:02:36.965 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:02:36.965 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:02:36.966 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:02:36.966 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:02:36.973 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:02:36.973 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:02:36.973 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:02:36.973 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:02:36.973 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:02:36.974 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:02:36.974 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:02:36.974 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:02:36.974 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:02:36.976 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 08:02:36.976 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:02:36.976 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:02:36.981 +01:00 [DBG] Connection id "0HMTHPCP9EI1I", Request id "0HMTHPCP9EI1I:00000003": started reading request body.
2023-09-10 08:02:36.981 +01:00 [DBG] Connection id "0HMTHPCP9EI1I", Request id "0HMTHPCP9EI1I:00000003": done reading request body.
2023-09-10 08:02:37.009 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:02:37.009 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:02:37.009 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:02:37.010 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:02:37.011 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:02:37.014 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:02:37.014 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:02:37.014 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:02:37.015 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:02:37.015 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:02:37.028 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:02:37.028 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:02:37.028 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:02:37.029 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:02:37.029 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:02:37.050 +01:00 [WRN] Invalid password for user.
2023-09-10 08:02:37.050 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:02:37.050 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:02:37.050 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:02:37.050 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:02:37.050 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:02:37.050 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:02:37.051 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 77.2533ms
2023-09-10 08:02:37.051 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:02:37.051 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:02:37.052 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59 - 400 104 application/json;+charset=utf-8 87.6191ms
2023-09-10 08:03:02.589 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 100
2023-09-10 08:03:02.589 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-10 08:03:02.589 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-10 08:03:02.589 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 08:03:02.589 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:03:02.589 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:03:02.589 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 08:03:02.589 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:03:02.589 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:03:02.589 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:03:02.589 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:03:02.589 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:03:02.589 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:03:02.589 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:03:02.590 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:03:02.590 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 08:03:02.590 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-10 08:03:02.590 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:03:02.590 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:03:02.590 +01:00 [DBG] Connection id "0HMTHPCP9EI1I", Request id "0HMTHPCP9EI1I:00000005": started reading request body.
2023-09-10 08:03:02.590 +01:00 [DBG] Connection id "0HMTHPCP9EI1I", Request id "0HMTHPCP9EI1I:00000005": done reading request body.
2023-09-10 08:03:02.590 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 08:03:02.590 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 08:03:02.590 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 08:03:02.590 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 08:03:02.591 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:03:02.591 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:03:02.591 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:03:02.591 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:02.591 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:02.592 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 08:03:02.610 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 08:03:02.610 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:03:02.610 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:03:02.611 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:02.612 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:02.613 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:03:02.613 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:03:02.613 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:03:02.613 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:03:02.613 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:03:02.613 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:03:02.613 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 23.9947ms
2023-09-10 08:03:02.613 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 08:03:02.614 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:03:02.614 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 100 - 400 94 application/json;+charset=utf-8 24.8482ms
2023-09-10 08:03:29.122 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 98
2023-09-10 08:03:29.122 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-10 08:03:29.122 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-10 08:03:29.122 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 08:03:29.122 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:03:29.122 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:03:29.122 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 08:03:29.123 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:03:29.123 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:03:29.123 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:03:29.124 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:03:29.124 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:03:29.124 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:03:29.127 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:03:29.127 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:03:29.127 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 08:03:29.127 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-10 08:03:29.127 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:03:29.127 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:03:29.127 +01:00 [DBG] Connection id "0HMTHPCP9EI1I", Request id "0HMTHPCP9EI1I:00000007": started reading request body.
2023-09-10 08:03:29.128 +01:00 [DBG] Connection id "0HMTHPCP9EI1I", Request id "0HMTHPCP9EI1I:00000007": done reading request body.
2023-09-10 08:03:29.128 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 08:03:29.128 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 08:03:29.128 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 08:03:29.128 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 08:03:29.131 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:03:29.141 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:03:29.143 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-09-10 08:03:29.143 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.143 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.143 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 08:03:29.144 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 08:03:29.144 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:03:29.144 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.144 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.156 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:03:29.156 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:03:29.156 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.157 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.157 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 08:03:29.161 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 08:03:29.161 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:03:29.162 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.162 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.162 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:03:29.162 +01:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-09-10 08:03:29.162 +01:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-09-10 08:03:29.162 +01:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-09-10 08:03:29.163 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.163 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.163 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-10 08:03:29.163 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-10 08:03:29.164 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:03:29.164 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:03:29.164 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-10 08:03:29.172 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-09-10 08:03:29.172 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:03:29.172 +01:00 [DBG] Committing transaction.
2023-09-10 08:03:29.173 +01:00 [DBG] Committed transaction.
2023-09-10 08:03:29.173 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.173 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.173 +01:00 [DBG] Disposing transaction.
2023-09-10 08:03:29.173 +01:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:03:29.173 +01:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-09-10 08:03:29.173 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:03:29.174 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:03:29.174 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.174 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.174 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-10 08:03:29.178 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-09-10 08:03:29.178 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:03:29.178 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:03:29.178 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.178 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.179 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:03:29.179 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:03:29.179 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.179 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.179 +01:00 [DBG] Executing DbCommand [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2023-09-10 08:03:29.181 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2023-09-10 08:03:29.182 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:03:29.182 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.182 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:29.182 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:03:29.182 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:03:29.182 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:03:29.182 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:03:29.182 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:03:29.182 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:03:29.182 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 55.8129ms
2023-09-10 08:03:29.183 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 08:03:29.183 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:03:29.183 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 98 - 200 68 application/json;+charset=utf-8 61.1254ms
2023-09-10 08:03:57.996 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59
2023-09-10 08:03:57.996 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:03:57.998 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:03:57.998 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:03:57.998 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:03:57.998 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:03:57.998 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:03:57.998 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:03:58.000 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:03:58.000 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:03:58.000 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:03:58.005 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:03:58.008 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:03:58.008 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:03:58.009 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:03:58.009 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:03:58.009 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 08:03:58.009 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:03:58.009 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:03:58.009 +01:00 [DBG] Connection id "0HMTHPCP9EI1I", Request id "0HMTHPCP9EI1I:00000009": started reading request body.
2023-09-10 08:03:58.009 +01:00 [DBG] Connection id "0HMTHPCP9EI1I", Request id "0HMTHPCP9EI1I:00000009": done reading request body.
2023-09-10 08:03:58.009 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:03:58.009 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:03:58.009 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:03:58.010 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:03:58.010 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:03:58.012 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:03:58.012 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:03:58.012 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:58.013 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:58.013 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:03:58.033 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:03:58.034 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:03:58.034 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:03:58.034 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:58.034 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:03:58.042 +01:00 [WRN] Invalid password for user.
2023-09-10 08:03:58.043 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:03:58.043 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:03:58.043 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:03:58.043 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:03:58.043 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:03:58.043 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:03:58.044 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 34.9286ms
2023-09-10 08:03:58.044 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:03:58.044 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:03:58.044 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59 - 400 104 application/json;+charset=utf-8 48.4042ms
2023-09-10 08:04:05.676 +01:00 [DBG] Connection id "0HMTHPCP9EI1I" received FIN.
2023-09-10 08:04:05.676 +01:00 [DBG] Connection id "0HMTHPCP9EI1I" is closed. The last processed stream ID was 9.
2023-09-10 08:04:05.676 +01:00 [DBG] Connection id "0HMTHPCP9EI1I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:04:05.676 +01:00 [DBG] Connection id "0HMTHPCP9EI1I" stopped.
2023-09-10 08:04:09.311 +01:00 [DBG] Connection id "0HMTHPCP9EI1J" accepted.
2023-09-10 08:04:09.312 +01:00 [DBG] Connection id "0HMTHPCP9EI1J" started.
2023-09-10 08:04:09.313 +01:00 [DBG] Connection id "0HMTHPCP9EI1J" received FIN.
2023-09-10 08:04:09.314 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 08:04:09.315 +01:00 [DBG] Connection id "0HMTHPCP9EI1K" accepted.
2023-09-10 08:04:09.315 +01:00 [DBG] Connection id "0HMTHPCP9EI1J" stopped.
2023-09-10 08:04:09.315 +01:00 [DBG] Connection id "0HMTHPCP9EI1K" started.
2023-09-10 08:04:09.316 +01:00 [DBG] Connection id "0HMTHPCP9EI1J" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:04:09.329 +01:00 [DBG] Connection 0HMTHPCP9EI1K established using the following protocol: "Tls12"
2023-09-10 08:04:09.330 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59
2023-09-10 08:04:09.330 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:09.331 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:09.331 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.331 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:04:09.332 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:04:09.332 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.332 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:04:09.332 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:04:09.332 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:04:09.332 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:09.332 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:04:09.332 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:09.332 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:09.332 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:09.333 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:09.333 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 08:04:09.333 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:09.333 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:09.333 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:00000001": started reading request body.
2023-09-10 08:04:09.333 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:00000001": done reading request body.
2023-09-10 08:04:09.333 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.333 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.333 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:09.333 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.334 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:04:09.335 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:04:09.335 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:04:09.335 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.336 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.336 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:09.346 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:09.346 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:04:09.346 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:04:09.346 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.346 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.355 +01:00 [WRN] Invalid password for user.
2023-09-10 08:04:09.355 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:04:09.355 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:04:09.355 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:04:09.355 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:04:09.355 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:04:09.355 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:04:09.355 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 23.3241ms
2023-09-10 08:04:09.355 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.356 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:04:09.356 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59 - 400 104 application/json;+charset=utf-8 25.5110ms
2023-09-10 08:04:09.455 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59
2023-09-10 08:04:09.455 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:09.455 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:09.455 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.455 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:04:09.455 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:04:09.455 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.455 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:04:09.456 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:04:09.456 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:04:09.456 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:09.456 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:04:09.456 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:09.456 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:09.456 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:09.456 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:09.456 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 08:04:09.456 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:09.456 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:09.456 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:00000003": started reading request body.
2023-09-10 08:04:09.456 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:00000003": done reading request body.
2023-09-10 08:04:09.456 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.456 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.456 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:09.456 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.457 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:04:09.458 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:04:09.458 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:04:09.458 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.459 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.459 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:09.459 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:09.459 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:04:09.460 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:04:09.460 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.460 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.470 +01:00 [WRN] Invalid password for user.
2023-09-10 08:04:09.471 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:04:09.471 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:04:09.471 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:04:09.471 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:04:09.471 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:04:09.471 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:04:09.471 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 15.4488ms
2023-09-10 08:04:09.471 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.471 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:04:09.471 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59 - 400 104 application/json;+charset=utf-8 16.8026ms
2023-09-10 08:04:09.657 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59
2023-09-10 08:04:09.657 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:09.657 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:09.657 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.657 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:04:09.657 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:04:09.657 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.657 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:04:09.657 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:04:09.657 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:04:09.657 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:09.657 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:04:09.657 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:09.657 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:09.657 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:09.658 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:09.658 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 08:04:09.658 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:09.658 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:09.658 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:00000005": started reading request body.
2023-09-10 08:04:09.658 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:00000005": done reading request body.
2023-09-10 08:04:09.658 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.658 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.658 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:09.658 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.658 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:04:09.660 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:04:09.660 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:04:09.660 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.660 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.660 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:09.661 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:09.661 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:04:09.661 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:04:09.661 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.661 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.673 +01:00 [WRN] Invalid password for user.
2023-09-10 08:04:09.674 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:04:09.674 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:04:09.675 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:04:09.675 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:04:09.675 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:04:09.675 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:04:09.675 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 17.4955ms
2023-09-10 08:04:09.675 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.675 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:04:09.675 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59 - 400 104 application/json;+charset=utf-8 18.3964ms
2023-09-10 08:04:09.828 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59
2023-09-10 08:04:09.828 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:09.828 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:09.828 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.829 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:04:09.829 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:04:09.829 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.829 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:04:09.829 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:04:09.829 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:04:09.829 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:09.829 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:04:09.829 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:09.829 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:09.829 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:09.829 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:09.829 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 08:04:09.829 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:09.829 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:09.829 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:00000007": started reading request body.
2023-09-10 08:04:09.829 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:00000007": done reading request body.
2023-09-10 08:04:09.829 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.829 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.830 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:09.830 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.830 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:04:09.832 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:04:09.832 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:04:09.832 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.832 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.832 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:09.832 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:09.833 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:04:09.833 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:04:09.833 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.833 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.843 +01:00 [WRN] Invalid password for user.
2023-09-10 08:04:09.844 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:04:09.844 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:04:09.844 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:04:09.844 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:04:09.844 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:04:09.844 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:04:09.844 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 15.1485ms
2023-09-10 08:04:09.844 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.844 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:04:09.844 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59 - 400 104 application/json;+charset=utf-8 16.1018ms
2023-09-10 08:04:09.975 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59
2023-09-10 08:04:09.976 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:09.976 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:09.976 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.976 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:04:09.976 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:04:09.976 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.976 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:04:09.976 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:04:09.976 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:04:09.976 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:09.976 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:04:09.976 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:09.976 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:09.976 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:09.976 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:09.977 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 08:04:09.977 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:09.977 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:09.977 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:00000009": started reading request body.
2023-09-10 08:04:09.977 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:00000009": done reading request body.
2023-09-10 08:04:09.977 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.977 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.977 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:09.977 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:09.978 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:04:09.979 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:04:09.979 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:04:09.979 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.979 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.979 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:09.980 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:09.980 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:04:09.980 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:04:09.980 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.980 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:09.991 +01:00 [WRN] Invalid password for user.
2023-09-10 08:04:09.992 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:04:09.992 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:04:09.992 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:04:09.992 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:04:09.992 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:04:09.992 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:04:09.993 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 16.8082ms
2023-09-10 08:04:09.993 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:09.994 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:04:09.994 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59 - 400 104 application/json;+charset=utf-8 18.7960ms
2023-09-10 08:04:10.131 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59
2023-09-10 08:04:10.132 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:10.132 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:10.132 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:10.132 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:04:10.132 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:04:10.132 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:10.132 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:04:10.132 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:04:10.132 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:04:10.132 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:10.132 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:04:10.132 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:10.132 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:10.133 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:10.133 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:10.133 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 08:04:10.133 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:10.133 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:10.133 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:0000000B": started reading request body.
2023-09-10 08:04:10.133 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:0000000B": done reading request body.
2023-09-10 08:04:10.133 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:10.133 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:10.133 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:10.133 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:10.134 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:04:10.137 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:04:10.137 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:04:10.137 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:10.137 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:10.138 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:10.138 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:10.139 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:04:10.139 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:04:10.139 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:10.139 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:10.150 +01:00 [WRN] Invalid password for user.
2023-09-10 08:04:10.151 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:04:10.151 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:04:10.151 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:04:10.151 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:04:10.151 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:04:10.151 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:04:10.151 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 18.7749ms
2023-09-10 08:04:10.151 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:10.151 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:04:10.152 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59 - 400 104 application/json;+charset=utf-8 20.1997ms
2023-09-10 08:04:10.383 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59
2023-09-10 08:04:10.383 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:10.383 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:04:10.383 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:10.383 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:04:10.383 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:04:10.383 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:10.383 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:04:10.383 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:04:10.383 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:04:10.383 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:10.383 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:04:10.383 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:04:10.383 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:10.384 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:04:10.384 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:10.384 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 08:04:10.384 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:10.384 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:04:10.384 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:0000000D": started reading request body.
2023-09-10 08:04:10.384 +01:00 [DBG] Connection id "0HMTHPCP9EI1K", Request id "0HMTHPCP9EI1K:0000000D": done reading request body.
2023-09-10 08:04:10.384 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:10.385 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:10.385 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:04:10.385 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:04:10.385 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:04:10.386 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:04:10.387 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:04:10.387 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:10.387 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:10.387 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:10.388 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:04:10.388 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:04:10.388 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:04:10.388 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:10.388 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:04:10.397 +01:00 [WRN] Invalid password for user.
2023-09-10 08:04:10.397 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:04:10.397 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:04:10.397 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:04:10.397 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:04:10.397 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:04:10.397 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:04:10.397 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 13.7687ms
2023-09-10 08:04:10.397 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:04:10.397 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:04:10.397 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59 - 400 104 application/json;+charset=utf-8 14.7343ms
2023-09-10 08:05:53.298 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 08:05:53.444 +01:00 [DBG] Hosting starting
2023-09-10 08:05:53.503 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 08:05:53.506 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 08:05:53.517 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 08:05:53.528 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 08:05:53.530 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 08:05:53.535 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 08:05:53.536 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 08:05:53.542 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 08:05:53.544 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 08:05:53.547 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 08:05:53.548 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 08:05:53.750 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 08:05:53.824 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 08:05:53.824 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 08:05:53.824 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 08:05:53.824 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 08:05:53.824 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 08:05:53.824 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 08:05:53.824 +01:00 [INF] Hosting environment: Development
2023-09-10 08:05:53.825 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 08:05:53.825 +01:00 [DBG] Hosting started
2023-09-10 08:05:54.201 +01:00 [DBG] Connection id "0HMTHPHFSVULJ" accepted.
2023-09-10 08:05:54.201 +01:00 [DBG] Connection id "0HMTHPHFSVULI" accepted.
2023-09-10 08:05:54.202 +01:00 [DBG] Connection id "0HMTHPHFSVULI" started.
2023-09-10 08:05:54.202 +01:00 [DBG] Connection id "0HMTHPHFSVULJ" started.
2023-09-10 08:05:54.228 +01:00 [DBG] Connection id "0HMTHPHFSVULI" received FIN.
2023-09-10 08:05:54.228 +01:00 [DBG] Connection id "0HMTHPHFSVULJ" received FIN.
2023-09-10 08:05:54.244 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 08:05:54.244 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 08:05:54.307 +01:00 [DBG] Connection id "0HMTHPHFSVULJ" stopped.
2023-09-10 08:05:54.307 +01:00 [DBG] Connection id "0HMTHPHFSVULI" stopped.
2023-09-10 08:05:54.309 +01:00 [DBG] Connection id "0HMTHPHFSVULI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:05:54.309 +01:00 [DBG] Connection id "0HMTHPHFSVULJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:05:54.860 +01:00 [DBG] Connection id "0HMTHPHFSVULK" accepted.
2023-09-10 08:05:54.860 +01:00 [DBG] Connection id "0HMTHPHFSVULK" started.
2023-09-10 08:05:54.929 +01:00 [DBG] Connection id "0HMTHPHFSVULK" received FIN.
2023-09-10 08:05:54.930 +01:00 [DBG] Connection id "0HMTHPHFSVULL" accepted.
2023-09-10 08:05:54.931 +01:00 [DBG] Connection id "0HMTHPHFSVULL" started.
2023-09-10 08:05:54.941 +01:00 [DBG] Connection id "0HMTHPHFSVULM" accepted.
2023-09-10 08:05:54.941 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 08:05:54.942 +01:00 [DBG] Connection id "0HMTHPHFSVULM" started.
2023-09-10 08:05:54.942 +01:00 [DBG] Connection id "0HMTHPHFSVULL" received FIN.
2023-09-10 08:05:54.942 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 08:05:54.943 +01:00 [DBG] Connection id "0HMTHPHFSVULK" stopped.
2023-09-10 08:05:54.943 +01:00 [DBG] Connection id "0HMTHPHFSVULL" stopped.
2023-09-10 08:05:54.944 +01:00 [DBG] Connection id "0HMTHPHFSVULK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:05:54.944 +01:00 [DBG] Connection id "0HMTHPHFSVULL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:05:54.972 +01:00 [DBG] Connection 0HMTHPHFSVULM established using the following protocol: "Tls12"
2023-09-10 08:05:55.105 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 08:05:55.194 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 08:05:55.267 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 08:05:55.269 +01:00 [DBG] Request did not match any endpoints
2023-09-10 08:05:55.379 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 285.6379ms
2023-09-10 08:05:55.396 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 08:05:55.397 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 08:05:55.397 +01:00 [DBG] Request did not match any endpoints
2023-09-10 08:05:55.724 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 08:05:56.024 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 08:05:56.024 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 08:05:56.024 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 08:05:56.024 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 08:05:56.024 +01:00 [DBG] Request did not match any endpoints
2023-09-10 08:05:56.024 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 08:05:56.024 +01:00 [DBG] Request did not match any endpoints
2023-09-10 08:05:56.024 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 08:05:56.026 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 08:05:56.026 +01:00 [DBG] Request did not match any endpoints
2023-09-10 08:05:56.052 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 08:05:56.094 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 698.3866ms
2023-09-10 08:05:56.107 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 83.0288ms
2023-09-10 08:05:56.127 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 08:05:56.148 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 08:05:56.148 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 08:05:56.148 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 124.8739ms
2023-09-10 08:05:56.148 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 124.1763ms
2023-09-10 08:05:56.190 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 08:05:56.193 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 169.5398ms
2023-09-10 08:05:56.229 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 101.8298ms
2023-09-10 08:05:56.705 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 08:05:56.706 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 08:05:56.706 +01:00 [DBG] Request did not match any endpoints
2023-09-10 08:05:57.144 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 438.3814ms
2023-09-10 08:06:37.917 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59
2023-09-10 08:06:37.941 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:06:37.952 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:06:37.960 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:06:37.960 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:06:38.057 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:06:38.061 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:06:38.113 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:06:38.114 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:06:38.114 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:06:38.114 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:06:38.114 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:06:38.114 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:06:38.115 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:06:38.334 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 08:06:38.380 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:06:38.394 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:06:38.396 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 08:06:38.397 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:06:38.397 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:06:38.414 +01:00 [DBG] Connection id "0HMTHPHFSVULM", Request id "0HMTHPHFSVULM:00000011": started reading request body.
2023-09-10 08:06:38.414 +01:00 [DBG] Connection id "0HMTHPHFSVULM", Request id "0HMTHPHFSVULM:00000011": done reading request body.
2023-09-10 08:06:38.588 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:06:38.588 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:06:38.588 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:06:38.596 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:06:39.485 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 08:06:39.486 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 08:06:39.976 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:06:40.080 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-10 08:06:40.659 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 08:06:40.748 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:06:40.816 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (65ms).
2023-09-10 08:06:40.838 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:06:41.344 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:06:41.364 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:06:41.467 +01:00 [INF] Executed DbCommand (111ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:06:41.526 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 08:06:41.596 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:06:41.600 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:06:41.614 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:06:41.638 +01:00 [WRN] Invalid password for user.
2023-09-10 08:06:41.641 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:06:41.644 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:06:41.644 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:06:41.644 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:06:41.645 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:06:41.645 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:06:41.734 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 3607.5781ms
2023-09-10 08:06:41.737 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:06:41.754 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:06:41.761 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 59 - 400 104 application/json;+charset=utf-8 3844.3019ms
2023-09-10 08:07:25.972 +01:00 [DBG] Connection id "0HMTHPHFSVULM" received FIN.
2023-09-10 08:07:25.976 +01:00 [DBG] Connection id "0HMTHPHFSVULM" is closed. The last processed stream ID was 17.
2023-09-10 08:07:25.982 +01:00 [DBG] Connection id "0HMTHPHFSVULM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:07:25.993 +01:00 [DBG] Connection id "0HMTHPHFSVULM" stopped.
2023-09-10 08:07:38.437 +01:00 [DBG] Connection id "0HMTHPHFSVULN" accepted.
2023-09-10 08:07:38.437 +01:00 [DBG] Connection id "0HMTHPHFSVULN" started.
2023-09-10 08:07:38.442 +01:00 [DBG] Connection id "0HMTHPHFSVULN" received FIN.
2023-09-10 08:07:38.480 +01:00 [DBG] Connection id "0HMTHPHFSVULO" accepted.
2023-09-10 08:07:38.495 +01:00 [DBG] Connection id "0HMTHPHFSVULO" started.
2023-09-10 08:07:38.512 +01:00 [DBG] Connection 0HMTHPHFSVULO established using the following protocol: "Tls12"
2023-09-10 08:07:38.521 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 08:07:38.522 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 92
2023-09-10 08:07:38.523 +01:00 [DBG] Connection id "0HMTHPHFSVULN" stopped.
2023-09-10 08:07:38.523 +01:00 [DBG] Connection id "0HMTHPHFSVULN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:07:38.526 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-10 08:07:38.526 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-10 08:07:38.527 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 08:07:38.527 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:07:38.527 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:07:38.528 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 08:07:38.534 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:07:38.534 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:07:38.534 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:07:38.534 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:07:38.535 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:07:38.535 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:07:38.535 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:07:38.552 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:07:38.553 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 08:07:38.553 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-10 08:07:38.553 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:07:38.553 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:07:38.553 +01:00 [DBG] Connection id "0HMTHPHFSVULO", Request id "0HMTHPHFSVULO:00000001": started reading request body.
2023-09-10 08:07:38.553 +01:00 [DBG] Connection id "0HMTHPHFSVULO", Request id "0HMTHPHFSVULO:00000001": done reading request body.
2023-09-10 08:07:38.557 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 08:07:38.557 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 08:07:38.557 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 08:07:38.559 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 08:07:38.562 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:07:38.563 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-10 08:07:38.570 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 08:07:38.571 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:07:38.571 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:07:38.571 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:07:38.574 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:07:38.574 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 08:07:38.587 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 08:07:38.587 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:07:38.587 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:07:38.587 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:07:38.594 +01:00 [WRN] User password validation failed: PasswordRequiresDigit.
2023-09-10 08:07:38.595 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:07:38.595 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:07:38.595 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:07:38.595 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:07:38.595 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:07:38.595 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:07:38.595 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 60.5979ms
2023-09-10 08:07:38.595 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 08:07:38.595 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:07:38.596 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 92 - 200 68 application/json;+charset=utf-8 73.2443ms
2023-09-10 08:07:41.007 +01:00 [DBG] Connection id "0HMTHPHFSVULO" received FIN.
2023-09-10 08:07:41.008 +01:00 [DBG] Connection id "0HMTHPHFSVULO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:07:41.008 +01:00 [DBG] Connection id "0HMTHPHFSVULO" is closed. The last processed stream ID was 1.
2023-09-10 08:07:41.008 +01:00 [DBG] Connection id "0HMTHPHFSVULO" stopped.
2023-09-10 08:08:40.618 +01:00 [DBG] Connection id "0HMTHPHFSVULP" accepted.
2023-09-10 08:08:40.625 +01:00 [DBG] Connection id "0HMTHPHFSVULP" started.
2023-09-10 08:08:40.656 +01:00 [DBG] Connection id "0HMTHPHFSVULP" received FIN.
2023-09-10 08:08:40.657 +01:00 [DBG] Connection id "0HMTHPHFSVULQ" accepted.
2023-09-10 08:08:40.658 +01:00 [DBG] Connection id "0HMTHPHFSVULQ" started.
2023-09-10 08:08:40.659 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 08:08:40.668 +01:00 [DBG] Connection id "0HMTHPHFSVULP" stopped.
2023-09-10 08:08:40.668 +01:00 [DBG] Connection id "0HMTHPHFSVULP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:08:40.673 +01:00 [DBG] Connection 0HMTHPHFSVULQ established using the following protocol: "Tls12"
2023-09-10 08:08:40.674 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52
2023-09-10 08:08:40.674 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:08:40.674 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:08:40.674 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:08:40.674 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:08:40.677 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:08:40.677 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:08:40.677 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:08:40.677 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:08:40.677 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:08:40.677 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:08:40.677 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:08:40.677 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:08:40.677 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:08:40.689 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:08:40.689 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:08:40.689 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 08:08:40.689 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:08:40.689 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:08:40.689 +01:00 [DBG] Connection id "0HMTHPHFSVULQ", Request id "0HMTHPHFSVULQ:00000001": started reading request body.
2023-09-10 08:08:40.689 +01:00 [DBG] Connection id "0HMTHPHFSVULQ", Request id "0HMTHPHFSVULQ:00000001": done reading request body.
2023-09-10 08:08:40.689 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:08:40.689 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:08:40.689 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:08:40.689 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:08:40.747 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:08:40.752 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:08:40.752 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:08:40.752 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:08:40.752 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:08:40.752 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:08:40.766 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:08:40.766 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:08:40.766 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:08:40.767 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:08:40.767 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:08:40.767 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:08:40.767 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:08:40.767 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:08:40.767 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:08:40.767 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:08:40.767 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 90.1722ms
2023-09-10 08:08:40.767 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:08:40.767 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:08:40.767 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52 - 400 104 application/json;+charset=utf-8 93.4574ms
2023-09-10 08:08:46.112 +01:00 [DBG] Connection id "0HMTHPHFSVULQ" received FIN.
2023-09-10 08:08:46.112 +01:00 [DBG] Connection id "0HMTHPHFSVULQ" is closed. The last processed stream ID was 1.
2023-09-10 08:08:46.112 +01:00 [DBG] Connection id "0HMTHPHFSVULQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:08:46.113 +01:00 [DBG] Connection id "0HMTHPHFSVULQ" stopped.
2023-09-10 08:10:48.126 +01:00 [DBG] Connection id "0HMTHPHFSVULR" accepted.
2023-09-10 08:10:48.126 +01:00 [DBG] Connection id "0HMTHPHFSVULR" started.
2023-09-10 08:10:48.162 +01:00 [DBG] Connection id "0HMTHPHFSVULS" accepted.
2023-09-10 08:10:48.162 +01:00 [DBG] Connection id "0HMTHPHFSVULS" started.
2023-09-10 08:10:48.162 +01:00 [DBG] Connection id "0HMTHPHFSVULR" received FIN.
2023-09-10 08:10:48.171 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 08:10:48.172 +01:00 [DBG] Connection 0HMTHPHFSVULS established using the following protocol: "Tls12"
2023-09-10 08:10:48.173 +01:00 [DBG] Connection id "0HMTHPHFSVULR" stopped.
2023-09-10 08:10:48.173 +01:00 [DBG] Connection id "0HMTHPHFSVULR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:10:48.173 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 91
2023-09-10 08:10:48.174 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-10 08:10:48.174 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-10 08:10:48.174 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 08:10:48.174 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:10:48.174 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:10:48.174 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 08:10:48.174 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:10:48.174 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:10:48.174 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:10:48.174 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:10:48.174 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:10:48.174 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:10:48.174 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:10:48.175 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:10:48.175 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 08:10:48.175 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-10 08:10:48.175 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:10:48.175 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:10:48.175 +01:00 [DBG] Connection id "0HMTHPHFSVULS", Request id "0HMTHPHFSVULS:00000001": started reading request body.
2023-09-10 08:10:48.175 +01:00 [DBG] Connection id "0HMTHPHFSVULS", Request id "0HMTHPHFSVULS:00000001": done reading request body.
2023-09-10 08:10:48.175 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 08:10:48.175 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 08:10:48.175 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 08:10:48.175 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 08:10:48.176 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:10:48.176 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:10:48.176 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:10:48.176 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:10:48.176 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:10:48.176 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 08:10:48.179 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 08:10:48.179 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:10:48.179 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:10:48.179 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:10:48.179 +01:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric.
2023-09-10 08:10:48.179 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:10:48.179 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:10:48.179 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:10:48.179 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:10:48.179 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:10:48.179 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:10:48.179 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 5.0085ms
2023-09-10 08:10:48.179 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 08:10:48.179 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:10:48.180 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 91 - 200 68 application/json;+charset=utf-8 6.1889ms
2023-09-10 08:10:51.307 +01:00 [DBG] Connection id "0HMTHPHFSVULS" received FIN.
2023-09-10 08:10:51.308 +01:00 [DBG] Connection id "0HMTHPHFSVULS" is closed. The last processed stream ID was 1.
2023-09-10 08:10:51.308 +01:00 [DBG] Connection id "0HMTHPHFSVULS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:10:51.309 +01:00 [DBG] Connection id "0HMTHPHFSVULS" stopped.
2023-09-10 08:18:59.179 +01:00 [DBG] Connection id "0HMTHPHFSVULT" accepted.
2023-09-10 08:18:59.180 +01:00 [DBG] Connection id "0HMTHPHFSVULT" started.
2023-09-10 08:18:59.218 +01:00 [DBG] Connection id "0HMTHPHFSVULT" received FIN.
2023-09-10 08:18:59.223 +01:00 [DBG] Connection id "0HMTHPHFSVULU" accepted.
2023-09-10 08:18:59.224 +01:00 [DBG] Connection id "0HMTHPHFSVULU" started.
2023-09-10 08:18:59.224 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 08:18:59.230 +01:00 [DBG] Connection id "0HMTHPHFSVULT" stopped.
2023-09-10 08:18:59.231 +01:00 [DBG] Connection id "0HMTHPHFSVULT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 08:18:59.241 +01:00 [DBG] Connection 0HMTHPHFSVULU established using the following protocol: "Tls12"
2023-09-10 08:18:59.242 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52
2023-09-10 08:18:59.242 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:18:59.242 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 08:18:59.242 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:18:59.242 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 08:18:59.242 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 08:18:59.242 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:18:59.242 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 08:18:59.242 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 08:18:59.242 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 08:18:59.243 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:18:59.243 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 08:18:59.243 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 08:18:59.243 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:18:59.243 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 08:18:59.243 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:18:59.243 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 08:18:59.243 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:18:59.243 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 08:18:59.243 +01:00 [DBG] Connection id "0HMTHPHFSVULU", Request id "0HMTHPHFSVULU:00000001": started reading request body.
2023-09-10 08:18:59.243 +01:00 [DBG] Connection id "0HMTHPHFSVULU", Request id "0HMTHPHFSVULU:00000001": done reading request body.
2023-09-10 08:18:59.243 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:18:59.243 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:18:59.243 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 08:18:59.243 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 08:18:59.244 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 08:18:59.245 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 08:18:59.245 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 08:18:59.245 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:18:59.250 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:18:59.250 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:18:59.255 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 08:18:59.255 +01:00 [DBG] A data reader was disposed.
2023-09-10 08:18:59.255 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:18:59.255 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 08:18:59.255 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 08:18:59.255 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 08:18:59.255 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 08:18:59.255 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 08:18:59.255 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 08:18:59.255 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 08:18:59.256 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 12.934ms
2023-09-10 08:18:59.256 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 08:18:59.256 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 08:18:59.256 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52 - 400 104 application/json;+charset=utf-8 14.2310ms
2023-09-10 15:43:13.785 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 15:43:14.051 +01:00 [DBG] Hosting starting
2023-09-10 15:43:14.251 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 15:43:14.259 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 15:43:14.295 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 15:43:14.315 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 15:43:14.320 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 15:43:14.327 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 15:43:14.329 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 15:43:14.338 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 15:43:14.340 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 15:43:14.344 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 15:43:14.345 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 15:43:17.270 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 15:43:17.417 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 15:43:17.417 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 15:43:17.417 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 15:43:17.417 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 15:43:17.417 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 15:43:17.417 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 15:43:17.418 +01:00 [INF] Hosting environment: Development
2023-09-10 15:43:17.418 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 15:43:17.418 +01:00 [DBG] Hosting started
2023-09-10 15:43:17.727 +01:00 [DBG] Connection id "0HMTI1H2MQ7UR" accepted.
2023-09-10 15:43:17.727 +01:00 [DBG] Connection id "0HMTI1H2MQ7UQ" accepted.
2023-09-10 15:43:17.729 +01:00 [DBG] Connection id "0HMTI1H2MQ7UR" started.
2023-09-10 15:43:17.729 +01:00 [DBG] Connection id "0HMTI1H2MQ7UQ" started.
2023-09-10 15:43:18.579 +01:00 [DBG] Connection id "0HMTI1H2MQ7US" accepted.
2023-09-10 15:43:18.596 +01:00 [DBG] Connection id "0HMTI1H2MQ7US" started.
2023-09-10 15:43:18.952 +01:00 [DBG] Connection id "0HMTI1H2MQ7US" received FIN.
2023-09-10 15:43:18.958 +01:00 [DBG] Connection id "0HMTI1H2MQ7UT" accepted.
2023-09-10 15:43:18.959 +01:00 [DBG] Connection id "0HMTI1H2MQ7UT" started.
2023-09-10 15:43:19.000 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 15:43:19.013 +01:00 [DBG] Connection 0HMTI1H2MQ7UT established using the following protocol: "Tls12"
2023-09-10 15:43:19.154 +01:00 [DBG] Connection id "0HMTI1H2MQ7US" stopped.
2023-09-10 15:43:19.159 +01:00 [DBG] Connection id "0HMTI1H2MQ7US" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 15:43:19.303 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 15:43:19.422 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 15:43:19.506 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 15:43:19.506 +01:00 [DBG] Request did not match any endpoints
2023-09-10 15:43:19.674 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 383.6777ms
2023-09-10 15:43:19.707 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 15:43:19.708 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 15:43:19.708 +01:00 [DBG] Request did not match any endpoints
2023-09-10 15:43:20.383 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 15:43:20.861 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 15:43:20.861 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 15:43:20.861 +01:00 [DBG] Request did not match any endpoints
2023-09-10 15:43:20.863 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 15:43:20.863 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 15:43:20.864 +01:00 [DBG] Request did not match any endpoints
2023-09-10 15:43:20.865 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 15:43:20.865 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 15:43:20.866 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 15:43:20.866 +01:00 [DBG] Request did not match any endpoints
2023-09-10 15:43:20.870 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 15:43:20.873 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 1165.9173ms
2023-09-10 15:43:20.879 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 13.8095ms
2023-09-10 15:43:20.939 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 15:43:20.939 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 82.5447ms
2023-09-10 15:43:20.947 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 15:43:20.947 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 82.4770ms
2023-09-10 15:43:21.029 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 15:43:21.084 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 15:43:21.084 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 222.9503ms
2023-09-10 15:43:21.168 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 138.8762ms
2023-09-10 15:43:22.604 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 15:43:22.604 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 15:43:22.604 +01:00 [DBG] Request did not match any endpoints
2023-09-10 15:43:23.229 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 625.0767ms
2023-09-10 15:43:27.775 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-09-10 15:43:27.775 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-09-10 15:43:27.776 +01:00 [DBG] Connection id "0HMTI1H2MQ7UR" stopped.
2023-09-10 15:43:27.776 +01:00 [DBG] Connection id "0HMTI1H2MQ7UQ" stopped.
2023-09-10 15:43:27.777 +01:00 [DBG] Connection id "0HMTI1H2MQ7UQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 15:43:27.777 +01:00 [DBG] Connection id "0HMTI1H2MQ7UR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 15:45:08.889 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52
2023-09-10 15:45:08.905 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 15:45:08.921 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 15:45:08.931 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 15:45:08.931 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 15:45:09.155 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 15:45:09.164 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 15:45:09.281 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 15:45:09.283 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 15:45:09.283 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 15:45:09.283 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 15:45:09.283 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 15:45:09.283 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 15:45:09.285 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 15:45:09.666 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 15:45:09.741 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 15:45:09.770 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 15:45:09.778 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 15:45:09.779 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 15:45:09.780 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 15:45:09.827 +01:00 [DBG] Connection id "0HMTI1H2MQ7UT", Request id "0HMTI1H2MQ7UT:00000011": started reading request body.
2023-09-10 15:45:09.828 +01:00 [DBG] Connection id "0HMTI1H2MQ7UT", Request id "0HMTI1H2MQ7UT:00000011": done reading request body.
2023-09-10 15:45:10.098 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 15:45:10.099 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 15:45:10.099 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 15:45:10.116 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 15:45:11.301 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 15:45:11.301 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 15:45:11.925 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 15:45:12.098 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-10 15:45:12.709 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 15:45:12.819 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 15:45:12.919 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (92ms).
2023-09-10 15:45:12.947 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:45:13.747 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:45:13.777 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 15:45:13.917 +01:00 [INF] Executed DbCommand (151ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 15:45:13.938 +01:00 [DBG] A data reader was disposed.
2023-09-10 15:45:13.944 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:45:13.959 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:45:13.966 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 15:45:13.969 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 15:45:13.969 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 15:45:13.969 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 15:45:13.969 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 15:45:13.970 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 15:45:14.104 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 4769.2991ms
2023-09-10 15:45:14.105 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 15:45:14.127 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 15:45:14.138 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52 - 400 104 application/json;+charset=utf-8 5255.6625ms
2023-09-10 15:48:08.125 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52
2023-09-10 15:48:08.143 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 15:48:08.143 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 15:48:08.143 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 15:48:08.143 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 15:48:08.144 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 15:48:08.144 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 15:48:08.144 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 15:48:08.144 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 15:48:08.144 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 15:48:08.144 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 15:48:08.144 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 15:48:08.144 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 15:48:08.145 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 15:48:08.490 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 15:48:08.492 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 15:48:08.492 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 15:48:08.493 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 15:48:08.493 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 15:48:08.493 +01:00 [DBG] Connection id "0HMTI1H2MQ7UT", Request id "0HMTI1H2MQ7UT:00000013": started reading request body.
2023-09-10 15:48:08.493 +01:00 [DBG] Connection id "0HMTI1H2MQ7UT", Request id "0HMTI1H2MQ7UT:00000013": done reading request body.
2023-09-10 15:48:08.494 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 15:48:08.494 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 15:48:08.495 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 15:48:08.496 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 15:48:08.584 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 15:48:08.592 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 15:48:08.592 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 15:48:08.592 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:48:08.595 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:48:08.596 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 15:48:08.607 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 15:48:08.608 +01:00 [DBG] A data reader was disposed.
2023-09-10 15:48:08.608 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:48:08.608 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:48:08.632 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 15:48:08.633 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 15:48:08.633 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 15:48:08.633 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 15:48:08.634 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 15:48:08.634 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 15:48:08.635 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 490.0979ms
2023-09-10 15:48:08.635 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 15:48:08.635 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 15:48:08.635 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52 - 400 104 application/json;+charset=utf-8 510.2191ms
2023-09-10 15:48:49.840 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 91
2023-09-10 15:48:49.846 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-10 15:48:49.846 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-10 15:48:49.846 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 15:48:49.846 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 15:48:49.852 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 15:48:49.852 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 15:48:49.859 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 15:48:49.859 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 15:48:49.860 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 15:48:49.860 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 15:48:49.860 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 15:48:49.860 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 15:48:49.860 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 15:48:49.886 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 15:48:49.886 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 15:48:49.886 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-10 15:48:49.886 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 15:48:49.886 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 15:48:49.886 +01:00 [DBG] Connection id "0HMTI1H2MQ7UT", Request id "0HMTI1H2MQ7UT:00000015": started reading request body.
2023-09-10 15:48:49.887 +01:00 [DBG] Connection id "0HMTI1H2MQ7UT", Request id "0HMTI1H2MQ7UT:00000015": done reading request body.
2023-09-10 15:48:49.889 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 15:48:49.890 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 15:48:49.890 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 15:48:49.891 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 15:48:49.980 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 15:48:49.982 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName == __username_0)'
2023-09-10 15:48:49.990 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 15:48:49.990 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 15:48:49.990 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 15:48:49.990 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:48:49.990 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:48:49.991 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 15:48:49.993 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 15:48:49.993 +01:00 [DBG] A data reader was disposed.
2023-09-10 15:48:49.993 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:48:49.993 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:48:50.010 +01:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric.
2023-09-10 15:48:50.011 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 15:48:50.011 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 15:48:50.011 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 15:48:50.011 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 15:48:50.011 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 15:48:50.011 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 15:48:50.012 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 151.8464ms
2023-09-10 15:48:50.012 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 15:48:50.012 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 15:48:50.012 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 91 - 200 68 application/json;+charset=utf-8 172.0084ms
2023-09-10 15:49:38.541 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 91
2023-09-10 15:49:38.541 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/Register'
2023-09-10 15:49:38.541 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/Register' is valid for the request path '/api/v1/UsersAuth/Register'
2023-09-10 15:49:38.541 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 15:49:38.541 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 15:49:38.542 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 15:49:38.542 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 15:49:38.542 +01:00 [INF] Route matched with {action = "Register", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 15:49:38.542 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 15:49:38.542 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 15:49:38.542 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 15:49:38.545 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 15:49:38.545 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 15:49:38.545 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 15:49:38.558 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 15:49:38.558 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 15:49:38.559 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' using the name '' in request data ...
2023-09-10 15:49:38.559 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 15:49:38.570 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 15:49:38.570 +01:00 [DBG] Connection id "0HMTI1H2MQ7UT", Request id "0HMTI1H2MQ7UT:00000017": started reading request body.
2023-09-10 15:49:38.570 +01:00 [DBG] Connection id "0HMTI1H2MQ7UT", Request id "0HMTI1H2MQ7UT:00000017": done reading request body.
2023-09-10 15:49:38.572 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 15:49:38.572 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 15:49:38.572 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO' ...
2023-09-10 15:49:38.572 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.RegistrationRequestDTO'.
2023-09-10 15:49:38.574 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 15:49:38.575 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 15:49:38.575 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 15:49:38.575 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:49:38.575 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:49:38.575 +01:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 15:49:38.578 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2023-09-10 15:49:38.578 +01:00 [DBG] A data reader was disposed.
2023-09-10 15:49:38.578 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:49:38.578 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:49:38.579 +01:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric.
2023-09-10 15:49:38.579 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 15:49:38.579 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 15:49:38.579 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 15:49:38.579 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 15:49:38.579 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 15:49:38.579 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 15:49:38.579 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI) in 33.7619ms
2023-09-10 15:49:38.579 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Register (MagicVilla_VillaAPI)'
2023-09-10 15:49:38.579 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 15:49:38.579 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/Register application/json-patch+json 91 - 200 68 application/json;+charset=utf-8 38.5927ms
2023-09-10 15:49:54.845 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52
2023-09-10 15:49:54.845 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 15:49:54.845 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 15:49:54.845 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 15:49:54.845 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 15:49:54.845 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 15:49:54.845 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 15:49:54.845 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 15:49:54.845 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 15:49:54.845 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 15:49:54.845 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 15:49:54.846 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 15:49:54.846 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 15:49:54.846 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 15:49:54.846 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 15:49:54.846 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 15:49:54.846 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 15:49:54.846 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 15:49:54.846 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 15:49:54.846 +01:00 [DBG] Connection id "0HMTI1H2MQ7UT", Request id "0HMTI1H2MQ7UT:00000019": started reading request body.
2023-09-10 15:49:54.846 +01:00 [DBG] Connection id "0HMTI1H2MQ7UT", Request id "0HMTI1H2MQ7UT:00000019": done reading request body.
2023-09-10 15:49:54.846 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 15:49:54.847 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 15:49:54.847 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 15:49:54.847 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 15:49:54.847 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 15:49:54.852 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 15:49:54.852 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 15:49:54.852 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:49:54.852 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:49:54.852 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 15:49:54.869 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 15:49:54.869 +01:00 [DBG] A data reader was disposed.
2023-09-10 15:49:54.869 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:49:54.869 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 15:49:54.869 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 15:49:54.870 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 15:49:54.870 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 15:49:54.870 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 15:49:54.870 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 15:49:54.870 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 15:49:54.870 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 24.3291ms
2023-09-10 15:49:54.870 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 15:49:54.870 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 15:49:54.870 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52 - 400 104 application/json;+charset=utf-8 25.4359ms
2023-09-10 16:26:40.284 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 16:26:40.466 +01:00 [DBG] Hosting starting
2023-09-10 16:26:40.540 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 16:26:40.543 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 16:26:40.556 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 16:26:40.567 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 16:26:40.570 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:26:40.575 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 16:26:40.577 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:26:40.584 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 16:26:40.586 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 16:26:40.589 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 16:26:40.590 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 16:26:40.843 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 16:26:40.937 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 16:26:40.937 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 16:26:40.937 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 16:26:40.937 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 16:26:40.937 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 16:26:40.938 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 16:26:40.938 +01:00 [INF] Hosting environment: Development
2023-09-10 16:26:40.938 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 16:26:40.938 +01:00 [DBG] Hosting started
2023-09-10 16:26:41.292 +01:00 [DBG] Connection id "0HMTI29AKDFQ9" received FIN.
2023-09-10 16:26:41.344 +01:00 [DBG] Connection id "0HMTI29AKDFQ9" accepted.
2023-09-10 16:26:41.353 +01:00 [DBG] Connection id "0HMTI29AKDFQ9" started.
2023-09-10 16:26:41.428 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:26:41.491 +01:00 [DBG] Connection id "0HMTI29AKDFQ9" stopped.
2023-09-10 16:26:41.497 +01:00 [DBG] Connection id "0HMTI29AKDFQ9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:26:41.841 +01:00 [DBG] Connection id "0HMTI29AKDFQA" accepted.
2023-09-10 16:26:41.937 +01:00 [DBG] Connection id "0HMTI29AKDFQA" started.
2023-09-10 16:26:42.085 +01:00 [DBG] Connection id "0HMTI29AKDFQA" received FIN.
2023-09-10 16:26:42.086 +01:00 [DBG] Connection id "0HMTI29AKDFQB" accepted.
2023-09-10 16:26:42.088 +01:00 [DBG] Connection id "0HMTI29AKDFQB" started.
2023-09-10 16:26:42.104 +01:00 [DBG] Connection id "0HMTI29AKDFQB" received FIN.
2023-09-10 16:26:42.105 +01:00 [DBG] Connection id "0HMTI29AKDFQC" accepted.
2023-09-10 16:26:42.105 +01:00 [DBG] Connection id "0HMTI29AKDFQC" started.
2023-09-10 16:26:42.107 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:26:42.107 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:26:42.110 +01:00 [DBG] Connection id "0HMTI29AKDFQB" stopped.
2023-09-10 16:26:42.110 +01:00 [DBG] Connection id "0HMTI29AKDFQA" stopped.
2023-09-10 16:26:42.110 +01:00 [DBG] Connection id "0HMTI29AKDFQB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:26:42.110 +01:00 [DBG] Connection id "0HMTI29AKDFQA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:26:42.142 +01:00 [DBG] Connection 0HMTI29AKDFQC established using the following protocol: "Tls12"
2023-09-10 16:26:42.306 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 16:26:42.392 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 16:26:42.458 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 16:26:42.459 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:26:42.576 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 280.3929ms
2023-09-10 16:26:42.601 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 16:26:42.603 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 16:26:42.603 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:26:43.053 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 16:26:43.434 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 16:26:43.434 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 16:26:43.434 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 16:26:43.434 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 16:26:43.434 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:26:43.434 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:26:43.435 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 16:26:43.435 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 16:26:43.435 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 16:26:43.435 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:26:43.445 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 9.8818ms
2023-09-10 16:26:43.457 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 16:26:43.528 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 16:26:43.529 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 94.1610ms
2023-09-10 16:26:43.531 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 16:26:43.532 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 97.7983ms
2023-09-10 16:26:43.537 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 936.1783ms
2023-09-10 16:26:43.547 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 16:26:43.629 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 16:26:43.630 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 195.6947ms
2023-09-10 16:26:43.679 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 132.1801ms
2023-09-10 16:26:44.288 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 16:26:44.288 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 16:26:44.288 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:26:45.061 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 773.3038ms
2023-09-10 16:30:30.945 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52
2023-09-10 16:30:30.994 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:30:31.026 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:30:31.043 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:30:31.044 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 16:30:31.276 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 16:30:31.281 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:30:31.390 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 16:30:31.392 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 16:30:31.392 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 16:30:31.393 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:30:31.394 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 16:30:31.394 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:30:31.396 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:30:31.860 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 16:30:31.949 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:30:31.983 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:30:31.990 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 16:30:31.991 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:30:31.992 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:30:32.031 +01:00 [DBG] Connection id "0HMTI29AKDFQC", Request id "0HMTI29AKDFQC:00000011": started reading request body.
2023-09-10 16:30:32.032 +01:00 [DBG] Connection id "0HMTI29AKDFQC", Request id "0HMTI29AKDFQC:00000011": done reading request body.
2023-09-10 16:30:32.446 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:30:32.446 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:30:32.446 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:30:32.471 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:30:34.398 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 16:30:34.399 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 16:30:35.459 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 16:30:35.769 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-09-10 16:30:36.824 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-10 16:30:37.035 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 16:30:37.157 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (111ms).
2023-09-10 16:30:37.217 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:30:38.124 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:30:38.171 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 16:30:38.462 +01:00 [INF] Executed DbCommand (301ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 16:30:38.550 +01:00 [DBG] A data reader was disposed.
2023-09-10 16:30:38.576 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:30:38.607 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:30:38.633 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 16:30:38.643 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 16:30:38.643 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 16:30:38.643 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 16:30:38.644 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 16:30:38.645 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 16:30:38.830 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 7419.675ms
2023-09-10 16:30:38.834 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:30:38.861 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 16:30:38.871 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52 - 400 104 application/json;+charset=utf-8 7926.3207ms
2023-09-10 16:33:40.473 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 52
2023-09-10 16:33:40.479 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:33:40.479 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:33:40.479 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:33:40.479 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 16:33:40.480 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 16:33:40.480 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:33:40.481 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 16:33:40.481 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 16:33:40.481 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 16:33:40.482 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:33:40.482 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 16:33:40.482 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:33:40.482 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:33:40.499 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:33:40.500 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:33:40.500 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 16:33:40.500 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:33:40.500 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:33:40.500 +01:00 [DBG] Connection id "0HMTI29AKDFQC", Request id "0HMTI29AKDFQC:00000013": started reading request body.
2023-09-10 16:33:40.500 +01:00 [DBG] Connection id "0HMTI29AKDFQC", Request id "0HMTI29AKDFQC:00000013": done reading request body.
2023-09-10 16:33:40.500 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:33:40.500 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:33:40.500 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:33:40.501 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:33:46.307 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 16:33:46.312 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 16:33:46.313 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 16:33:46.313 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:33:46.315 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:33:46.315 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 16:33:46.372 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-09-10 16:33:46.372 +01:00 [DBG] A data reader was disposed.
2023-09-10 16:33:46.373 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:33:46.373 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:37:05.432 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 16:37:05.613 +01:00 [DBG] Hosting starting
2023-09-10 16:37:05.683 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 16:37:05.687 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 16:37:05.709 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 16:37:05.725 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 16:37:05.731 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:37:05.736 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 16:37:05.737 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:37:05.746 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 16:37:05.749 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 16:37:05.752 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 16:37:05.753 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 16:37:05.985 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 16:37:06.060 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 16:37:06.060 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 16:37:06.060 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 16:37:06.060 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 16:37:06.060 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 16:37:06.061 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 16:37:06.061 +01:00 [INF] Hosting environment: Development
2023-09-10 16:37:06.061 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 16:37:06.061 +01:00 [DBG] Hosting started
2023-09-10 16:37:06.290 +01:00 [DBG] Connection id "0HMTI2F4SREU3" received FIN.
2023-09-10 16:37:06.290 +01:00 [DBG] Connection id "0HMTI2F4SREU4" received FIN.
2023-09-10 16:37:06.346 +01:00 [DBG] Connection id "0HMTI2F4SREU3" accepted.
2023-09-10 16:37:06.346 +01:00 [DBG] Connection id "0HMTI2F4SREU4" accepted.
2023-09-10 16:37:06.350 +01:00 [DBG] Connection id "0HMTI2F4SREU4" started.
2023-09-10 16:37:06.350 +01:00 [DBG] Connection id "0HMTI2F4SREU3" started.
2023-09-10 16:37:06.386 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:37:06.386 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:37:06.459 +01:00 [DBG] Connection id "0HMTI2F4SREU4" stopped.
2023-09-10 16:37:06.459 +01:00 [DBG] Connection id "0HMTI2F4SREU3" stopped.
2023-09-10 16:37:06.467 +01:00 [DBG] Connection id "0HMTI2F4SREU4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:37:06.468 +01:00 [DBG] Connection id "0HMTI2F4SREU3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:37:06.774 +01:00 [DBG] Connection id "0HMTI2F4SREU5" accepted.
2023-09-10 16:37:06.814 +01:00 [DBG] Connection id "0HMTI2F4SREU5" started.
2023-09-10 16:37:07.060 +01:00 [DBG] Connection id "0HMTI2F4SREU5" received FIN.
2023-09-10 16:37:07.061 +01:00 [DBG] Connection id "0HMTI2F4SREU6" accepted.
2023-09-10 16:37:07.061 +01:00 [DBG] Connection id "0HMTI2F4SREU6" started.
2023-09-10 16:37:07.066 +01:00 [DBG] Connection id "0HMTI2F4SREU6" received FIN.
2023-09-10 16:37:07.074 +01:00 [DBG] Connection id "0HMTI2F4SREU7" accepted.
2023-09-10 16:37:07.074 +01:00 [DBG] Connection id "0HMTI2F4SREU7" started.
2023-09-10 16:37:07.079 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:37:07.080 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:37:07.081 +01:00 [DBG] Connection id "0HMTI2F4SREU5" stopped.
2023-09-10 16:37:07.081 +01:00 [DBG] Connection id "0HMTI2F4SREU6" stopped.
2023-09-10 16:37:07.081 +01:00 [DBG] Connection id "0HMTI2F4SREU6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:37:07.081 +01:00 [DBG] Connection id "0HMTI2F4SREU5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:37:07.111 +01:00 [DBG] Connection 0HMTI2F4SREU7 established using the following protocol: "Tls12"
2023-09-10 16:37:07.271 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 16:37:07.372 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 16:37:07.425 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 16:37:07.425 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:37:07.531 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 272.5447ms
2023-09-10 16:37:07.558 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 16:37:07.560 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 16:37:07.560 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:37:08.015 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 16:37:08.368 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 16:37:08.368 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 16:37:08.368 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 16:37:08.368 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 16:37:08.368 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 16:37:08.368 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:37:08.369 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:37:08.369 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 16:37:08.369 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 16:37:08.369 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:37:08.384 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 16:37:08.387 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 828.7596ms
2023-09-10 16:37:08.406 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 37.6440ms
2023-09-10 16:37:08.418 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 16:37:08.420 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 51.5479ms
2023-09-10 16:37:08.453 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 16:37:08.454 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 16:37:08.454 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 85.8042ms
2023-09-10 16:37:08.454 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 85.9123ms
2023-09-10 16:37:08.478 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 16:37:08.551 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 72.8784ms
2023-09-10 16:37:09.100 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 16:37:09.101 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 16:37:09.101 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:37:09.874 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 773.8868ms
2023-09-10 16:37:57.250 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 62
2023-09-10 16:37:57.285 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:37:57.315 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:37:57.328 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:37:57.328 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 16:37:57.569 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 16:37:57.582 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:37:57.736 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 16:37:57.739 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 16:37:57.740 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 16:37:57.740 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:37:57.741 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 16:37:57.741 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:37:57.742 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:37:58.198 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 16:37:58.324 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:37:58.360 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:37:58.368 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 16:37:58.372 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:37:58.373 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:37:58.419 +01:00 [DBG] Connection id "0HMTI2F4SREU7", Request id "0HMTI2F4SREU7:00000011": started reading request body.
2023-09-10 16:37:58.419 +01:00 [DBG] Connection id "0HMTI2F4SREU7", Request id "0HMTI2F4SREU7:00000011": done reading request body.
2023-09-10 16:37:58.876 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:37:58.876 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:37:58.876 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:37:58.896 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:38:13.114 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 16:38:13.114 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 16:38:14.268 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 16:38:14.458 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-10 16:38:15.517 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 16:38:15.748 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 16:38:15.893 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (130ms).
2023-09-10 16:38:15.943 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:38:16.715 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:38:16.757 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 16:38:16.928 +01:00 [INF] Executed DbCommand (190ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 16:38:17.014 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 16:38:17.146 +01:00 [DBG] A data reader was disposed.
2023-09-10 16:38:17.156 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:38:17.182 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:39:06.850 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-09-10 16:39:06.934 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-10 16:39:06.981 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 16:39:06.981 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 16:39:06.999 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:39:07.015 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:39:07.019 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 16:39:07.134 +01:00 [INF] Executed DbCommand (114ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 16:39:07.185 +01:00 [DBG] A data reader was disposed.
2023-09-10 16:39:07.198 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:39:07.200 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:40:52.436 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 16:40:52.754 +01:00 [DBG] Hosting starting
2023-09-10 16:40:52.839 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 16:40:52.845 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 16:40:52.863 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 16:40:52.882 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 16:40:52.884 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:40:52.889 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 16:40:52.891 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:40:52.899 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 16:40:52.901 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 16:40:52.904 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 16:40:52.905 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 16:40:53.150 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 16:40:53.227 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 16:40:53.227 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 16:40:53.227 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 16:40:53.227 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 16:40:53.227 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 16:40:53.228 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 16:40:53.228 +01:00 [INF] Hosting environment: Development
2023-09-10 16:40:53.228 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 16:40:53.228 +01:00 [DBG] Hosting started
2023-09-10 16:40:53.280 +01:00 [DBG] Connection id "0HMTI2H8HJPN0" received FIN.
2023-09-10 16:40:53.310 +01:00 [DBG] Connection id "0HMTI2H8HJPN0" accepted.
2023-09-10 16:40:53.314 +01:00 [DBG] Connection id "0HMTI2H8HJPN0" started.
2023-09-10 16:40:53.360 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:40:53.443 +01:00 [DBG] Connection id "0HMTI2H8HJPN0" stopped.
2023-09-10 16:40:53.451 +01:00 [DBG] Connection id "0HMTI2H8HJPN0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:40:53.740 +01:00 [DBG] Connection id "0HMTI2H8HJPN1" accepted.
2023-09-10 16:40:53.740 +01:00 [DBG] Connection id "0HMTI2H8HJPN1" started.
2023-09-10 16:40:54.033 +01:00 [DBG] Connection id "0HMTI2H8HJPN2" accepted.
2023-09-10 16:40:54.035 +01:00 [DBG] Connection id "0HMTI2H8HJPN1" received FIN.
2023-09-10 16:40:54.035 +01:00 [DBG] Connection id "0HMTI2H8HJPN2" started.
2023-09-10 16:40:54.066 +01:00 [DBG] Connection id "0HMTI2H8HJPN3" accepted.
2023-09-10 16:40:54.066 +01:00 [DBG] Connection id "0HMTI2H8HJPN2" received FIN.
2023-09-10 16:40:54.068 +01:00 [DBG] Connection id "0HMTI2H8HJPN3" started.
2023-09-10 16:40:54.090 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:40:54.090 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:40:54.092 +01:00 [DBG] Connection id "0HMTI2H8HJPN1" stopped.
2023-09-10 16:40:54.092 +01:00 [DBG] Connection id "0HMTI2H8HJPN2" stopped.
2023-09-10 16:40:54.092 +01:00 [DBG] Connection id "0HMTI2H8HJPN1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:40:54.092 +01:00 [DBG] Connection id "0HMTI2H8HJPN2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:40:54.109 +01:00 [DBG] Connection 0HMTI2H8HJPN3 established using the following protocol: "Tls12"
2023-09-10 16:40:54.260 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 16:40:54.354 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 16:40:54.437 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 16:40:54.437 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:40:54.533 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 283.9742ms
2023-09-10 16:40:54.554 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 16:40:54.555 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 16:40:54.555 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:40:54.959 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 16:40:55.274 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 16:40:55.274 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 16:40:55.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 16:40:55.275 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:40:55.275 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 16:40:55.275 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:40:55.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 16:40:55.282 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 16:40:55.285 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 16:40:55.285 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 16:40:55.285 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:40:55.285 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 10.1450ms
2023-09-10 16:40:55.288 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 732.4077ms
2023-09-10 16:40:55.353 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 16:40:55.353 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 16:40:55.354 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 69.4340ms
2023-09-10 16:40:55.354 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 79.5088ms
2023-09-10 16:40:55.359 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 16:40:55.360 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 85.7389ms
2023-09-10 16:40:55.370 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 16:40:55.455 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 85.4112ms
2023-09-10 16:40:55.921 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 16:40:55.921 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 16:40:55.921 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:40:56.430 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 509.4061ms
2023-09-10 16:42:16.424 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 62
2023-09-10 16:42:16.477 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:42:16.531 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:42:16.544 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:42:16.544 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 16:42:16.757 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 16:42:16.762 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:42:16.874 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 16:42:16.876 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 16:42:16.876 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 16:42:16.876 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:42:16.876 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 16:42:16.877 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:42:16.878 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:42:17.308 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 16:42:17.409 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:42:17.436 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:42:17.441 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 16:42:17.442 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:42:17.443 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:42:17.478 +01:00 [DBG] Connection id "0HMTI2H8HJPN3", Request id "0HMTI2H8HJPN3:00000011": started reading request body.
2023-09-10 16:42:17.479 +01:00 [DBG] Connection id "0HMTI2H8HJPN3", Request id "0HMTI2H8HJPN3:00000011": done reading request body.
2023-09-10 16:42:17.872 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:42:17.872 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:42:17.872 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:42:17.889 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:42:39.715 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 16:42:39.911 +01:00 [DBG] Hosting starting
2023-09-10 16:42:39.970 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 16:42:39.973 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 16:42:39.986 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 16:42:39.998 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 16:42:40.000 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:42:40.005 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 16:42:40.007 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:42:40.019 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 16:42:40.023 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 16:42:40.028 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 16:42:40.028 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 16:42:40.256 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 16:42:40.397 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 16:42:40.397 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 16:42:40.397 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 16:42:40.397 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 16:42:40.397 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 16:42:40.398 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 16:42:40.398 +01:00 [INF] Hosting environment: Development
2023-09-10 16:42:40.398 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 16:42:40.398 +01:00 [DBG] Hosting started
2023-09-10 16:42:40.446 +01:00 [DBG] Connection id "0HMTI2I8FIMNQ" accepted.
2023-09-10 16:42:40.448 +01:00 [DBG] Connection id "0HMTI2I8FIMNQ" started.
2023-09-10 16:42:40.486 +01:00 [DBG] Connection id "0HMTI2I8FIMNQ" received FIN.
2023-09-10 16:42:40.514 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:42:40.587 +01:00 [DBG] Connection id "0HMTI2I8FIMNQ" stopped.
2023-09-10 16:42:40.590 +01:00 [DBG] Connection id "0HMTI2I8FIMNQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:42:40.935 +01:00 [DBG] Connection id "0HMTI2I8FIMNR" accepted.
2023-09-10 16:42:40.946 +01:00 [DBG] Connection id "0HMTI2I8FIMNR" started.
2023-09-10 16:42:41.222 +01:00 [DBG] Connection id "0HMTI2I8FIMNS" accepted.
2023-09-10 16:42:41.226 +01:00 [DBG] Connection id "0HMTI2I8FIMNS" started.
2023-09-10 16:42:41.227 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:42:41.229 +01:00 [DBG] Connection id "0HMTI2I8FIMNR" received FIN.
2023-09-10 16:42:41.230 +01:00 [DBG] Connection id "0HMTI2I8FIMNR" stopped.
2023-09-10 16:42:41.231 +01:00 [DBG] Connection id "0HMTI2I8FIMNR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:42:41.232 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:42:41.233 +01:00 [DBG] Connection id "0HMTI2I8FIMNT" accepted.
2023-09-10 16:42:41.233 +01:00 [DBG] Connection id "0HMTI2I8FIMNS" received FIN.
2023-09-10 16:42:41.233 +01:00 [DBG] Connection id "0HMTI2I8FIMNT" started.
2023-09-10 16:42:41.233 +01:00 [DBG] Connection id "0HMTI2I8FIMNS" stopped.
2023-09-10 16:42:41.234 +01:00 [DBG] Connection id "0HMTI2I8FIMNS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:42:41.279 +01:00 [DBG] Connection 0HMTI2I8FIMNT established using the following protocol: "Tls12"
2023-09-10 16:42:41.437 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 16:42:41.548 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 16:42:41.604 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 16:42:41.604 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:42:41.722 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 297.0087ms
2023-09-10 16:42:41.750 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 16:42:41.751 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 16:42:41.751 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:42:42.142 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 16:42:42.505 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 16:42:42.505 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 16:42:42.505 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 16:42:42.506 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 16:42:42.506 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:42:42.506 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 16:42:42.506 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 16:42:42.506 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:42:42.506 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:42:42.507 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 16:42:42.517 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 9.9070ms
2023-09-10 16:42:42.530 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 16:42:42.543 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 793.0082ms
2023-09-10 16:42:42.574 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 16:42:42.574 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 16:42:42.574 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 68.5810ms
2023-09-10 16:42:42.574 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 69.4560ms
2023-09-10 16:42:42.583 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 16:42:42.584 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 78.1449ms
2023-09-10 16:42:42.607 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 16:42:42.672 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.3027ms
2023-09-10 16:42:43.240 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 16:42:43.241 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 16:42:43.241 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:42:44.014 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 774.1188ms
2023-09-10 16:43:56.415 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 62
2023-09-10 16:43:56.446 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:43:56.476 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:43:56.491 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:43:56.491 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 16:43:56.695 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 16:43:56.707 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:43:56.827 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 16:43:56.829 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 16:43:56.829 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 16:43:56.830 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:43:56.830 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 16:43:56.830 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:43:56.832 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:43:57.337 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 16:43:57.435 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:43:57.459 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:43:57.465 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 16:43:57.468 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:43:57.469 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:43:57.508 +01:00 [DBG] Connection id "0HMTI2I8FIMNT", Request id "0HMTI2I8FIMNT:00000011": started reading request body.
2023-09-10 16:43:57.508 +01:00 [DBG] Connection id "0HMTI2I8FIMNT", Request id "0HMTI2I8FIMNT:00000011": done reading request body.
2023-09-10 16:43:57.890 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:43:57.890 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:43:57.890 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:43:57.907 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:43:59.887 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 16:43:59.887 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 16:44:00.923 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 16:44:01.139 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-10 16:44:02.579 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 16:44:02.773 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 16:44:02.905 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (115ms).
2023-09-10 16:44:02.957 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:44:03.775 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:44:03.825 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 16:44:04.086 +01:00 [INF] Executed DbCommand (273ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 16:44:04.238 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 16:44:04.401 +01:00 [DBG] A data reader was disposed.
2023-09-10 16:44:04.411 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:44:04.440 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:44:04.534 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-09-10 16:44:04.629 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-10 16:44:04.685 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 16:44:04.686 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 16:44:04.705 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:44:04.725 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:44:04.729 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 16:44:04.826 +01:00 [INF] Executed DbCommand (94ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 16:44:04.883 +01:00 [DBG] A data reader was disposed.
2023-09-10 16:44:04.898 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:44:04.900 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:47:57.112 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 16:47:57.297 +01:00 [DBG] Hosting starting
2023-09-10 16:47:57.358 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 16:47:57.362 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 16:47:57.374 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 16:47:57.385 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 16:47:57.387 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:47:57.392 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 16:47:57.393 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:47:57.399 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 16:47:57.401 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 16:47:57.404 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 16:47:57.405 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 16:47:57.647 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 16:47:57.743 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 16:47:57.743 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 16:47:57.744 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 16:47:57.744 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 16:47:57.744 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 16:47:57.745 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 16:47:57.745 +01:00 [INF] Hosting environment: Development
2023-09-10 16:47:57.745 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 16:47:57.746 +01:00 [DBG] Hosting started
2023-09-10 16:47:57.995 +01:00 [DBG] Connection id "0HMTI2L740C02" received FIN.
2023-09-10 16:47:58.051 +01:00 [DBG] Connection id "0HMTI2L740C02" accepted.
2023-09-10 16:47:58.057 +01:00 [DBG] Connection id "0HMTI2L740C02" started.
2023-09-10 16:47:58.109 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:47:58.166 +01:00 [DBG] Connection id "0HMTI2L740C02" stopped.
2023-09-10 16:47:58.172 +01:00 [DBG] Connection id "0HMTI2L740C02" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:47:58.599 +01:00 [DBG] Connection id "0HMTI2L740C03" accepted.
2023-09-10 16:47:58.612 +01:00 [DBG] Connection id "0HMTI2L740C03" started.
2023-09-10 16:47:58.693 +01:00 [DBG] Connection id "0HMTI2L740C04" accepted.
2023-09-10 16:47:58.694 +01:00 [DBG] Connection id "0HMTI2L740C03" received FIN.
2023-09-10 16:47:58.694 +01:00 [DBG] Connection id "0HMTI2L740C04" started.
2023-09-10 16:47:58.707 +01:00 [DBG] Connection id "0HMTI2L740C05" accepted.
2023-09-10 16:47:58.707 +01:00 [DBG] Connection id "0HMTI2L740C04" received FIN.
2023-09-10 16:47:58.707 +01:00 [DBG] Connection id "0HMTI2L740C05" started.
2023-09-10 16:47:58.737 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:47:58.737 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:47:58.739 +01:00 [DBG] Connection id "0HMTI2L740C03" stopped.
2023-09-10 16:47:58.739 +01:00 [DBG] Connection id "0HMTI2L740C04" stopped.
2023-09-10 16:47:58.740 +01:00 [DBG] Connection id "0HMTI2L740C03" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:47:58.740 +01:00 [DBG] Connection id "0HMTI2L740C04" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:47:58.756 +01:00 [DBG] Connection 0HMTI2L740C05 established using the following protocol: "Tls12"
2023-09-10 16:47:58.916 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 16:47:59.016 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 16:47:59.098 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 16:47:59.098 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:47:59.230 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 326.0288ms
2023-09-10 16:47:59.249 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 16:47:59.251 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 16:47:59.251 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:47:59.826 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 16:48:00.175 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 16:48:00.176 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 16:48:00.176 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:48:00.178 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 16:48:00.178 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 16:48:00.178 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:48:00.178 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 16:48:00.178 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 16:48:00.178 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:48:00.179 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 16:48:00.179 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 16:48:00.189 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 939.9493ms
2023-09-10 16:48:00.191 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 12.3968ms
2023-09-10 16:48:00.263 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 16:48:00.263 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 16:48:00.264 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 85.3164ms
2023-09-10 16:48:00.264 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 88.8005ms
2023-09-10 16:48:00.282 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 16:48:00.283 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 104.6643ms
2023-09-10 16:48:00.288 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 16:48:00.391 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 102.6367ms
2023-09-10 16:48:00.925 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 16:48:00.925 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 16:48:00.925 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:48:01.678 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 753.3554ms
2023-09-10 16:49:10.917 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 62
2023-09-10 16:49:10.944 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:49:10.967 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:49:10.976 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:49:10.977 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 16:49:11.149 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 16:49:11.154 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:49:11.259 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 16:49:11.262 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 16:49:11.263 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 16:49:11.263 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:49:11.263 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 16:49:11.263 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:49:11.265 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:49:11.682 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 16:49:11.794 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:49:11.818 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:49:11.824 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 16:49:11.825 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:49:11.826 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:49:11.865 +01:00 [DBG] Connection id "0HMTI2L740C05", Request id "0HMTI2L740C05:00000011": started reading request body.
2023-09-10 16:49:11.866 +01:00 [DBG] Connection id "0HMTI2L740C05", Request id "0HMTI2L740C05:00000011": done reading request body.
2023-09-10 16:49:12.282 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:49:12.282 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:49:12.283 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:49:12.309 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:49:14.278 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 16:49:14.278 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 16:49:15.696 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 16:49:15.956 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-10 16:49:17.063 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 16:49:17.239 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 16:49:17.365 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (104ms).
2023-09-10 16:49:17.412 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:49:18.244 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:49:18.301 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 16:49:18.510 +01:00 [INF] Executed DbCommand (234ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 16:49:18.626 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 16:49:18.777 +01:00 [DBG] A data reader was disposed.
2023-09-10 16:49:18.786 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:49:18.815 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:49:18.912 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-09-10 16:49:19.000 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-10 16:49:19.051 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 16:49:19.052 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 16:49:19.076 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:49:19.096 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:49:19.099 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 16:49:19.204 +01:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 16:49:19.261 +01:00 [DBG] A data reader was disposed.
2023-09-10 16:49:19.276 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:49:19.279 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:51:12.005 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 16:51:12.197 +01:00 [DBG] Hosting starting
2023-09-10 16:51:12.261 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 16:51:12.264 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 16:51:12.276 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 16:51:12.287 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 16:51:12.290 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:51:12.294 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 16:51:12.296 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:51:12.302 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 16:51:12.304 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 16:51:12.308 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 16:51:12.308 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 16:51:12.553 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 16:51:12.622 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 16:51:12.622 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 16:51:12.622 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 16:51:12.623 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 16:51:12.623 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 16:51:12.624 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 16:51:12.624 +01:00 [INF] Hosting environment: Development
2023-09-10 16:51:12.624 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 16:51:12.625 +01:00 [DBG] Hosting started
2023-09-10 16:51:13.120 +01:00 [DBG] Connection id "0HMTI2N18Q2L1" accepted.
2023-09-10 16:51:13.122 +01:00 [DBG] Connection id "0HMTI2N18Q2L1" started.
2023-09-10 16:51:13.140 +01:00 [DBG] Connection id "0HMTI2N18Q2L1" received FIN.
2023-09-10 16:51:13.154 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:51:13.227 +01:00 [DBG] Connection id "0HMTI2N18Q2L1" stopped.
2023-09-10 16:51:13.230 +01:00 [DBG] Connection id "0HMTI2N18Q2L1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:51:13.628 +01:00 [DBG] Connection id "0HMTI2N18Q2L2" accepted.
2023-09-10 16:51:13.684 +01:00 [DBG] Connection id "0HMTI2N18Q2L2" started.
2023-09-10 16:51:13.849 +01:00 [DBG] Connection id "0HMTI2N18Q2L3" accepted.
2023-09-10 16:51:13.849 +01:00 [DBG] Connection id "0HMTI2N18Q2L2" received FIN.
2023-09-10 16:51:13.850 +01:00 [DBG] Connection id "0HMTI2N18Q2L3" started.
2023-09-10 16:51:13.860 +01:00 [DBG] Connection id "0HMTI2N18Q2L3" received FIN.
2023-09-10 16:51:13.866 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:51:13.868 +01:00 [DBG] Connection id "0HMTI2N18Q2L4" accepted.
2023-09-10 16:51:13.868 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:51:13.869 +01:00 [DBG] Connection id "0HMTI2N18Q2L2" stopped.
2023-09-10 16:51:13.869 +01:00 [DBG] Connection id "0HMTI2N18Q2L3" stopped.
2023-09-10 16:51:13.869 +01:00 [DBG] Connection id "0HMTI2N18Q2L4" started.
2023-09-10 16:51:13.871 +01:00 [DBG] Connection id "0HMTI2N18Q2L2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:51:13.872 +01:00 [DBG] Connection id "0HMTI2N18Q2L3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:51:13.909 +01:00 [DBG] Connection 0HMTI2N18Q2L4 established using the following protocol: "Tls12"
2023-09-10 16:51:14.065 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 16:51:14.178 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 16:51:14.267 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 16:51:14.268 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:51:14.426 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 374.0272ms
2023-09-10 16:51:14.457 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 16:51:14.459 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 16:51:14.459 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:51:14.899 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 16:51:15.234 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 16:51:15.234 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 16:51:15.234 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 16:51:15.234 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 16:51:15.234 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:51:15.234 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:51:15.234 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 16:51:15.235 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 16:51:15.235 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:51:15.238 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 16:51:15.249 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 10.7127ms
2023-09-10 16:51:15.254 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 16:51:15.278 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 820.3703ms
2023-09-10 16:51:15.331 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 16:51:15.331 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 16:51:15.335 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 100.7334ms
2023-09-10 16:51:15.335 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 101.6826ms
2023-09-10 16:51:15.353 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 16:51:15.353 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 119.5167ms
2023-09-10 16:51:15.380 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 16:51:15.496 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 116.1112ms
2023-09-10 16:51:16.130 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 16:51:16.130 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 16:51:16.131 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:51:16.911 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 780.9994ms
2023-09-10 16:51:43.068 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 62
2023-09-10 16:51:43.098 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:51:43.128 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:51:43.146 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:51:43.146 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 16:51:43.355 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 16:51:43.364 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:51:43.471 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 16:51:43.473 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 16:51:43.473 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 16:51:43.474 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:51:43.474 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 16:51:43.474 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:51:43.477 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:51:43.951 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 16:51:44.050 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:51:44.081 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:51:44.086 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 16:51:44.088 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:51:44.089 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:51:44.131 +01:00 [DBG] Connection id "0HMTI2N18Q2L4", Request id "0HMTI2N18Q2L4:00000011": started reading request body.
2023-09-10 16:51:44.132 +01:00 [DBG] Connection id "0HMTI2N18Q2L4", Request id "0HMTI2N18Q2L4:00000011": done reading request body.
2023-09-10 16:51:44.522 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:51:44.522 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:51:44.522 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:51:44.542 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:51:46.602 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 16:51:46.603 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 16:51:47.797 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 16:51:48.014 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-10 16:51:49.127 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 16:51:49.303 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 16:51:49.433 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (119ms).
2023-09-10 16:51:49.472 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:51:50.312 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:51:50.353 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 16:51:50.542 +01:00 [INF] Executed DbCommand (203ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 16:51:50.660 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 16:51:50.804 +01:00 [DBG] A data reader was disposed.
2023-09-10 16:51:50.814 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:51:50.859 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:51:50.971 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-09-10 16:51:51.068 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-10 16:51:51.124 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 16:51:51.124 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 16:51:51.143 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:51:51.160 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:51:51.165 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 16:51:51.244 +01:00 [INF] Executed DbCommand (80ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 16:51:51.304 +01:00 [DBG] A data reader was disposed.
2023-09-10 16:51:51.318 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:51:51.320 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:57:11.136 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-10 16:57:11.327 +01:00 [DBG] Hosting starting
2023-09-10 16:57:11.408 +01:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-10 16:57:11.412 +01:00 [DBG] Reading data from file 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys\key-8bf52a84-96c1-40bc-b80f-a959d7573a4d.xml'.
2023-09-10 16:57:11.426 +01:00 [DBG] Found key {8bf52a84-96c1-40bc-b80f-a959d7573a4d}.
2023-09-10 16:57:11.440 +01:00 [DBG] Considering key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} with expiration date 2023-11-10 02:01:35Z as default key.
2023-09-10 16:57:11.443 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:57:11.448 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-10 16:57:11.450 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-10 16:57:11.456 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-10 16:57:11.459 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-10 16:57:11.462 +01:00 [DBG] Using key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} as the default key.
2023-09-10 16:57:11.463 +01:00 [DBG] Key ring with default key {8bf52a84-96c1-40bc-b80f-a959d7573a4d} was loaded during application startup.
2023-09-10 16:57:11.772 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 7C63FE5BAC6B0E4450DB5555CD951C5F06C04E54)
2023-09-10 16:57:11.841 +01:00 [INF] Now listening on: https://localhost:7132
2023-09-10 16:57:11.841 +01:00 [INF] Now listening on: http://localhost:5050
2023-09-10 16:57:11.841 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2023-09-10 16:57:11.841 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-10 16:57:11.842 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-10 16:57:11.842 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-10 16:57:11.843 +01:00 [INF] Hosting environment: Development
2023-09-10 16:57:11.843 +01:00 [INF] Content root path: C:\Users\admin\source\repos\MagicVilla\MagicVilla_VillaAPI\
2023-09-10 16:57:11.843 +01:00 [DBG] Hosting started
2023-09-10 16:57:12.073 +01:00 [DBG] Connection id "0HMTI2QC807O9" accepted.
2023-09-10 16:57:12.076 +01:00 [DBG] Connection id "0HMTI2QC807O9" started.
2023-09-10 16:57:12.081 +01:00 [DBG] Connection id "0HMTI2QC807O9" received FIN.
2023-09-10 16:57:12.108 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:57:12.200 +01:00 [DBG] Connection id "0HMTI2QC807O9" stopped.
2023-09-10 16:57:12.203 +01:00 [DBG] Connection id "0HMTI2QC807O9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:57:12.640 +01:00 [DBG] Connection id "0HMTI2QC807OA" accepted.
2023-09-10 16:57:12.640 +01:00 [DBG] Connection id "0HMTI2QC807OA" started.
2023-09-10 16:57:12.733 +01:00 [DBG] Connection id "0HMTI2QC807OB" accepted.
2023-09-10 16:57:12.733 +01:00 [DBG] Connection id "0HMTI2QC807OB" started.
2023-09-10 16:57:12.733 +01:00 [DBG] Connection id "0HMTI2QC807OA" received FIN.
2023-09-10 16:57:12.736 +01:00 [DBG] Connection id "0HMTI2QC807OB" received FIN.
2023-09-10 16:57:12.738 +01:00 [DBG] Connection id "0HMTI2QC807OC" accepted.
2023-09-10 16:57:12.738 +01:00 [DBG] Connection id "0HMTI2QC807OC" started.
2023-09-10 16:57:12.740 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:57:12.742 +01:00 [DBG] Connection id "0HMTI2QC807OA" stopped.
2023-09-10 16:57:12.742 +01:00 [DBG] Connection id "0HMTI2QC807OA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:57:12.769 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-10 16:57:12.770 +01:00 [DBG] Connection id "0HMTI2QC807OB" stopped.
2023-09-10 16:57:12.771 +01:00 [DBG] Connection id "0HMTI2QC807OB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-10 16:57:12.789 +01:00 [DBG] Connection 0HMTI2QC807OC established using the following protocol: "Tls12"
2023-09-10 16:57:12.943 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger - -
2023-09-10 16:57:13.050 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-10 16:57:13.104 +01:00 [DBG] No candidates found for the request path '/swagger'
2023-09-10 16:57:13.105 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:57:13.235 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger - - - 301 0 - 304.0340ms
2023-09-10 16:57:13.258 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/index.html - -
2023-09-10 16:57:13.260 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-09-10 16:57:13.260 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:57:13.670 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-10 16:57:14.008 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - -
2023-09-10 16:57:14.008 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - -
2023-09-10 16:57:14.009 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-09-10 16:57:14.009 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:57:14.009 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - -
2023-09-10 16:57:14.009 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-09-10 16:57:14.009 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-09-10 16:57:14.009 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:57:14.009 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:57:14.009 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - -
2023-09-10 16:57:14.021 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_framework/aspnetcore-browser-refresh.js - - - 200 12370 application/javascript;+charset=utf-8 11.7895ms
2023-09-10 16:57:14.024 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-10 16:57:14.054 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/index.html - - - 200 - text/html;charset=utf-8 795.8105ms
2023-09-10 16:57:14.086 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-10 16:57:14.087 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-10 16:57:14.089 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui.css - - - 200 144929 text/css 81.1831ms
2023-09-10 16:57:14.089 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 80.3177ms
2023-09-10 16:57:14.093 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-10 16:57:14.094 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 85.1557ms
2023-09-10 16:57:14.121 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/_vs/browserLink - -
2023-09-10 16:57:14.207 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 86.1244ms
2023-09-10 16:57:14.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - -
2023-09-10 16:57:14.781 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-09-10 16:57:14.781 +01:00 [DBG] Request did not match any endpoints
2023-09-10 16:57:15.566 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7132/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 784.6305ms
2023-09-10 16:57:42.032 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 62
2023-09-10 16:57:42.065 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:57:42.102 +01:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)' with route pattern 'api/v{version:apiVersion}/UsersAuth/login' is valid for the request path '/api/v1/UsersAuth/login'
2023-09-10 16:57:42.123 +01:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:57:42.124 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-09-10 16:57:42.380 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-10 16:57:42.390 +01:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:57:42.531 +01:00 [INF] Route matched with {action = "Login", controller = "UserAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO) on controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI).
2023-09-10 16:57:42.533 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-10 16:57:42.533 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-10 16:57:42.534 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:57:42.534 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-10 16:57:42.534 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-09-10 16:57:42.538 +01:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:57:43.188 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-10 16:57:43.282 +01:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.UserAPIController (MagicVilla_VillaAPI)
2023-09-10 16:57:43.312 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:57:43.317 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' using the name '' in request data ...
2023-09-10 16:57:43.319 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:57:43.319 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-10 16:57:43.362 +01:00 [DBG] Connection id "0HMTI2QC807OC", Request id "0HMTI2QC807OC:00000011": started reading request body.
2023-09-10 16:57:43.362 +01:00 [DBG] Connection id "0HMTI2QC807OC", Request id "0HMTI2QC807OC:00000011": done reading request body.
2023-09-10 16:57:43.829 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:57:43.829 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:57:43.830 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO' ...
2023-09-10 16:57:43.849 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_VillaAPI.Models.Dto.LoginRequestDTO'.
2023-09-10 16:57:45.834 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-09-10 16:57:45.835 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-09-10 16:57:46.865 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
2023-09-10 16:57:47.080 +01:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0)'
2023-09-10 16:57:48.205 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-09-10 16:57:48.384 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 16:57:48.506 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (111ms).
2023-09-10 16:57:48.545 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:57:49.380 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:57:49.436 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 16:57:49.628 +01:00 [INF] Executed DbCommand (216ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2023-09-10 16:57:49.750 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-10 16:57:49.899 +01:00 [DBG] A data reader was disposed.
2023-09-10 16:57:49.910 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:57:49.940 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:57:50.056 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-09-10 16:57:50.160 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-09-10 16:57:50.214 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-10 16:57:50.214 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-10 16:57:50.235 +01:00 [DBG] Opening connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:57:50.254 +01:00 [DBG] Opened connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:57:50.259 +01:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 16:57:50.349 +01:00 [INF] Executed DbCommand (91ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-09-10 16:57:50.410 +01:00 [DBG] A data reader was disposed.
2023-09-10 16:57:50.424 +01:00 [DBG] Closing connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:57:50.426 +01:00 [DBG] Closed connection to database 'Villas' on server 'DESKTOP-BC346OD\SQLEXPRESS'.
2023-09-10 16:57:50.790 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-09-10 16:57:50.797 +01:00 [DBG] No information found on request to perform content negotiation.
2023-09-10 16:57:50.797 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-10 16:57:50.797 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-10 16:57:50.798 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-10 16:57:50.799 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.APIResponse'.
2023-09-10 16:57:50.982 +01:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI) in 8432.0926ms
2023-09-10 16:57:50.987 +01:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.UserAPIController.Login (MagicVilla_VillaAPI)'
2023-09-10 16:57:51.007 +01:00 [DBG] 'ApplicationDbContext' disposed.
2023-09-10 16:57:51.016 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7132/api/v1/UsersAuth/login application/json-patch+json 62 - 400 104 application/json;+charset=utf-8 8984.2714ms
